(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function DN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fy={exports:{}},zc={},By={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),IN=Symbol.for("react.portal"),$N=Symbol.for("react.fragment"),FN=Symbol.for("react.strict_mode"),BN=Symbol.for("react.profiler"),UN=Symbol.for("react.provider"),zN=Symbol.for("react.context"),VN=Symbol.for("react.forward_ref"),qN=Symbol.for("react.suspense"),HN=Symbol.for("react.memo"),WN=Symbol.for("react.lazy"),Vp=Symbol.iterator;function KN(e){return e===null||typeof e!="object"?null:(e=Vp&&e[Vp]||e["@@iterator"],typeof e=="function"?e:null)}var Uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zy=Object.assign,Vy={};function Ua(e,t,r){this.props=e,this.context=t,this.refs=Vy,this.updater=r||Uy}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qy(){}qy.prototype=Ua.prototype;function Bm(e,t,r){this.props=e,this.context=t,this.refs=Vy,this.updater=r||Uy}var Um=Bm.prototype=new qy;Um.constructor=Bm;zy(Um,Ua.prototype);Um.isPureReactComponent=!0;var qp=Array.isArray,Hy=Object.prototype.hasOwnProperty,zm={current:null},Wy={key:!0,ref:!0,__self:!0,__source:!0};function Ky(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hy.call(t,n)&&!Wy.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yo,type:e,key:i,ref:o,props:a,_owner:zm.current}}function QN(e,t){return{$$typeof:yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===yo}function GN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hp=/\/+/g;function Jd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GN(""+e.key):t.toString(36)}function xl(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yo:case IN:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Jd(o,0):n,qp(a)?(r="",e!=null&&(r=e.replace(Hp,"$&/")+"/"),xl(a,t,r,"",function(c){return c})):a!=null&&(Vm(a)&&(a=QN(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hp,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",qp(e))for(var l=0;l<e.length;l++){i=e[l];var d=n+Jd(i,l);o+=xl(i,t,r,d,a)}else if(d=KN(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=n+Jd(i,l++),o+=xl(i,t,r,d,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(e,t,r){if(e==null)return e;var n=[],a=0;return xl(e,n,"","",function(i){return t.call(r,i,a++)}),n}function YN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _t={current:null},gl={transition:null},JN={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:gl,ReactCurrentOwner:zm};function Qy(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Io,forEach:function(e,t,r){Io(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!Vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Ua;ve.Fragment=$N;ve.Profiler=BN;ve.PureComponent=Bm;ve.StrictMode=FN;ve.Suspense=qN;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;ve.act=Qy;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zy({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Hy.call(t,d)&&!Wy.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:yo,type:e.type,key:a,ref:i,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:zN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UN,_context:e},e.Consumer=e};ve.createElement=Ky;ve.createFactory=function(e){var t=Ky.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:VN,render:e}};ve.isValidElement=Vm;ve.lazy=function(e){return{$$typeof:WN,_payload:{_status:-1,_result:e},_init:YN}};ve.memo=function(e,t){return{$$typeof:HN,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=gl.transition;gl.transition={};try{e()}finally{gl.transition=t}};ve.unstable_act=Qy;ve.useCallback=function(e,t){return _t.current.useCallback(e,t)};ve.useContext=function(e){return _t.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return _t.current.useDeferredValue(e)};ve.useEffect=function(e,t){return _t.current.useEffect(e,t)};ve.useId=function(){return _t.current.useId()};ve.useImperativeHandle=function(e,t,r){return _t.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return _t.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return _t.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return _t.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return _t.current.useReducer(e,t,r)};ve.useRef=function(e){return _t.current.useRef(e)};ve.useState=function(e){return _t.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return _t.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return _t.current.useTransition()};ve.version="18.3.1";By.exports=ve;var N=By.exports;const ke=DN(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=N,ZN=Symbol.for("react.element"),e2=Symbol.for("react.fragment"),t2=Object.prototype.hasOwnProperty,s2=XN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r2={key:!0,ref:!0,__self:!0,__source:!0};function Gy(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)t2.call(t,n)&&!r2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ZN,type:e,key:i,ref:o,props:a,_owner:s2.current}}zc.Fragment=e2;zc.jsx=Gy;zc.jsxs=Gy;Fy.exports=zc;var s=Fy.exports,th={},Yy={exports:{}},ns={},Jy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var B=$.length;$.push(L);e:for(;0<B;){var q=B-1>>>1,H=$[q];if(0<a(H,L))$[q]=L,$[B]=H,B=q;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var L=$[0],B=$.pop();if(B!==L){$[0]=B;e:for(var q=0,H=$.length,X=H>>>1;q<X;){var se=2*(q+1)-1,_=$[se],V=se+1,Q=$[V];if(0>a(_,B))V<H&&0>a(Q,_)?($[q]=Q,$[V]=B,q=V):($[q]=_,$[se]=B,q=se);else if(V<H&&0>a(Q,B))$[q]=Q,$[V]=B,q=V;else break e}}return L}function a($,L){var B=$.sortIndex-L.sortIndex;return B!==0?B:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,h=null,m=3,f=!1,p=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=$)n(c),L.sortIndex=L.expirationTime,t(d,L);else break;L=r(c)}}function x($){if(v=!1,b($),!p)if(r(d)!==null)p=!0,I(g);else{var L=r(c);L!==null&&F(x,L.startTime-$)}}function g($,L){p=!1,v&&(v=!1,w(k),k=-1),f=!0;var B=m;try{for(b(L),h=r(d);h!==null&&(!(h.expirationTime>L)||$&&!T());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var H=q(h.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(d)&&n(d),b(L)}else n(d);h=r(d)}if(h!==null)var X=!0;else{var se=r(c);se!==null&&F(x,se.startTime-L),X=!1}return X}finally{h=null,m=B,f=!1}}var S=!1,P=null,k=-1,E=5,A=-1;function T(){return!(e.unstable_now()-A<E)}function M(){if(P!==null){var $=e.unstable_now();A=$;var L=!0;try{L=P(!0,$)}finally{L?C():(S=!1,P=null)}}else S=!1}var C;if(typeof y=="function")C=function(){y(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,O=R.port2;R.port1.onmessage=M,C=function(){O.postMessage(null)}}else C=function(){j(M,0)};function I($){P=$,S||(S=!0,C())}function F($,L){k=j(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,I(g))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var B=m;m=L;try{return $()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=m;m=$;try{return L()}finally{m=B}},e.unstable_scheduleCallback=function($,L,B){var q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,$={id:u++,callback:L,priorityLevel:$,startTime:B,expirationTime:H,sortIndex:-1},B>q?($.sortIndex=B,t(c,$),r(d)===null&&$===r(c)&&(v?(w(k),k=-1):v=!0,F(x,B-q))):($.sortIndex=H,t(d,$),p||f||(p=!0,I(g))),$},e.unstable_shouldYield=T,e.unstable_wrapCallback=function($){var L=m;return function(){var B=m;m=L;try{return $.apply(this,arguments)}finally{m=B}}}})(Xy);Jy.exports=Xy;var n2=Jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=N,es=n2;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zy=new Set,Bi={};function Dn(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Bi[e]=t,e=0;e<t.length;e++)Zy.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wp={},Kp={};function o2(e){return sh.call(Kp,e)?!0:sh.call(Wp,e)?!1:i2.test(e)?Kp[e]=!0:(Wp[e]=!0,!1)}function l2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function c2(e,t,r,n){if(t===null||typeof t>"u"||l2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Hm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qm,Hm);bt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qm,Hm);bt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qm,Hm);bt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wm(e,t,r,n){var a=bt.hasOwnProperty(t)?bt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c2(t,r,a,n)&&(r=null),n||a===null?o2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gr=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function Za(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,Xd;function pi(e){if(Xd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xd=t&&t[1]||""}return`
`+Xd+e}var Zd=!1;function eu(e,t){if(!e||Zd)return"";Zd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Zd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pi(e):""}function d2(e){switch(e.tag){case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return e=eu(e.type,!1),e;case 11:return e=eu(e.type.render,!1),e;case 1:return e=eu(e.type,!0),e;default:return""}}function ih(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Jn:return"Portal";case rh:return"Profiler";case Km:return"StrictMode";case nh:return"Suspense";case ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tv:return(e.displayName||"Context")+".Consumer";case ev:return(e._context.displayName||"Context")+".Provider";case Qm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gm:return t=e.displayName||null,t!==null?t:ih(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return ih(e(t))}catch{}}return null}function u2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ih(t);case 8:return t===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h2(e){var t=rv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=h2(e))}function nv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oh(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Hr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function av(e,t){t=t.checked,t!=null&&Wm(e,"checked",t,!1)}function lh(e,t){av(e,t);var r=Hr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ch(e,t.type,r):t.hasOwnProperty("defaultValue")&&ch(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ch(e,t,r){(t!=="number"||zl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xi=Array.isArray;function pa(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Hr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function dh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(xi(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Hr(r)}}function iv(e,t){var r=Hr(t.value),n=Hr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ov(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ov(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bo,lv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m2=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){m2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function cv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function dv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=cv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var f2=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hh(e,t){if(t){if(f2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function mh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=null;function Ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ph=null,xa=null,ga=null;function Zp(e){if(e=jo(e)){if(typeof ph!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Kc(t),ph(e.stateNode,e.type,t))}}function uv(e){xa?ga?ga.push(e):ga=[e]:xa=e}function hv(){if(xa){var e=xa,t=ga;if(ga=xa=null,Zp(e),t)for(e=0;e<t.length;e++)Zp(t[e])}}function mv(e,t){return e(t)}function fv(){}var tu=!1;function pv(e,t,r){if(tu)return e(t,r);tu=!0;try{return mv(e,t,r)}finally{tu=!1,(xa!==null||ga!==null)&&(fv(),hv())}}function zi(e,t){var r=e.stateNode;if(r===null)return null;var n=Kc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var xh=!1;if(dr)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){xh=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{xh=!1}function p2(e,t,r,n,a,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Si=!1,Vl=null,ql=!1,gh=null,x2={onError:function(e){Si=!0,Vl=e}};function g2(e,t,r,n,a,i,o,l,d){Si=!1,Vl=null,p2.apply(x2,arguments)}function y2(e,t,r,n,a,i,o,l,d){if(g2.apply(this,arguments),Si){if(Si){var c=Vl;Si=!1,Vl=null}else throw Error(W(198));ql||(ql=!0,gh=c)}}function In(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e0(e){if(In(e)!==e)throw Error(W(188))}function v2(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return e0(a),e;if(i===n)return e0(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function gv(e){return e=v2(e),e!==null?yv(e):null}function yv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yv(e);if(t!==null)return t;e=e.sibling}return null}var vv=es.unstable_scheduleCallback,t0=es.unstable_cancelCallback,b2=es.unstable_shouldYield,j2=es.unstable_requestPaint,Je=es.unstable_now,w2=es.unstable_getCurrentPriorityLevel,Jm=es.unstable_ImmediatePriority,bv=es.unstable_UserBlockingPriority,Hl=es.unstable_NormalPriority,N2=es.unstable_LowPriority,jv=es.unstable_IdlePriority,Vc=null,Vs=null;function S2(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Vc,e,void 0,(e.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:P2,k2=Math.log,C2=Math.LN2;function P2(e){return e>>>=0,e===0?32:31-(k2(e)/C2|0)|0}var Uo=64,zo=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=gi(l):(i&=o,i!==0&&(n=gi(i)))}else o=r&~a,o!==0?n=gi(o):i!==0&&(n=gi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ks(t),a=1<<r,n|=e[r],t&=~a;return n}function A2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ks(i),l=1<<o,d=a[o];d===-1?(!(l&r)||l&n)&&(a[o]=A2(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wv(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function su(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ks(t),e[t]=r}function T2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ks(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Xm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ks(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ce=0;function Nv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sv,Zm,kv,Cv,Pv,vh=!1,Vo=[],Or=null,Mr=null,Lr=null,Vi=new Map,qi=new Map,Sr=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(t.pointerId)}}function ti(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=jo(t),t!==null&&Zm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function O2(e,t,r,n,a){switch(t){case"focusin":return Or=ti(Or,e,t,r,n,a),!0;case"dragenter":return Mr=ti(Mr,e,t,r,n,a),!0;case"mouseover":return Lr=ti(Lr,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Vi.set(i,ti(Vi.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qi.set(i,ti(qi.get(i)||null,e,t,r,n,a)),!0}return!1}function Av(e){var t=pn(e.target);if(t!==null){var r=In(t);if(r!==null){if(t=r.tag,t===13){if(t=xv(r),t!==null){e.blockedOn=t,Pv(e.priority,function(){kv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fh=n,r.target.dispatchEvent(n),fh=null}else return t=jo(r),t!==null&&Zm(t),e.blockedOn=r,!1;t.shift()}return!0}function r0(e,t,r){yl(e)&&r.delete(t)}function M2(){vh=!1,Or!==null&&yl(Or)&&(Or=null),Mr!==null&&yl(Mr)&&(Mr=null),Lr!==null&&yl(Lr)&&(Lr=null),Vi.forEach(r0),qi.forEach(r0)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,vh||(vh=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,M2)))}function Hi(e){function t(a){return si(a,e)}if(0<Vo.length){si(Vo[0],e);for(var r=1;r<Vo.length;r++){var n=Vo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Or!==null&&si(Or,e),Mr!==null&&si(Mr,e),Lr!==null&&si(Lr,e),Vi.forEach(t),qi.forEach(t),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)Av(r),r.blockedOn===null&&Sr.shift()}var ya=gr.ReactCurrentBatchConfig,Kl=!0;function L2(e,t,r,n){var a=Ce,i=ya.transition;ya.transition=null;try{Ce=1,ef(e,t,r,n)}finally{Ce=a,ya.transition=i}}function _2(e,t,r,n){var a=Ce,i=ya.transition;ya.transition=null;try{Ce=4,ef(e,t,r,n)}finally{Ce=a,ya.transition=i}}function ef(e,t,r,n){if(Kl){var a=bh(e,t,r,n);if(a===null)hu(e,t,n,Ql,r),s0(e,n);else if(O2(a,e,t,r,n))n.stopPropagation();else if(s0(e,n),t&4&&-1<R2.indexOf(e)){for(;a!==null;){var i=jo(a);if(i!==null&&Sv(i),i=bh(e,t,r,n),i===null&&hu(e,t,n,Ql,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hu(e,t,n,null,r)}}var Ql=null;function bh(e,t,r,n){if(Ql=null,e=Ym(n),e=pn(e),e!==null)if(t=In(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ql=e,null}function Ev(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w2()){case Jm:return 1;case bv:return 4;case Hl:case N2:return 16;case jv:return 536870912;default:return 16}default:return 16}}var Ar=null,tf=null,vl=null;function Tv(){if(vl)return vl;var e,t=tf,r=t.length,n,a="value"in Ar?Ar.value:Ar.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return vl=a.slice(e,1<n?1-n:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function n0(){return!1}function as(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qo:n0,this.isPropagationStopped=n0,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=as(za),bo=We({},za,{view:0,detail:0}),D2=as(bo),ru,nu,ri,qc=We({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ru=e.screenX-ri.screenX,nu=e.screenY-ri.screenY):nu=ru=0,ri=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),a0=as(qc),I2=We({},qc,{dataTransfer:0}),$2=as(I2),F2=We({},bo,{relatedTarget:0}),au=as(F2),B2=We({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=as(B2),z2=We({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V2=as(z2),q2=We({},za,{data:0}),i0=as(q2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K2[e])?!!t[e]:!1}function rf(){return Q2}var G2=We({},bo,{key:function(e){if(e.key){var t=H2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y2=as(G2),J2=We({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o0=as(J2),X2=We({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),Z2=as(X2),e4=We({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),t4=as(e4),s4=We({},qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r4=as(s4),n4=[9,13,27,32],nf=dr&&"CompositionEvent"in window,ki=null;dr&&"documentMode"in document&&(ki=document.documentMode);var a4=dr&&"TextEvent"in window&&!ki,Rv=dr&&(!nf||ki&&8<ki&&11>=ki),l0=" ",c0=!1;function Ov(e,t){switch(e){case"keyup":return n4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function i4(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(c0=!0,l0);case"textInput":return e=t.data,e===l0&&c0?null:e;default:return null}}function o4(e,t){if(Zn)return e==="compositionend"||!nf&&Ov(e,t)?(e=Tv(),vl=tf=Ar=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rv&&t.locale!=="ko"?null:t.data;default:return null}}var l4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l4[e.type]:t==="textarea"}function Lv(e,t,r,n){uv(n),t=Gl(t,"onChange"),0<t.length&&(r=new sf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ci=null,Wi=null;function c4(e){Hv(e,0)}function Hc(e){var t=sa(e);if(nv(t))return e}function d4(e,t){if(e==="change")return t}var _v=!1;if(dr){var iu;if(dr){var ou="oninput"in document;if(!ou){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),ou=typeof u0.oninput=="function"}iu=ou}else iu=!1;_v=iu&&(!document.documentMode||9<document.documentMode)}function h0(){Ci&&(Ci.detachEvent("onpropertychange",Dv),Wi=Ci=null)}function Dv(e){if(e.propertyName==="value"&&Hc(Wi)){var t=[];Lv(t,Wi,e,Ym(e)),pv(c4,t)}}function u4(e,t,r){e==="focusin"?(h0(),Ci=t,Wi=r,Ci.attachEvent("onpropertychange",Dv)):e==="focusout"&&h0()}function h4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(Wi)}function m4(e,t){if(e==="click")return Hc(t)}function f4(e,t){if(e==="input"||e==="change")return Hc(t)}function p4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ps=typeof Object.is=="function"?Object.is:p4;function Ki(e,t){if(Ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sh.call(t,a)||!Ps(e[a],t[a]))return!1}return!0}function m0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var r=m0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=m0(r)}}function Iv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $v(){for(var e=window,t=zl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zl(e.document)}return t}function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x4(e){var t=$v(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Iv(r.ownerDocument.documentElement,r)){if(n!==null&&af(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=f0(r,i);var o=f0(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g4=dr&&"documentMode"in document&&11>=document.documentMode,ea=null,jh=null,Pi=null,wh=!1;function p0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wh||ea==null||ea!==zl(n)||(n=ea,"selectionStart"in n&&af(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pi&&Ki(Pi,n)||(Pi=n,n=Gl(jh,"onSelect"),0<n.length&&(t=new sf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ea)))}function Ho(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ta={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},lu={},Fv={};dr&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Wc(e){if(lu[e])return lu[e];if(!ta[e])return e;var t=ta[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fv)return lu[e]=t[r];return e}var Bv=Wc("animationend"),Uv=Wc("animationiteration"),zv=Wc("animationstart"),Vv=Wc("transitionend"),qv=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){qv.set(e,t),Dn(t,[e])}for(var cu=0;cu<x0.length;cu++){var du=x0[cu],y4=du.toLowerCase(),v4=du[0].toUpperCase()+du.slice(1);tn(y4,"on"+v4)}tn(Bv,"onAnimationEnd");tn(Uv,"onAnimationIteration");tn(zv,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Vv,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function g0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,y2(n,t,void 0,e),e.currentTarget=null}function Hv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;g0(a,l,c),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;g0(a,l,c),i=d}}}if(ql)throw e=gh,ql=!1,gh=null,e}function Me(e,t){var r=t[Ph];r===void 0&&(r=t[Ph]=new Set);var n=e+"__bubble";r.has(n)||(Wv(t,e,2,!1),r.add(n))}function uu(e,t,r){var n=0;t&&(n|=4),Wv(r,e,n,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[Wo]){e[Wo]=!0,Zy.forEach(function(r){r!=="selectionchange"&&(b4.has(r)||uu(r,!1,e),uu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,uu("selectionchange",!1,t))}}function Wv(e,t,r,n){switch(Ev(t)){case 1:var a=L2;break;case 4:a=_2;break;default:a=ef}r=a.bind(null,t,r,e),a=void 0,!xh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hu(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=pn(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}pv(function(){var c=i,u=Ym(r),h=[];e:{var m=qv.get(e);if(m!==void 0){var f=sf,p=e;switch(e){case"keypress":if(bl(r)===0)break e;case"keydown":case"keyup":f=Y2;break;case"focusin":p="focus",f=au;break;case"focusout":p="blur",f=au;break;case"beforeblur":case"afterblur":f=au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=a0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Z2;break;case Bv:case Uv:case zv:f=U2;break;case Vv:f=t4;break;case"scroll":f=D2;break;case"wheel":f=r4;break;case"copy":case"cut":case"paste":f=V2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=o0}var v=(t&4)!==0,j=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var y=c,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,w!==null&&(x=zi(y,w),x!=null&&v.push(Gi(y,x,b)))),j)break;y=y.return}0<v.length&&(m=new f(m,p,null,r,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==fh&&(p=r.relatedTarget||r.fromElement)&&(pn(p)||p[ur]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?pn(p):null,p!==null&&(j=In(p),p!==j||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(v=a0,x="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=o0,x="onPointerLeave",w="onPointerEnter",y="pointer"),j=f==null?m:sa(f),b=p==null?m:sa(p),m=new v(x,y+"leave",f,r,u),m.target=j,m.relatedTarget=b,x=null,pn(u)===c&&(v=new v(w,y+"enter",p,r,u),v.target=b,v.relatedTarget=j,x=v),j=x,f&&p)t:{for(v=f,w=p,y=0,b=v;b;b=Kn(b))y++;for(b=0,x=w;x;x=Kn(x))b++;for(;0<y-b;)v=Kn(v),y--;for(;0<b-y;)w=Kn(w),b--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Kn(v),w=Kn(w)}v=null}else v=null;f!==null&&y0(h,m,f,v,!1),p!==null&&j!==null&&y0(h,j,p,v,!0)}}e:{if(m=c?sa(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var g=d4;else if(d0(m))if(_v)g=f4;else{g=h4;var S=u4}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(g=m4);if(g&&(g=g(e,c))){Lv(h,g,r,u);break e}S&&S(e,m,c),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&ch(m,"number",m.value)}switch(S=c?sa(c):window,e){case"focusin":(d0(S)||S.contentEditable==="true")&&(ea=S,jh=c,Pi=null);break;case"focusout":Pi=jh=ea=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,p0(h,r,u);break;case"selectionchange":if(g4)break;case"keydown":case"keyup":p0(h,r,u)}var P;if(nf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zn?Ov(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Rv&&r.locale!=="ko"&&(Zn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Zn&&(P=Tv()):(Ar=u,tf="value"in Ar?Ar.value:Ar.textContent,Zn=!0)),S=Gl(c,k),0<S.length&&(k=new i0(k,e,null,r,u),h.push({event:k,listeners:S}),P?k.data=P:(P=Mv(r),P!==null&&(k.data=P)))),(P=a4?i4(e,r):o4(e,r))&&(c=Gl(c,"onBeforeInput"),0<c.length&&(u=new i0("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=P))}Hv(h,t)})}function Gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=zi(e,r),i!=null&&n.unshift(Gi(e,i,a)),i=zi(e,t),i!=null&&n.push(Gi(e,i,a))),e=e.return}return n}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y0(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,a?(d=zi(r,i),d!=null&&o.unshift(Gi(r,d,l))):a||(d=zi(r,i),d!=null&&o.push(Gi(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var j4=/\r\n?/g,w4=/\u0000|\uFFFD/g;function v0(e){return(typeof e=="string"?e:""+e).replace(j4,`
`).replace(w4,"")}function Ko(e,t,r){if(t=v0(t),v0(e)!==t&&r)throw Error(W(425))}function Yl(){}var Nh=null,Sh=null;function kh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,N4=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(e){return b0.resolve(null).then(e).catch(k4)}:Ch;function k4(e){setTimeout(function(){throw e})}function mu(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Hi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Hi(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Va=Math.random().toString(36).slice(2),Us="__reactFiber$"+Va,Yi="__reactProps$"+Va,ur="__reactContainer$"+Va,Ph="__reactEvents$"+Va,C4="__reactListeners$"+Va,P4="__reactHandles$"+Va;function pn(e){var t=e[Us];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ur]||r[Us]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=j0(e);e!==null;){if(r=e[Us])return r;e=j0(e)}return t}e=r,r=e.parentNode}return null}function jo(e){return e=e[Us]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Kc(e){return e[Yi]||null}var Ah=[],ra=-1;function sn(e){return{current:e}}function De(e){0>ra||(e.current=Ah[ra],Ah[ra]=null,ra--)}function Re(e,t){ra++,Ah[ra]=e.current,e.current=t}var Wr={},Pt=sn(Wr),Bt=sn(!1),Pn=Wr;function Ca(e,t){var r=e.type.contextTypes;if(!r)return Wr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ut(e){return e=e.childContextTypes,e!=null}function Jl(){De(Bt),De(Pt)}function w0(e,t,r){if(Pt.current!==Wr)throw Error(W(168));Re(Pt,t),Re(Bt,r)}function Kv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(W(108,u2(e)||"Unknown",a));return We({},r,n)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,Pn=Pt.current,Re(Pt,e),Re(Bt,Bt.current),!0}function N0(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=Kv(e,t,Pn),n.__reactInternalMemoizedMergedChildContext=e,De(Bt),De(Pt),Re(Pt,e)):De(Bt),Re(Bt,r)}var Zs=null,Qc=!1,fu=!1;function Qv(e){Zs===null?Zs=[e]:Zs.push(e)}function A4(e){Qc=!0,Qv(e)}function rn(){if(!fu&&Zs!==null){fu=!0;var e=0,t=Ce;try{var r=Zs;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zs=null,Qc=!1}catch(a){throw Zs!==null&&(Zs=Zs.slice(e+1)),vv(Jm,rn),a}finally{Ce=t,fu=!1}}return null}var na=[],aa=0,Zl=null,ec=0,cs=[],ds=0,An=null,sr=1,rr="";function cn(e,t){na[aa++]=ec,na[aa++]=Zl,Zl=e,ec=t}function Gv(e,t,r){cs[ds++]=sr,cs[ds++]=rr,cs[ds++]=An,An=e;var n=sr;e=rr;var a=32-ks(n)-1;n&=~(1<<a),r+=1;var i=32-ks(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,sr=1<<32-ks(t)+a|r<<a|n,rr=i+e}else sr=1<<i|r<<a|n,rr=e}function of(e){e.return!==null&&(cn(e,1),Gv(e,1,0))}function lf(e){for(;e===Zl;)Zl=na[--aa],na[aa]=null,ec=na[--aa],na[aa]=null;for(;e===An;)An=cs[--ds],cs[ds]=null,rr=cs[--ds],cs[ds]=null,sr=cs[--ds],cs[ds]=null}var Xt=null,Jt=null,Fe=!1,Ns=null;function Yv(e,t){var r=hs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function S0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Jt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=An!==null?{id:sr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Jt=null,!0):!1;default:return!1}}function Eh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Th(e){if(Fe){var t=Jt;if(t){var r=t;if(!S0(e,t)){if(Eh(e))throw Error(W(418));t=_r(r.nextSibling);var n=Xt;t&&S0(e,t)?Yv(n,r):(e.flags=e.flags&-4097|2,Fe=!1,Xt=e)}}else{if(Eh(e))throw Error(W(418));e.flags=e.flags&-4097|2,Fe=!1,Xt=e}}}function k0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Qo(e){if(e!==Xt)return!1;if(!Fe)return k0(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kh(e.type,e.memoizedProps)),t&&(t=Jt)){if(Eh(e))throw Jv(),Error(W(418));for(;t;)Yv(e,t),t=_r(t.nextSibling)}if(k0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jt=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Xt?_r(e.stateNode.nextSibling):null;return!0}function Jv(){for(var e=Jt;e;)e=_r(e.nextSibling)}function Pa(){Jt=Xt=null,Fe=!1}function cf(e){Ns===null?Ns=[e]:Ns.push(e)}var E4=gr.ReactCurrentBatchConfig;function ni(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C0(e){var t=e._init;return t(e._payload)}function Xv(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function a(w,y){return w=Fr(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,x){return y===null||y.tag!==6?(y=ju(b,w.mode,x),y.return=w,y):(y=a(y,b),y.return=w,y)}function d(w,y,b,x){var g=b.type;return g===Xn?u(w,y,b.props.children,x,b.key):y!==null&&(y.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===jr&&C0(g)===y.type)?(x=a(y,b.props),x.ref=ni(w,y,b),x.return=w,x):(x=Pl(b.type,b.key,b.props,null,w.mode,x),x.ref=ni(w,y,b),x.return=w,x)}function c(w,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=wu(b,w.mode,x),y.return=w,y):(y=a(y,b.children||[]),y.return=w,y)}function u(w,y,b,x,g){return y===null||y.tag!==7?(y=wn(b,w.mode,x,g),y.return=w,y):(y=a(y,b),y.return=w,y)}function h(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ju(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $o:return b=Pl(y.type,y.key,y.props,null,w.mode,b),b.ref=ni(w,null,y),b.return=w,b;case Jn:return y=wu(y,w.mode,b),y.return=w,y;case jr:var x=y._init;return h(w,x(y._payload),b)}if(xi(y)||Za(y))return y=wn(y,w.mode,b,null),y.return=w,y;Go(w,y)}return null}function m(w,y,b,x){var g=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return g!==null?null:l(w,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $o:return b.key===g?d(w,y,b,x):null;case Jn:return b.key===g?c(w,y,b,x):null;case jr:return g=b._init,m(w,y,g(b._payload),x)}if(xi(b)||Za(b))return g!==null?null:u(w,y,b,x,null);Go(w,b)}return null}function f(w,y,b,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(b)||null,l(y,w,""+x,g);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:return w=w.get(x.key===null?b:x.key)||null,d(y,w,x,g);case Jn:return w=w.get(x.key===null?b:x.key)||null,c(y,w,x,g);case jr:var S=x._init;return f(w,y,b,S(x._payload),g)}if(xi(x)||Za(x))return w=w.get(b)||null,u(y,w,x,g,null);Go(y,x)}return null}function p(w,y,b,x){for(var g=null,S=null,P=y,k=y=0,E=null;P!==null&&k<b.length;k++){P.index>k?(E=P,P=null):E=P.sibling;var A=m(w,P,b[k],x);if(A===null){P===null&&(P=E);break}e&&P&&A.alternate===null&&t(w,P),y=i(A,y,k),S===null?g=A:S.sibling=A,S=A,P=E}if(k===b.length)return r(w,P),Fe&&cn(w,k),g;if(P===null){for(;k<b.length;k++)P=h(w,b[k],x),P!==null&&(y=i(P,y,k),S===null?g=P:S.sibling=P,S=P);return Fe&&cn(w,k),g}for(P=n(w,P);k<b.length;k++)E=f(P,w,k,b[k],x),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?k:E.key),y=i(E,y,k),S===null?g=E:S.sibling=E,S=E);return e&&P.forEach(function(T){return t(w,T)}),Fe&&cn(w,k),g}function v(w,y,b,x){var g=Za(b);if(typeof g!="function")throw Error(W(150));if(b=g.call(b),b==null)throw Error(W(151));for(var S=g=null,P=y,k=y=0,E=null,A=b.next();P!==null&&!A.done;k++,A=b.next()){P.index>k?(E=P,P=null):E=P.sibling;var T=m(w,P,A.value,x);if(T===null){P===null&&(P=E);break}e&&P&&T.alternate===null&&t(w,P),y=i(T,y,k),S===null?g=T:S.sibling=T,S=T,P=E}if(A.done)return r(w,P),Fe&&cn(w,k),g;if(P===null){for(;!A.done;k++,A=b.next())A=h(w,A.value,x),A!==null&&(y=i(A,y,k),S===null?g=A:S.sibling=A,S=A);return Fe&&cn(w,k),g}for(P=n(w,P);!A.done;k++,A=b.next())A=f(P,w,k,A.value,x),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?k:A.key),y=i(A,y,k),S===null?g=A:S.sibling=A,S=A);return e&&P.forEach(function(M){return t(w,M)}),Fe&&cn(w,k),g}function j(w,y,b,x){if(typeof b=="object"&&b!==null&&b.type===Xn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case $o:e:{for(var g=b.key,S=y;S!==null;){if(S.key===g){if(g=b.type,g===Xn){if(S.tag===7){r(w,S.sibling),y=a(S,b.props.children),y.return=w,w=y;break e}}else if(S.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===jr&&C0(g)===S.type){r(w,S.sibling),y=a(S,b.props),y.ref=ni(w,S,b),y.return=w,w=y;break e}r(w,S);break}else t(w,S);S=S.sibling}b.type===Xn?(y=wn(b.props.children,w.mode,x,b.key),y.return=w,w=y):(x=Pl(b.type,b.key,b.props,null,w.mode,x),x.ref=ni(w,y,b),x.return=w,w=x)}return o(w);case Jn:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(w,y.sibling),y=a(y,b.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=wu(b,w.mode,x),y.return=w,w=y}return o(w);case jr:return S=b._init,j(w,y,S(b._payload),x)}if(xi(b))return p(w,y,b,x);if(Za(b))return v(w,y,b,x);Go(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(w,y.sibling),y=a(y,b),y.return=w,w=y):(r(w,y),y=ju(b,w.mode,x),y.return=w,w=y),o(w)):r(w,y)}return j}var Aa=Xv(!0),Zv=Xv(!1),tc=sn(null),sc=null,ia=null,df=null;function uf(){df=ia=sc=null}function hf(e){var t=tc.current;De(tc),e._currentValue=t}function Rh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function va(e,t){sc=e,df=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function fs(e){var t=e._currentValue;if(df!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(sc===null)throw Error(W(308));ia=e,sc.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var xn=null;function mf(e){xn===null?xn=[e]:xn.push(e)}function eb(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,mf(t)):(r.next=a.next,a.next=r),t.interleaved=r,hr(e,n)}function hr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,hr(e,r)}return a=n.interleaved,a===null?(t.next=t,mf(n)):(t.next=a.next,a.next=t),n.interleaved=t,hr(e,r)}function jl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xm(e,r)}}function P0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rc(e,t,r,n){var a=e.updateQueue;wr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var h=a.baseState;o=0,u=c=d=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(m=t,f=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=We({},h,m);break e;case 2:wr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,d=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(d=h),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Tn|=o,e.lanes=o,e.memoizedState=h}}function A0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(W(191,a));a.call(n)}}}var wo={},qs=sn(wo),Ji=sn(wo),Xi=sn(wo);function gn(e){if(e===wo)throw Error(W(174));return e}function pf(e,t){switch(Re(Xi,t),Re(Ji,e),Re(qs,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uh(t,e)}De(qs),Re(qs,t)}function Ea(){De(qs),De(Ji),De(Xi)}function sb(e){gn(Xi.current);var t=gn(qs.current),r=uh(t,e.type);t!==r&&(Re(Ji,e),Re(qs,r))}function xf(e){Ji.current===e&&(De(qs),De(Ji))}var Ve=sn(0);function nc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pu=[];function gf(){for(var e=0;e<pu.length;e++)pu[e]._workInProgressVersionPrimary=null;pu.length=0}var wl=gr.ReactCurrentDispatcher,xu=gr.ReactCurrentBatchConfig,En=0,He=null,it=null,dt=null,ac=!1,Ai=!1,Zi=0,T4=0;function jt(){throw Error(W(321))}function yf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ps(e[r],t[r]))return!1;return!0}function vf(e,t,r,n,a,i){if(En=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?L4:_4,e=r(n,a),Ai){i=0;do{if(Ai=!1,Zi=0,25<=i)throw Error(W(301));i+=1,dt=it=null,t.updateQueue=null,wl.current=D4,e=r(n,a)}while(Ai)}if(wl.current=ic,t=it!==null&&it.next!==null,En=0,dt=it=He=null,ac=!1,t)throw Error(W(300));return e}function bf(){var e=Zi!==0;return Zi=0,e}function $s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=e:dt=dt.next=e,dt}function ps(){if(it===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=dt===null?He.memoizedState:dt.next;if(t!==null)dt=t,it=e;else{if(e===null)throw Error(W(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?He.memoizedState=dt=e:dt=dt.next=e}return dt}function eo(e,t){return typeof t=="function"?t(e):t}function gu(e){var t=ps(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=it,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((En&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=h,o=n):d=d.next=h,He.lanes|=u,Tn|=u}c=c.next}while(c!==null&&c!==i);d===null?o=n:d.next=l,Ps(n,t.memoizedState)||(Ft=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,He.lanes|=i,Tn|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yu(e){var t=ps(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ps(i,t.memoizedState)||(Ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rb(){}function nb(e,t){var r=He,n=ps(),a=t(),i=!Ps(n.memoizedState,a);if(i&&(n.memoizedState=a,Ft=!0),n=n.queue,jf(ob.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,to(9,ib.bind(null,r,n,a,t),void 0,null),ut===null)throw Error(W(349));En&30||ab(r,t,a)}return a}function ab(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ib(e,t,r,n){t.value=r,t.getSnapshot=n,lb(t)&&cb(e)}function ob(e,t,r){return r(function(){lb(t)&&cb(e)})}function lb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ps(e,r)}catch{return!0}}function cb(e){var t=hr(e,1);t!==null&&Cs(t,e,1,-1)}function E0(e){var t=$s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},t.queue=e,e=e.dispatch=M4.bind(null,He,e),[t.memoizedState,e]}function to(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function db(){return ps().memoizedState}function Nl(e,t,r,n){var a=$s();He.flags|=e,a.memoizedState=to(1|t,r,void 0,n===void 0?null:n)}function Gc(e,t,r,n){var a=ps();n=n===void 0?null:n;var i=void 0;if(it!==null){var o=it.memoizedState;if(i=o.destroy,n!==null&&yf(n,o.deps)){a.memoizedState=to(t,r,i,n);return}}He.flags|=e,a.memoizedState=to(1|t,r,i,n)}function T0(e,t){return Nl(8390656,8,e,t)}function jf(e,t){return Gc(2048,8,e,t)}function ub(e,t){return Gc(4,2,e,t)}function hb(e,t){return Gc(4,4,e,t)}function mb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fb(e,t,r){return r=r!=null?r.concat([e]):null,Gc(4,4,mb.bind(null,t,e),r)}function wf(){}function pb(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xb(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gb(e,t,r){return En&21?(Ps(r,t)||(r=wv(),He.lanes|=r,Tn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=r)}function R4(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=xu.transition;xu.transition={};try{e(!1),t()}finally{Ce=r,xu.transition=n}}function yb(){return ps().memoizedState}function O4(e,t,r){var n=$r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vb(e))bb(t,r);else if(r=eb(e,t,r,n),r!==null){var a=Mt();Cs(r,e,n,a),jb(r,t,n)}}function M4(e,t,r){var n=$r(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vb(e))bb(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ps(l,o)){var d=t.interleaved;d===null?(a.next=a,mf(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=eb(e,t,a,n),r!==null&&(a=Mt(),Cs(r,e,n,a),jb(r,t,n))}}function vb(e){var t=e.alternate;return e===He||t!==null&&t===He}function bb(e,t){Ai=ac=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xm(e,r)}}var ic={readContext:fs,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},L4={readContext:fs,useCallback:function(e,t){return $s().memoizedState=[e,t===void 0?null:t],e},useContext:fs,useEffect:T0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nl(4194308,4,mb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nl(4,2,e,t)},useMemo:function(e,t){var r=$s();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$s();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O4.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=$s();return e={current:e},t.memoizedState=e},useState:E0,useDebugValue:wf,useDeferredValue:function(e){return $s().memoizedState=e},useTransition:function(){var e=E0(!1),t=e[0];return e=R4.bind(null,e[1]),$s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,a=$s();if(Fe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),ut===null)throw Error(W(349));En&30||ab(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,T0(ob.bind(null,n,i,e),[e]),n.flags|=2048,to(9,ib.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$s(),t=ut.identifierPrefix;if(Fe){var r=rr,n=sr;r=(n&~(1<<32-ks(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=T4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_4={readContext:fs,useCallback:pb,useContext:fs,useEffect:jf,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:xb,useReducer:gu,useRef:db,useState:function(){return gu(eo)},useDebugValue:wf,useDeferredValue:function(e){var t=ps();return gb(t,it.memoizedState,e)},useTransition:function(){var e=gu(eo)[0],t=ps().memoizedState;return[e,t]},useMutableSource:rb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1},D4={readContext:fs,useCallback:pb,useContext:fs,useEffect:jf,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:xb,useReducer:yu,useRef:db,useState:function(){return yu(eo)},useDebugValue:wf,useDeferredValue:function(e){var t=ps();return it===null?t.memoizedState=e:gb(t,it.memoizedState,e)},useTransition:function(){var e=yu(eo)[0],t=ps().memoizedState;return[e,t]},useMutableSource:rb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yc={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),a=$r(e),i=or(n,a);i.payload=t,r!=null&&(i.callback=r),t=Dr(e,i,a),t!==null&&(Cs(t,e,a,n),jl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),a=$r(e),i=or(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Dr(e,i,a),t!==null&&(Cs(t,e,a,n),jl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=$r(e),a=or(r,n);a.tag=2,t!=null&&(a.callback=t),t=Dr(e,a,n),t!==null&&(Cs(t,e,n,r),jl(t,e,n))}};function R0(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ki(r,n)||!Ki(a,i):!0}function wb(e,t,r){var n=!1,a=Wr,i=t.contextType;return typeof i=="object"&&i!==null?i=fs(i):(a=Ut(t)?Pn:Pt.current,n=t.contextTypes,i=(n=n!=null)?Ca(e,a):Wr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function O0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yc.enqueueReplaceState(t,t.state,null)}function Mh(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ff(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fs(i):(i=Ut(t)?Pn:Pt.current,a.context=Ca(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oh(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yc.enqueueReplaceState(a,a.state,null),rc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ta(e,t){try{var r="",n=t;do r+=d2(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function vu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var I4=typeof WeakMap=="function"?WeakMap:Map;function Nb(e,t,r){r=or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lc||(lc=!0,qh=n),Lh(e,t)},r}function Sb(e,t,r){r=or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Lh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lh(e,t),typeof n!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function M0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new I4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=J4.bind(null,e,t,r),t.then(e,e))}function L0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _0(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=or(-1,1),t.tag=2,Dr(r,t,1))),r.lanes|=1),e)}var $4=gr.ReactCurrentOwner,Ft=!1;function Tt(e,t,r,n){t.child=e===null?Zv(t,null,r,n):Aa(t,e.child,r,n)}function D0(e,t,r,n,a){r=r.render;var i=t.ref;return va(t,a),n=vf(e,t,r,n,i,a),r=bf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Fe&&r&&of(t),t.flags|=1,Tt(e,t,n,a),t.child)}function I0(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Tf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,kb(e,t,i,n,a)):(e=Pl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ki,r(o,n)&&e.ref===t.ref)return mr(e,t,a)}return t.flags|=1,e=Fr(i,n),e.ref=t.ref,e.return=t,t.child=e}function kb(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ki(i,n)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,mr(e,t,a)}return _h(e,t,r,n,a)}function Cb(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(la,Yt),Yt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(la,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Re(la,Yt),Yt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Re(la,Yt),Yt|=n;return Tt(e,t,a,r),t.child}function Pb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _h(e,t,r,n,a){var i=Ut(r)?Pn:Pt.current;return i=Ca(t,i),va(t,a),r=vf(e,t,r,n,i,a),n=bf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Fe&&n&&of(t),t.flags|=1,Tt(e,t,r,a),t.child)}function $0(e,t,r,n,a){if(Ut(r)){var i=!0;Xl(t)}else i=!1;if(va(t,a),t.stateNode===null)Sl(e,t),wb(t,r,n),Mh(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=fs(c):(c=Ut(r)?Pn:Pt.current,c=Ca(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==c)&&O0(t,o,n,c),wr=!1;var m=t.memoizedState;o.state=m,rc(t,n,o,a),d=t.memoizedState,l!==n||m!==d||Bt.current||wr?(typeof u=="function"&&(Oh(t,r,u,n),d=t.memoizedState),(l=wr||R0(t,r,l,n,m,d,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,tb(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:bs(t.type,l),o.props=c,h=t.pendingProps,m=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=fs(d):(d=Ut(r)?Pn:Pt.current,d=Ca(t,d));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==d)&&O0(t,o,n,d),wr=!1,m=t.memoizedState,o.state=m,rc(t,n,o,a);var p=t.memoizedState;l!==h||m!==p||Bt.current||wr?(typeof f=="function"&&(Oh(t,r,f,n),p=t.memoizedState),(c=wr||R0(t,r,c,n,m,p,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=d,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Dh(e,t,r,n,i,a)}function Dh(e,t,r,n,a,i){Pb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&N0(t,r,!1),mr(e,t,i);n=t.stateNode,$4.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Aa(t,e.child,null,i),t.child=Aa(t,null,l,i)):Tt(e,t,l,i),t.memoizedState=n.state,a&&N0(t,r,!0),t.child}function Ab(e){var t=e.stateNode;t.pendingContext?w0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&w0(e,t.context,!1),pf(e,t.containerInfo)}function F0(e,t,r,n,a){return Pa(),cf(a),t.flags|=256,Tt(e,t,r,n),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function $h(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eb(e,t,r){var n=t.pendingProps,a=Ve.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Re(Ve,a&1),e===null)return Th(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zc(o,n,0,null),e=wn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$h(r),t.memoizedState=Ih,e):Nf(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return F4(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Fr(a,d),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Fr(l,i):(i=wn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?$h(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ih,n}return i=e.child,e=i.sibling,n=Fr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nf(e,t){return t=Zc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,r,n){return n!==null&&cf(n),Aa(t,e.child,null,r),e=Nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F4(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=vu(Error(W(422))),Yo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Zc({mode:"visible",children:n.children},a,0,null),i=wn(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Aa(t,e.child,null,o),t.child.memoizedState=$h(o),t.memoizedState=Ih,i);if(!(t.mode&1))return Yo(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(W(419)),n=vu(i,n,void 0),Yo(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ft||l){if(n=ut,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,hr(e,a),Cs(n,e,a,-1))}return Ef(),n=vu(Error(W(421))),Yo(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=X4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jt=_r(a.nextSibling),Xt=t,Fe=!0,Ns=null,e!==null&&(cs[ds++]=sr,cs[ds++]=rr,cs[ds++]=An,sr=e.id,rr=e.overflow,An=t),t=Nf(t,n.children),t.flags|=4096,t)}function B0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rh(e.return,t,r)}function bu(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Tb(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Tt(e,t,n.children,r),n=Ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B0(e,r,t);else if(e.tag===19)B0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Ve,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),bu(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}bu(t,!0,r,null,i);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B4(e,t,r){switch(t.tag){case 3:Ab(t),Pa();break;case 5:sb(t);break;case 1:Ut(t.type)&&Xl(t);break;case 4:pf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Re(tc,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Ve,Ve.current&1),t.flags|=128,null):r&t.child.childLanes?Eb(e,t,r):(Re(Ve,Ve.current&1),e=mr(e,t,r),e!==null?e.sibling:null);Re(Ve,Ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Tb(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Re(Ve,Ve.current),n)break;return null;case 22:case 23:return t.lanes=0,Cb(e,t,r)}return mr(e,t,r)}var Rb,Fh,Ob,Mb;Rb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fh=function(){};Ob=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gn(qs.current);var i=null;switch(r){case"input":a=oh(e,a),n=oh(e,n),i=[];break;case"select":a=We({},a,{value:void 0}),n=We({},n,{value:void 0}),i=[];break;case"textarea":a=dh(e,a),n=dh(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yl)}hh(r,n);var o;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Me("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Mb=function(e,t,r,n){r!==n&&(t.flags|=4)};function ai(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U4(e,t,r){var n=t.pendingProps;switch(lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ut(t.type)&&Jl(),wt(t),null;case 3:return n=t.stateNode,Ea(),De(Bt),De(Pt),gf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ns!==null&&(Kh(Ns),Ns=null))),Fh(e,t),wt(t),null;case 5:xf(t);var a=gn(Xi.current);if(r=t.type,e!==null&&t.stateNode!=null)Ob(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return wt(t),null}if(e=gn(qs.current),Qo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Us]=t,n[Yi]=i,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(a=0;a<yi.length;a++)Me(yi[a],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Gp(n,i),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Me("invalid",n);break;case"textarea":Jp(n,i),Me("invalid",n)}hh(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ko(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ko(n.textContent,l,e),a=["children",""+l]):Bi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",n)}switch(r){case"input":Fo(n),Yp(n,i,!0);break;case"textarea":Fo(n),Xp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ov(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Us]=t,e[Yi]=n,Rb(e,t,!1,!1),t.stateNode=e;e:{switch(o=mh(r,n),r){case"dialog":Me("cancel",e),Me("close",e),a=n;break;case"iframe":case"object":case"embed":Me("load",e),a=n;break;case"video":case"audio":for(a=0;a<yi.length;a++)Me(yi[a],e);a=n;break;case"source":Me("error",e),a=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=n;break;case"details":Me("toggle",e),a=n;break;case"input":Gp(e,n),a=oh(e,n),Me("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=We({},n,{value:void 0}),Me("invalid",e);break;case"textarea":Jp(e,n),a=dh(e,n),Me("invalid",e);break;default:a=n}hh(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?dv(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&lv(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Ui(e,d):typeof d=="number"&&Ui(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bi.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Me("scroll",e):d!=null&&Wm(e,i,d,o))}switch(r){case"input":Fo(e),Yp(e,n,!1);break;case"textarea":Fo(e),Xp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Hr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?pa(e,!!n.multiple,i,!1):n.defaultValue!=null&&pa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Mb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=gn(Xi.current),gn(qs.current),Qo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Us]=t,(i=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:Ko(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Us]=t,t.stateNode=n}return wt(t),null;case 13:if(De(Ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Jt!==null&&t.mode&1&&!(t.flags&128))Jv(),Pa(),t.flags|=98560,i=!1;else if(i=Qo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Us]=t}else Pa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else Ns!==null&&(Kh(Ns),Ns=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?lt===0&&(lt=3):Ef())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Ea(),Fh(e,t),e===null&&Qi(t.stateNode.containerInfo),wt(t),null;case 10:return hf(t.type._context),wt(t),null;case 17:return Ut(t.type)&&Jl(),wt(t),null;case 19:if(De(Ve),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ai(i,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nc(e),o!==null){for(t.flags|=128,ai(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Ve,Ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Je()>Ra&&(t.flags|=128,n=!0,ai(i,!1),t.lanes=4194304)}else{if(!n)if(e=nc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return wt(t),null}else 2*Je()-i.renderingStartTime>Ra&&r!==1073741824&&(t.flags|=128,n=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,r=Ve.current,Re(Ve,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return Af(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function z4(e,t){switch(lf(t),t.tag){case 1:return Ut(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(),De(Bt),De(Pt),gf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xf(t),null;case 13:if(De(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ve),null;case 4:return Ea(),null;case 10:return hf(t.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var Jo=!1,St=!1,V4=typeof WeakSet=="function"?WeakSet:Set,ee=null;function oa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Bh(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var U0=!1;function q4(e,t){if(Nh=Kl,e=$v(),af(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,c=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(d=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++c===a&&(l=o),m===i&&++u===n&&(d=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sh={focusedElem:e,selectionRange:r},Kl=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,j=p.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:bs(t.type,v),j);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){Qe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return p=U0,U0=!1,p}function Ei(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Bh(t,r,i)}a=a.next}while(a!==n)}}function Jc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lb(e){var t=e.alternate;t!==null&&(e.alternate=null,Lb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Us],delete t[Yi],delete t[Ph],delete t[C4],delete t[P4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _b(e){return e.tag===5||e.tag===3||e.tag===4}function z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yl));else if(n!==4&&(e=e.child,e!==null))for(zh(e,t,r),e=e.sibling;e!==null;)zh(e,t,r),e=e.sibling}function Vh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vh(e,t,r),e=e.sibling;e!==null;)Vh(e,t,r),e=e.sibling}var xt=null,js=!1;function yr(e,t,r){for(r=r.child;r!==null;)Db(e,t,r),r=r.sibling}function Db(e,t,r){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Vc,r)}catch{}switch(r.tag){case 5:St||oa(r,t);case 6:var n=xt,a=js;xt=null,yr(e,t,r),xt=n,js=a,xt!==null&&(js?(e=xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(js?(e=xt,r=r.stateNode,e.nodeType===8?mu(e.parentNode,r):e.nodeType===1&&mu(e,r),Hi(e)):mu(xt,r.stateNode));break;case 4:n=xt,a=js,xt=r.stateNode.containerInfo,js=!0,yr(e,t,r),xt=n,js=a;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bh(r,t,o),a=a.next}while(a!==n)}yr(e,t,r);break;case 1:if(!St&&(oa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}yr(e,t,r);break;case 21:yr(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,yr(e,t,r),St=n):yr(e,t,r);break;default:yr(e,t,r)}}function V0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new V4),t.forEach(function(n){var a=Z4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function vs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,js=!1;break e;case 3:xt=l.stateNode.containerInfo,js=!0;break e;case 4:xt=l.stateNode.containerInfo,js=!0;break e}l=l.return}if(xt===null)throw Error(W(160));Db(i,o,a),xt=null,js=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){Qe(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ib(t,e),t=t.sibling}function Ib(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),_s(e),n&4){try{Ei(3,e,e.return),Jc(3,e)}catch(v){Qe(e,e.return,v)}try{Ei(5,e,e.return)}catch(v){Qe(e,e.return,v)}}break;case 1:vs(t,e),_s(e),n&512&&r!==null&&oa(r,r.return);break;case 5:if(vs(t,e),_s(e),n&512&&r!==null&&oa(r,r.return),e.flags&32){var a=e.stateNode;try{Ui(a,"")}catch(v){Qe(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&av(a,i),mh(l,o);var c=mh(l,i);for(o=0;o<d.length;o+=2){var u=d[o],h=d[o+1];u==="style"?dv(a,h):u==="dangerouslySetInnerHTML"?lv(a,h):u==="children"?Ui(a,h):Wm(a,u,h,c)}switch(l){case"input":lh(a,i);break;case"textarea":iv(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?pa(a,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?pa(a,!!i.multiple,i.defaultValue,!0):pa(a,!!i.multiple,i.multiple?[]:"",!1))}a[Yi]=i}catch(v){Qe(e,e.return,v)}}break;case 6:if(vs(t,e),_s(e),n&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Qe(e,e.return,v)}}break;case 3:if(vs(t,e),_s(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(v){Qe(e,e.return,v)}break;case 4:vs(t,e),_s(e);break;case 13:vs(t,e),_s(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cf=Je())),n&4&&V0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(St=(c=St)||u,vs(t,e),St=c):vs(t,e),_s(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ee=e,u=e.child;u!==null;){for(h=ee=u;ee!==null;){switch(m=ee,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ei(4,m,m.return);break;case 1:oa(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Qe(n,r,v)}}break;case 5:oa(m,m.return);break;case 22:if(m.memoizedState!==null){H0(h);continue}}f!==null?(f.return=m,ee=f):H0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,d=h.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=cv("display",o))}catch(v){Qe(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Qe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),_s(e),n&4&&V0(e);break;case 21:break;default:vs(t,e),_s(e)}}function _s(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_b(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ui(a,""),n.flags&=-33);var i=z0(e);Vh(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=z0(e);zh(e,l,o);break;default:throw Error(W(161))}}catch(d){Qe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H4(e,t,r){ee=e,$b(e)}function $b(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var a=ee,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Jo;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||St;l=Jo;var c=St;if(Jo=o,(St=d)&&!c)for(ee=a;ee!==null;)o=ee,d=o.child,o.tag===22&&o.memoizedState!==null?W0(a):d!==null?(d.return=o,ee=d):W0(a);for(;i!==null;)ee=i,$b(i),i=i.sibling;ee=a,Jo=l,St=c}q0(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ee=i):q0(e)}}function q0(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||Jc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:bs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&A0(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}A0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}St||t.flags&512&&Uh(t)}catch(m){Qe(t,t.return,m)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function H0(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function W0(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Jc(4,t)}catch(d){Qe(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){Qe(t,a,d)}}var i=t.return;try{Uh(t)}catch(d){Qe(t,i,d)}break;case 5:var o=t.return;try{Uh(t)}catch(d){Qe(t,o,d)}}}catch(d){Qe(t,t.return,d)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var W4=Math.ceil,oc=gr.ReactCurrentDispatcher,Sf=gr.ReactCurrentOwner,ms=gr.ReactCurrentBatchConfig,je=0,ut=null,st=null,vt=0,Yt=0,la=sn(0),lt=0,so=null,Tn=0,Xc=0,kf=0,Ti=null,$t=null,Cf=0,Ra=1/0,Xs=null,lc=!1,qh=null,Ir=null,Xo=!1,Er=null,cc=0,Ri=0,Hh=null,kl=-1,Cl=0;function Mt(){return je&6?Je():kl!==-1?kl:kl=Je()}function $r(e){return e.mode&1?je&2&&vt!==0?vt&-vt:E4.transition!==null?(Cl===0&&(Cl=wv()),Cl):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Ev(e.type)),e):1}function Cs(e,t,r,n){if(50<Ri)throw Ri=0,Hh=null,Error(W(185));vo(e,r,n),(!(je&2)||e!==ut)&&(e===ut&&(!(je&2)&&(Xc|=r),lt===4&&kr(e,vt)),zt(e,n),r===1&&je===0&&!(t.mode&1)&&(Ra=Je()+500,Qc&&rn()))}function zt(e,t){var r=e.callbackNode;E2(e,t);var n=Wl(e,e===ut?vt:0);if(n===0)r!==null&&t0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&t0(r),t===1)e.tag===0?A4(K0.bind(null,e)):Qv(K0.bind(null,e)),S4(function(){!(je&6)&&rn()}),r=null;else{switch(Nv(n)){case 1:r=Jm;break;case 4:r=bv;break;case 16:r=Hl;break;case 536870912:r=jv;break;default:r=Hl}r=Wb(r,Fb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fb(e,t){if(kl=-1,Cl=0,je&6)throw Error(W(327));var r=e.callbackNode;if(ba()&&e.callbackNode!==r)return null;var n=Wl(e,e===ut?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dc(e,n);else{t=n;var a=je;je|=2;var i=Ub();(ut!==e||vt!==t)&&(Xs=null,Ra=Je()+500,jn(e,t));do try{G4();break}catch(l){Bb(e,l)}while(!0);uf(),oc.current=i,je=a,st!==null?t=0:(ut=null,vt=0,t=lt)}if(t!==0){if(t===2&&(a=yh(e),a!==0&&(n=a,t=Wh(e,a))),t===1)throw r=so,jn(e,0),kr(e,n),zt(e,Je()),r;if(t===6)kr(e,n);else{if(a=e.current.alternate,!(n&30)&&!K4(a)&&(t=dc(e,n),t===2&&(i=yh(e),i!==0&&(n=i,t=Wh(e,i))),t===1))throw r=so,jn(e,0),kr(e,n),zt(e,Je()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:dn(e,$t,Xs);break;case 3:if(kr(e,n),(n&130023424)===n&&(t=Cf+500-Je(),10<t)){if(Wl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ch(dn.bind(null,e,$t,Xs),t);break}dn(e,$t,Xs);break;case 4:if(kr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ks(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W4(n/1960))-n,10<n){e.timeoutHandle=Ch(dn.bind(null,e,$t,Xs),n);break}dn(e,$t,Xs);break;case 5:dn(e,$t,Xs);break;default:throw Error(W(329))}}}return zt(e,Je()),e.callbackNode===r?Fb.bind(null,e):null}function Wh(e,t){var r=Ti;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=dc(e,t),e!==2&&(t=$t,$t=r,t!==null&&Kh(t)),e}function Kh(e){$t===null?$t=e:$t.push.apply($t,e)}function K4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ps(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~kf,t&=~Xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ks(t),n=1<<r;e[r]=-1,t&=~n}}function K0(e){if(je&6)throw Error(W(327));ba();var t=Wl(e,0);if(!(t&1))return zt(e,Je()),null;var r=dc(e,t);if(e.tag!==0&&r===2){var n=yh(e);n!==0&&(t=n,r=Wh(e,n))}if(r===1)throw r=so,jn(e,0),kr(e,t),zt(e,Je()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,$t,Xs),zt(e,Je()),null}function Pf(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Ra=Je()+500,Qc&&rn())}}function Rn(e){Er!==null&&Er.tag===0&&!(je&6)&&ba();var t=je;je|=1;var r=ms.transition,n=Ce;try{if(ms.transition=null,Ce=1,e)return e()}finally{Ce=n,ms.transition=r,je=t,!(je&6)&&rn()}}function Af(){Yt=la.current,De(la)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,N4(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(lf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jl();break;case 3:Ea(),De(Bt),De(Pt),gf();break;case 5:xf(n);break;case 4:Ea();break;case 13:De(Ve);break;case 19:De(Ve);break;case 10:hf(n.type._context);break;case 22:case 23:Af()}r=r.return}if(ut=e,st=e=Fr(e.current,null),vt=Yt=t,lt=0,so=null,kf=Xc=Tn=0,$t=Ti=null,xn!==null){for(t=0;t<xn.length;t++)if(r=xn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}xn=null}return e}function Bb(e,t){do{var r=st;try{if(uf(),wl.current=ic,ac){for(var n=He.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ac=!1}if(En=0,dt=it=He=null,Ai=!1,Zi=0,Sf.current=null,r===null||r.return===null){lt=1,so=t,st=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=vt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=L0(o);if(f!==null){f.flags&=-257,_0(f,o,l,i,t),f.mode&1&&M0(i,c,t),t=f,d=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(d),t.updateQueue=v}else p.add(d);break e}else{if(!(t&1)){M0(i,c,t),Ef();break e}d=Error(W(426))}}else if(Fe&&l.mode&1){var j=L0(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),_0(j,o,l,i,t),cf(Ta(d,l));break e}}i=d=Ta(d,l),lt!==4&&(lt=2),Ti===null?Ti=[i]:Ti.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Nb(i,d,t);P0(i,w);break e;case 1:l=d;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ir===null||!Ir.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Sb(i,l,t);P0(i,x);break e}}i=i.return}while(i!==null)}Vb(r)}catch(g){t=g,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function Ub(){var e=oc.current;return oc.current=ic,e===null?ic:e}function Ef(){(lt===0||lt===3||lt===2)&&(lt=4),ut===null||!(Tn&268435455)&&!(Xc&268435455)||kr(ut,vt)}function dc(e,t){var r=je;je|=2;var n=Ub();(ut!==e||vt!==t)&&(Xs=null,jn(e,t));do try{Q4();break}catch(a){Bb(e,a)}while(!0);if(uf(),je=r,oc.current=n,st!==null)throw Error(W(261));return ut=null,vt=0,lt}function Q4(){for(;st!==null;)zb(st)}function G4(){for(;st!==null&&!b2();)zb(st)}function zb(e){var t=Hb(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Vb(e):st=t,Sf.current=null}function Vb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=z4(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(r=U4(r,t,Yt),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function dn(e,t,r){var n=Ce,a=ms.transition;try{ms.transition=null,Ce=1,Y4(e,t,r,n)}finally{ms.transition=a,Ce=n}return null}function Y4(e,t,r,n){do ba();while(Er!==null);if(je&6)throw Error(W(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(T2(e,i),e===ut&&(st=ut=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xo||(Xo=!0,Wb(Hl,function(){return ba(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ms.transition,ms.transition=null;var o=Ce;Ce=1;var l=je;je|=4,Sf.current=null,q4(e,r),Ib(r,e),x4(Sh),Kl=!!Nh,Sh=Nh=null,e.current=r,H4(r),j2(),je=l,Ce=o,ms.transition=i}else e.current=r;if(Xo&&(Xo=!1,Er=e,cc=a),i=e.pendingLanes,i===0&&(Ir=null),S2(r.stateNode),zt(e,Je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(lc)throw lc=!1,e=qh,qh=null,e;return cc&1&&e.tag!==0&&ba(),i=e.pendingLanes,i&1?e===Hh?Ri++:(Ri=0,Hh=e):Ri=0,rn(),null}function ba(){if(Er!==null){var e=Nv(cc),t=ms.transition,r=Ce;try{if(ms.transition=null,Ce=16>e?16:e,Er===null)var n=!1;else{if(e=Er,Er=null,cc=0,je&6)throw Error(W(331));var a=je;for(je|=4,ee=e.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:Ei(8,u,i)}var h=u.child;if(h!==null)h.return=u,ee=h;else for(;ee!==null;){u=ee;var m=u.sibling,f=u.return;if(Lb(u),u===c){ee=null;break}if(m!==null){m.return=f,ee=m;break}ee=f}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ei(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ee=w;break e}ee=i.return}}var y=e.current;for(ee=y;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=y;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jc(9,l)}}catch(g){Qe(l,l.return,g)}if(l===o){ee=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,ee=x;break e}ee=l.return}}if(je=a,rn(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Vc,e)}catch{}n=!0}return n}finally{Ce=r,ms.transition=t}}return!1}function Q0(e,t,r){t=Ta(r,t),t=Nb(e,t,1),e=Dr(e,t,1),t=Mt(),e!==null&&(vo(e,1,t),zt(e,t))}function Qe(e,t,r){if(e.tag===3)Q0(e,e,r);else for(;t!==null;){if(t.tag===3){Q0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ir===null||!Ir.has(n))){e=Ta(r,e),e=Sb(t,e,1),t=Dr(t,e,1),e=Mt(),t!==null&&(vo(t,1,e),zt(t,e));break}}t=t.return}}function J4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(vt&r)===r&&(lt===4||lt===3&&(vt&130023424)===vt&&500>Je()-Cf?jn(e,0):kf|=r),zt(e,t)}function qb(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var r=Mt();e=hr(e,t),e!==null&&(vo(e,t,r),zt(e,r))}function X4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qb(e,r)}function Z4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),qb(e,r)}var Hb;Hb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ft=!1,B4(e,t,r);Ft=!!(e.flags&131072)}else Ft=!1,Fe&&t.flags&1048576&&Gv(t,ec,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sl(e,t),e=t.pendingProps;var a=Ca(t,Pt.current);va(t,r),a=vf(null,t,n,e,a,r);var i=bf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(n)?(i=!0,Xl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ff(t),a.updater=Yc,t.stateNode=a,a._reactInternals=t,Mh(t,n,e,r),t=Dh(null,t,n,!0,i,r)):(t.tag=0,Fe&&i&&of(t),Tt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=tS(n),e=bs(n,e),a){case 0:t=_h(null,t,n,e,r);break e;case 1:t=$0(null,t,n,e,r);break e;case 11:t=D0(null,t,n,e,r);break e;case 14:t=I0(null,t,n,bs(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),_h(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),$0(e,t,n,a,r);case 3:e:{if(Ab(t),e===null)throw Error(W(387));n=t.pendingProps,i=t.memoizedState,a=i.element,tb(e,t),rc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ta(Error(W(423)),t),t=F0(e,t,n,r,a);break e}else if(n!==a){a=Ta(Error(W(424)),t),t=F0(e,t,n,r,a);break e}else for(Jt=_r(t.stateNode.containerInfo.firstChild),Xt=t,Fe=!0,Ns=null,r=Zv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pa(),n===a){t=mr(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return sb(t),e===null&&Th(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,kh(n,a)?o=null:i!==null&&kh(n,i)&&(t.flags|=32),Pb(e,t),Tt(e,t,o,r),t.child;case 6:return e===null&&Th(t),null;case 13:return Eb(e,t,r);case 4:return pf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Aa(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),D0(e,t,n,a,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Re(tc,n._currentValue),n._currentValue=o,i!==null)if(Ps(i.value,o)){if(i.children===a.children&&!Bt.current){t=mr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=or(-1,r&-r),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Rh(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,va(t,r),a=fs(a),n=n(a),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,a=bs(n,t.pendingProps),a=bs(n.type,a),I0(e,t,n,a,r);case 15:return kb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),Sl(e,t),t.tag=1,Ut(n)?(e=!0,Xl(t)):e=!1,va(t,r),wb(t,n,a),Mh(t,n,a,r),Dh(null,t,n,!0,e,r);case 19:return Tb(e,t,r);case 22:return Cb(e,t,r)}throw Error(W(156,t.tag))};function Wb(e,t){return vv(e,t)}function eS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(e,t,r,n){return new eS(e,t,r,n)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tS(e){if(typeof e=="function")return Tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qm)return 11;if(e===Gm)return 14}return 2}function Fr(e,t){var r=e.alternate;return r===null?(r=hs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pl(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xn:return wn(r.children,a,i,t);case Km:o=8,a|=8;break;case rh:return e=hs(12,r,t,a|2),e.elementType=rh,e.lanes=i,e;case nh:return e=hs(13,r,t,a),e.elementType=nh,e.lanes=i,e;case ah:return e=hs(19,r,t,a),e.elementType=ah,e.lanes=i,e;case sv:return Zc(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ev:o=10;break e;case tv:o=9;break e;case Qm:o=11;break e;case Gm:o=14;break e;case jr:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=hs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function wn(e,t,r,n){return e=hs(7,e,n,t),e.lanes=r,e}function Zc(e,t,r,n){return e=hs(22,e,n,t),e.elementType=sv,e.lanes=r,e.stateNode={isHidden:!1},e}function ju(e,t,r){return e=hs(6,e,null,t),e.lanes=r,e}function wu(e,t,r){return t=hs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sS(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Rf(e,t,r,n,a,i,o,l,d){return e=new sS(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(i),e}function rS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kb(e){if(!e)return Wr;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Ut(r))return Kv(e,r,t)}return t}function Qb(e,t,r,n,a,i,o,l,d){return e=Rf(r,n,!0,e,a,i,o,l,d),e.context=Kb(null),r=e.current,n=Mt(),a=$r(r),i=or(n,a),i.callback=t??null,Dr(r,i,a),e.current.lanes=a,vo(e,a,n),zt(e,n),e}function ed(e,t,r,n){var a=t.current,i=Mt(),o=$r(a);return r=Kb(r),t.context===null?t.context=r:t.pendingContext=r,t=or(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dr(a,t,o),e!==null&&(Cs(e,a,o,i),jl(e,a,o)),o}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Of(e,t){G0(e,t),(e=e.alternate)&&G0(e,t)}function nS(){return null}var Gb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mf(e){this._internalRoot=e}td.prototype.render=Mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ed(e,t,null,null)};td.prototype.unmount=Mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){ed(null,e,null,null)}),t[ur]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sr.length&&t!==0&&t<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&Av(e)}};function Lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function aS(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=uc(o);i.call(c)}}var o=Qb(t,n,e,0,null,!1,!1,"",Y0);return e._reactRootContainer=o,e[ur]=o.current,Qi(e.nodeType===8?e.parentNode:e),Rn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var c=uc(d);l.call(c)}}var d=Rf(e,0,!1,null,null,!1,!1,"",Y0);return e._reactRootContainer=d,e[ur]=d.current,Qi(e.nodeType===8?e.parentNode:e),Rn(function(){ed(t,d,r,n)}),d}function rd(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=uc(o);l.call(d)}}ed(t,o,e,a)}else o=aS(r,t,e,a,n);return uc(o)}Sv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gi(t.pendingLanes);r!==0&&(Xm(t,r|1),zt(t,Je()),!(je&6)&&(Ra=Je()+500,rn()))}break;case 13:Rn(function(){var n=hr(e,1);if(n!==null){var a=Mt();Cs(n,e,1,a)}}),Of(e,1)}};Zm=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var r=Mt();Cs(t,e,134217728,r)}Of(e,134217728)}};kv=function(e){if(e.tag===13){var t=$r(e),r=hr(e,t);if(r!==null){var n=Mt();Cs(r,e,t,n)}Of(e,t)}};Cv=function(){return Ce};Pv=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};ph=function(e,t,r){switch(t){case"input":if(lh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Kc(n);if(!a)throw Error(W(90));nv(n),lh(n,a)}}}break;case"textarea":iv(e,r);break;case"select":t=r.value,t!=null&&pa(e,!!r.multiple,t,!1)}};mv=Pf;fv=Rn;var iS={usingClientEntryPoint:!1,Events:[jo,sa,Kc,uv,hv,Pf]},ii={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gv(e),e===null?null:e.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||nS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{Vc=Zo.inject(oS),Vs=Zo}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS;ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(t))throw Error(W(200));return rS(e,t,null,r)};ns.createRoot=function(e,t){if(!Lf(e))throw Error(W(299));var r=!1,n="",a=Gb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Rf(e,1,!1,null,null,r,!1,n,a),e[ur]=t.current,Qi(e.nodeType===8?e.parentNode:e),new Mf(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=gv(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return Rn(e)};ns.hydrate=function(e,t,r){if(!sd(t))throw Error(W(200));return rd(null,e,t,!0,r)};ns.hydrateRoot=function(e,t,r){if(!Lf(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Gb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Qb(t,null,e,1,r??null,a,!1,i,o),e[ur]=t.current,Qi(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new td(t)};ns.render=function(e,t,r){if(!sd(t))throw Error(W(200));return rd(null,e,t,!1,r)};ns.unmountComponentAtNode=function(e){if(!sd(e))throw Error(W(40));return e._reactRootContainer?(Rn(function(){rd(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};ns.unstable_batchedUpdates=Pf;ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sd(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return rd(e,t,r,!1,n)};ns.version="18.3.1-next-f1338f8080-20240426";function Yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yb)}catch(e){console.error(e)}}Yb(),Yy.exports=ns;var nd=Yy.exports,J0=nd;th.createRoot=J0.createRoot,th.hydrateRoot=J0.hydrateRoot;var Jb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=N;function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cS=typeof Object.is=="function"?Object.is:lS,dS=Oa.useState,uS=Oa.useEffect,hS=Oa.useLayoutEffect,mS=Oa.useDebugValue;function fS(e,t){var r=t(),n=dS({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return hS(function(){a.value=r,a.getSnapshot=t,Nu(a)&&i({inst:a})},[e,r,t]),uS(function(){return Nu(a)&&i({inst:a}),e(function(){Nu(a)&&i({inst:a})})},[e]),mS(r),r}function Nu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cS(e,r)}catch{return!0}}function pS(e,t){return t()}var xS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pS:fS;Xb.useSyncExternalStore=Oa.useSyncExternalStore!==void 0?Oa.useSyncExternalStore:xS;Jb.exports=Xb;var gS=Jb.exports,Zb={exports:{}},ej={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=N,yS=gS;function vS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bS=typeof Object.is=="function"?Object.is:vS,jS=yS.useSyncExternalStore,wS=ad.useRef,NS=ad.useEffect,SS=ad.useMemo,kS=ad.useDebugValue;ej.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=wS(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=SS(function(){function d(f){if(!c){if(c=!0,u=f,f=n(f),a!==void 0&&o.hasValue){var p=o.value;if(a(p,f))return h=p}return h=f}if(p=h,bS(u,f))return p;var v=n(f);return a!==void 0&&a(p,v)?(u=f,p):(u=f,h=v)}var c=!1,u,h,m=r===void 0?null:r;return[function(){return d(t())},m===null?void 0:function(){return d(m())}]},[t,r,n,a]);var l=jS(e,i[0],i[1]);return NS(function(){o.hasValue=!0,o.value=l},[l]),kS(l),l};Zb.exports=ej;var CS=Zb.exports;function PS(e){e()}let tj=PS;const AS=e=>tj=e,ES=()=>tj,X0=Symbol.for("react-redux-context"),Z0=typeof globalThis<"u"?globalThis:{};function TS(){var e;if(!N.createContext)return{};const t=(e=Z0[X0])!=null?e:Z0[X0]=new Map;let r=t.get(N.createContext);return r||(r=N.createContext(null),t.set(N.createContext,r)),r}const Kr=TS();function _f(e=Kr){return function(){return N.useContext(e)}}const sj=_f(),RS=()=>{throw new Error("uSES not initialized!")};let rj=RS;const OS=e=>{rj=e},MS=(e,t)=>e===t;function LS(e=Kr){const t=e===Kr?sj:_f(e);return function(n,a={}){const{equalityFn:i=MS,stabilityCheck:o=void 0,noopCheck:l=void 0}=typeof a=="function"?{equalityFn:a}:a,{store:d,subscription:c,getServerState:u,stabilityCheck:h,noopCheck:m}=t();N.useRef(!0);const f=N.useCallback({[n.name](v){return n(v)}}[n.name],[n,h,o]),p=rj(c.addNestedSub,d.getState,u||d.getState,f,i);return N.useDebugValue(p),p}}const de=LS();var nj={exports:{}},Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=typeof Symbol=="function"&&Symbol.for,Df=mt?Symbol.for("react.element"):60103,If=mt?Symbol.for("react.portal"):60106,id=mt?Symbol.for("react.fragment"):60107,od=mt?Symbol.for("react.strict_mode"):60108,ld=mt?Symbol.for("react.profiler"):60114,cd=mt?Symbol.for("react.provider"):60109,dd=mt?Symbol.for("react.context"):60110,$f=mt?Symbol.for("react.async_mode"):60111,ud=mt?Symbol.for("react.concurrent_mode"):60111,hd=mt?Symbol.for("react.forward_ref"):60112,md=mt?Symbol.for("react.suspense"):60113,_S=mt?Symbol.for("react.suspense_list"):60120,fd=mt?Symbol.for("react.memo"):60115,pd=mt?Symbol.for("react.lazy"):60116,DS=mt?Symbol.for("react.block"):60121,IS=mt?Symbol.for("react.fundamental"):60117,$S=mt?Symbol.for("react.responder"):60118,FS=mt?Symbol.for("react.scope"):60119;function is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Df:switch(e=e.type,e){case $f:case ud:case id:case ld:case od:case md:return e;default:switch(e=e&&e.$$typeof,e){case dd:case hd:case pd:case fd:case cd:return e;default:return t}}case If:return t}}}function aj(e){return is(e)===ud}Pe.AsyncMode=$f;Pe.ConcurrentMode=ud;Pe.ContextConsumer=dd;Pe.ContextProvider=cd;Pe.Element=Df;Pe.ForwardRef=hd;Pe.Fragment=id;Pe.Lazy=pd;Pe.Memo=fd;Pe.Portal=If;Pe.Profiler=ld;Pe.StrictMode=od;Pe.Suspense=md;Pe.isAsyncMode=function(e){return aj(e)||is(e)===$f};Pe.isConcurrentMode=aj;Pe.isContextConsumer=function(e){return is(e)===dd};Pe.isContextProvider=function(e){return is(e)===cd};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Df};Pe.isForwardRef=function(e){return is(e)===hd};Pe.isFragment=function(e){return is(e)===id};Pe.isLazy=function(e){return is(e)===pd};Pe.isMemo=function(e){return is(e)===fd};Pe.isPortal=function(e){return is(e)===If};Pe.isProfiler=function(e){return is(e)===ld};Pe.isStrictMode=function(e){return is(e)===od};Pe.isSuspense=function(e){return is(e)===md};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===id||e===ud||e===ld||e===od||e===md||e===_S||typeof e=="object"&&e!==null&&(e.$$typeof===pd||e.$$typeof===fd||e.$$typeof===cd||e.$$typeof===dd||e.$$typeof===hd||e.$$typeof===IS||e.$$typeof===$S||e.$$typeof===FS||e.$$typeof===DS)};Pe.typeOf=is;nj.exports=Pe;var BS=nj.exports,ij=BS,US={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oj={};oj[ij.ForwardRef]=US;oj[ij.Memo]=zS;var Ee={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),xd=Symbol.for("react.fragment"),gd=Symbol.for("react.strict_mode"),yd=Symbol.for("react.profiler"),vd=Symbol.for("react.provider"),bd=Symbol.for("react.context"),VS=Symbol.for("react.server_context"),jd=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),Nd=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),kd=Symbol.for("react.lazy"),qS=Symbol.for("react.offscreen"),lj;lj=Symbol.for("react.module.reference");function ys(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ff:switch(e=e.type,e){case xd:case yd:case gd:case wd:case Nd:return e;default:switch(e=e&&e.$$typeof,e){case VS:case bd:case jd:case kd:case Sd:case vd:return e;default:return t}}case Bf:return t}}}Ee.ContextConsumer=bd;Ee.ContextProvider=vd;Ee.Element=Ff;Ee.ForwardRef=jd;Ee.Fragment=xd;Ee.Lazy=kd;Ee.Memo=Sd;Ee.Portal=Bf;Ee.Profiler=yd;Ee.StrictMode=gd;Ee.Suspense=wd;Ee.SuspenseList=Nd;Ee.isAsyncMode=function(){return!1};Ee.isConcurrentMode=function(){return!1};Ee.isContextConsumer=function(e){return ys(e)===bd};Ee.isContextProvider=function(e){return ys(e)===vd};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ff};Ee.isForwardRef=function(e){return ys(e)===jd};Ee.isFragment=function(e){return ys(e)===xd};Ee.isLazy=function(e){return ys(e)===kd};Ee.isMemo=function(e){return ys(e)===Sd};Ee.isPortal=function(e){return ys(e)===Bf};Ee.isProfiler=function(e){return ys(e)===yd};Ee.isStrictMode=function(e){return ys(e)===gd};Ee.isSuspense=function(e){return ys(e)===wd};Ee.isSuspenseList=function(e){return ys(e)===Nd};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xd||e===yd||e===gd||e===wd||e===Nd||e===qS||typeof e=="object"&&e!==null&&(e.$$typeof===kd||e.$$typeof===Sd||e.$$typeof===vd||e.$$typeof===bd||e.$$typeof===jd||e.$$typeof===lj||e.getModuleId!==void 0)};Ee.typeOf=ys;function HS(){const e=ES();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],a=t;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0,i=r={callback:n,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const ex={notify(){},get:()=>[]};function WS(e,t){let r,n=ex,a=0,i=!1;function o(v){u();const j=n.subscribe(v);let w=!1;return()=>{w||(w=!0,j(),h())}}function l(){n.notify()}function d(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){a++,r||(r=e.subscribe(d),n=HS())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=ex)}function m(){i||(i=!0,u())}function f(){i&&(i=!1,h())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:c,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>n};return p}const KS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QS=KS?N.useLayoutEffect:N.useEffect;function tx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function hc(e,t){if(tx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!tx(e[r[a]],t[r[a]]))return!1;return!0}function GS({store:e,context:t,children:r,serverState:n,stabilityCheck:a="once",noopCheck:i="once"}){const o=N.useMemo(()=>{const c=WS(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:a,noopCheck:i}},[e,n,a,i]),l=N.useMemo(()=>e.getState(),[e]);QS(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const d=t||Kr;return N.createElement(d.Provider,{value:o},r)}function cj(e=Kr){const t=e===Kr?sj:_f(e);return function(){const{store:n}=t();return n}}const dj=cj();function YS(e=Kr){const t=e===Kr?dj:cj(e);return function(){return t().dispatch}}const ft=YS();OS(CS.useSyncExternalStoreWithSelector);AS(nd.unstable_batchedUpdates);/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const sx="popstate";function JS(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Qh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:mc(a)}return ZS(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XS(){return Math.random().toString(36).substr(2,8)}function rx(e,t){return{usr:e.state,key:e.key,idx:t}}function Qh(e,t,r,n){return r===void 0&&(r=null),ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qa(t):t,{state:r,key:t&&t.key||n||XS()})}function mc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ZS(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Tr.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(ro({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Tr.Pop;let j=u(),w=j==null?null:j-c;c=j,d&&d({action:l,location:v.location,delta:w})}function m(j,w){l=Tr.Push;let y=Qh(v.location,j,w);c=u()+1;let b=rx(y,c),x=v.createHref(y);try{o.pushState(b,"",x)}catch{a.location.assign(x)}i&&d&&d({action:l,location:v.location,delta:1})}function f(j,w){l=Tr.Replace;let y=Qh(v.location,j,w);c=u();let b=rx(y,c),x=v.createHref(y);o.replaceState(b,"",x),i&&d&&d({action:l,location:v.location,delta:0})}function p(j){let w=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof j=="string"?j:mc(j);return nt(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return l},get location(){return e(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(sx,h),d=j,()=>{a.removeEventListener(sx,h),d=null}},createHref(j){return t(a,j)},createURL:p,encodeLocation(j){let w=p(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:f,go(j){return o.go(j)}};return v}var nx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nx||(nx={}));function e5(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?qa(t):t,a=mj(n.pathname||"/",r);if(a==null)return null;let i=uj(e);t5(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=d5(i[l],m5(a));return o}function uj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(nt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=Br([n,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uj(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:l5(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of hj(i.path))a(i,o,d)}),t}function hj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=hj(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function t5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:c5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const s5=/^:\w+$/,r5=3,n5=2,a5=1,i5=10,o5=-2,ax=e=>e==="*";function l5(e,t){let r=e.split("/"),n=r.length;return r.some(ax)&&(n+=o5),t&&(n+=n5),r.filter(a=>!ax(a)).reduce((a,i)=>a+(s5.test(i)?r5:i===""?a5:i5),n)}function c5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function d5(e,t){let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],d=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",u=u5({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},c);if(!u)return null;Object.assign(n,u.params);let h=l.route;i.push({params:n,pathname:Br([a,u.pathname]),pathnameBase:g5(Br([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=Br([a,u.pathnameBase]))}return i}function u5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=h5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,u,h)=>{if(u==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return c[u]=f5(l[h]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:e}}function h5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(n.push(l),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function m5(e){try{return decodeURI(e)}catch(t){return Uf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function f5(e,t){try{return decodeURIComponent(e)}catch(r){return Uf(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function mj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Uf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?qa(e):e;return{pathname:r?r.startsWith("/")?r:x5(r,t):t,search:y5(n),hash:v5(a)}}function x5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Su(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pj(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=qa(e):(a=ro({},e),nt(!a.pathname||!a.pathname.includes("?"),Su("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),Su("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),Su("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(n||o==null)l=r;else{let h=t.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let d=p5(a,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Br=e=>e.join("/").replace(/\/\/+/g,"/"),g5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xj=["post","put","patch","delete"];new Set(xj);const j5=["get",...xj];new Set(j5);/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}const gj=N.createContext(null),zf=N.createContext(null),Cd=N.createContext(null),Pd=N.createContext(null),$n=N.createContext({outlet:null,matches:[]}),yj=N.createContext(null);function w5(e,t){let{relative:r}=t===void 0?{}:t;Ha()||nt(!1);let{basename:n,navigator:a}=N.useContext(Cd),{hash:i,pathname:o,search:l}=vj(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:Br([n,o])),a.createHref({pathname:d,search:l,hash:i})}function Ha(){return N.useContext(Pd)!=null}function ts(){return Ha()||nt(!1),N.useContext(Pd).location}function ne(){Ha()||nt(!1);let{basename:e,navigator:t}=N.useContext(Cd),{matches:r}=N.useContext($n),{pathname:n}=ts(),a=JSON.stringify(fj(r).map(l=>l.pathnameBase)),i=N.useRef(!1);return N.useEffect(()=>{i.current=!0}),N.useCallback(function(l,d){if(d===void 0&&(d={}),!i.current)return;if(typeof l=="number"){t.go(l);return}let c=pj(l,JSON.parse(a),n,d.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:Br([e,c.pathname])),(d.replace?t.replace:t.push)(c,d.state,d)},[e,t,a,n])}function No(){let{matches:e}=N.useContext($n),t=e[e.length-1];return t?t.params:{}}function vj(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=N.useContext($n),{pathname:a}=ts(),i=JSON.stringify(fj(n).map(o=>o.pathnameBase));return N.useMemo(()=>pj(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function N5(e,t){Ha()||nt(!1);let{navigator:r}=N.useContext(Cd),n=N.useContext(zf),{matches:a}=N.useContext($n),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let d=ts(),c;if(t){var u;let v=typeof t=="string"?qa(t):t;l==="/"||(u=v.pathname)!=null&&u.startsWith(l)||nt(!1),c=v}else c=d;let h=c.pathname||"/",m=l==="/"?h:h.slice(l.length)||"/",f=e5(e,{pathname:m}),p=P5(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Br([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Br([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n||void 0);return t&&p?N.createElement(Pd.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tr.Pop}},p):p}function S5(){let e=R5(),t=b5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}class k5 extends N.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?N.createElement($n.Provider,{value:this.props.routeContext},N.createElement(yj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C5(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(gj);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement($n.Provider,{value:t},n)}function P5(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,a=r==null?void 0:r.errors;if(a!=null){let i=n.findIndex(o=>o.route.id&&(a==null?void 0:a[o.route.id]));i>=0||nt(!1),n=n.slice(0,Math.min(n.length,i+1))}return n.reduceRight((i,o,l)=>{let d=o.route.id?a==null?void 0:a[o.route.id]:null,c=r?o.route.errorElement||N.createElement(S5,null):null,u=t.concat(n.slice(0,l+1)),h=()=>N.createElement(C5,{match:o,routeContext:{outlet:i,matches:u}},d?c:o.route.element!==void 0?o.route.element:i);return r&&(o.route.errorElement||l===0)?N.createElement(k5,{location:r.location,component:c,error:d,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var ix;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(ix||(ix={}));var fc;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(fc||(fc={}));function A5(e){let t=N.useContext(zf);return t||nt(!1),t}function E5(e){let t=N.useContext($n);return t||nt(!1),t}function T5(e){let t=E5(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function R5(){var e;let t=N.useContext(yj),r=A5(fc.UseRouteError),n=T5(fc.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function nr(e){let{to:t,replace:r,state:n,relative:a}=e;Ha()||nt(!1);let i=N.useContext(zf),o=ne();return N.useEffect(()=>{i&&i.navigation.state!=="idle"||o(t,{replace:r,state:n,relative:a})}),null}function te(e){nt(!1)}function O5(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Tr.Pop,navigator:i,static:o=!1}=e;Ha()&&nt(!1);let l=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof n=="string"&&(n=qa(n));let{pathname:c="/",search:u="",hash:h="",state:m=null,key:f="default"}=n,p=N.useMemo(()=>{let v=mj(c,l);return v==null?null:{pathname:v,search:u,hash:h,state:m,key:f}},[l,c,u,h,m,f]);return p==null?null:N.createElement(Cd.Provider,{value:d},N.createElement(Pd.Provider,{children:r,value:{location:p,navigationType:a}}))}function Vf(e){let{children:t,location:r}=e,n=N.useContext(gj),a=n&&!t?n.router.routes:Yh(t);return N5(a,r)}var ox;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ox||(ox={}));new Promise(()=>{});function Yh(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;if(n.type===N.Fragment){r.push.apply(r,Yh(n.props.children,t));return}n.type!==te&&nt(!1),!n.props.index||!n.props.children||nt(!1);let i=[...t,a],o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(o.children=Yh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(this,arguments)}function M5(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function L5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _5(e,t){return e.button===0&&(!t||t==="_self")&&!L5(e)}const D5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function I5(e){let{basename:t,children:r,window:n}=e,a=N.useRef();a.current==null&&(a.current=JS({window:n,v5Compat:!0}));let i=a.current,[o,l]=N.useState({action:i.action,location:i.location});return N.useLayoutEffect(()=>i.listen(l),[i]),N.createElement(O5,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}const $5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ce=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u}=t,h=M5(t,D5),m,f=!1;if($5&&typeof c=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(c)){m=c;let w=new URL(window.location.href),y=c.startsWith("//")?new URL(w.protocol+c):new URL(c);y.origin===w.origin?c=y.pathname+y.search+y.hash:f=!0}let p=w5(c,{relative:a}),v=F5(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:a});function j(w){n&&n(w),w.defaultPrevented||v(w)}return N.createElement("a",Jh({},h,{href:m||p,onClick:f||i?n:j,ref:r,target:d}))});var lx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(lx||(lx={}));var cx;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cx||(cx={}));function F5(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o}=t===void 0?{}:t,l=ne(),d=ts(),c=vj(e,{relative:o});return N.useCallback(u=>{if(_5(u,r)){u.preventDefault();let h=n!==void 0?n:mc(d)===mc(c);l(e,{replace:h,state:a,preventScrollReset:i,relative:o})}},[d,l,c,n,a,r,e,i,o])}function yt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function As(e){return!!e&&!!e[Le]}function Es(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===Q5}(e)||Array.isArray(e)||!!e[Oi]||!!(!((t=e.constructor)===null||t===void 0)&&t[Oi])||Ad(e)||Ed(e))}function B5(e){return As(e)||yt(23,e),e[Le].t}function Qr(e,t,r){r===void 0&&(r=!1),Gr(e)===0?(r?Object.keys:ja)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,a){return t(a,n,e)})}function Gr(e){var t=e[Le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ad(e)?2:Ed(e)?3:0}function Ur(e,t){return Gr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Al(e,t){return Gr(e)===2?e.get(t):e[t]}function bj(e,t,r){var n=Gr(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function jj(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Ad(e){return W5&&e instanceof Map}function Ed(e){return K5&&e instanceof Set}function un(e){return e.o||e.t}function qf(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Nj(e);delete t[Le];for(var r=ja(t),n=0;n<r.length;n++){var a=r[n],i=t[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function Hf(e,t){return t===void 0&&(t=!1),Wf(e)||As(e)||!Es(e)||(Gr(e)>1&&(e.set=e.add=e.clear=e.delete=U5),Object.freeze(e),t&&Qr(e,function(r,n){return Hf(n,!0)},!0)),e}function U5(){yt(2)}function Wf(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Hs(e){var t=tm[e];return t||yt(18,e),t}function wj(e,t){tm[e]||(tm[e]=t)}function Xh(){return no}function ku(e,t){t&&(Hs("Patches"),e.u=[],e.s=[],e.v=t)}function pc(e){Zh(e),e.p.forEach(z5),e.p=null}function Zh(e){e===no&&(no=e.l)}function dx(e){return no={p:[],l:no,h:e,m:!0,_:0}}function z5(e){var t=e[Le];t.i===0||t.i===1?t.j():t.g=!0}function Cu(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Hs("ES5").S(t,e,n),n?(r[Le].P&&(pc(t),yt(4)),Es(e)&&(e=xc(t,e),t.l||gc(t,e)),t.u&&Hs("Patches").M(r[Le].t,e,t.u,t.s)):e=xc(t,r,[]),pc(t),t.u&&t.v(t.u,t.s),e!==Qf?e:void 0}function xc(e,t,r){if(Wf(t))return t;var n=t[Le];if(!n)return Qr(t,function(l,d){return ux(e,n,t,l,d,r)},!0),t;if(n.A!==e)return t;if(!n.P)return gc(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=qf(n.k):n.o,i=a,o=!1;n.i===3&&(i=new Set(a),a.clear(),o=!0),Qr(i,function(l,d){return ux(e,n,a,l,d,r,o)}),gc(e,a,!1),r&&e.u&&Hs("Patches").N(n,r,e.u,e.s)}return n.o}function ux(e,t,r,n,a,i,o){if(As(a)){var l=xc(e,a,i&&t&&t.i!==3&&!Ur(t.R,n)?i.concat(n):void 0);if(bj(r,n,l),!As(l))return;e.m=!1}else o&&r.add(a);if(Es(a)&&!Wf(a)){if(!e.h.D&&e._<1)return;xc(e,a),t&&t.A.l||gc(e,a)}}function gc(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Hf(t,r)}function Pu(e,t){var r=e[Le];return(r?un(r):e)[t]}function hx(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Cr(e){e.P||(e.P=!0,e.l&&Cr(e.l))}function Au(e){e.o||(e.o=qf(e.t))}function em(e,t,r){var n=Ad(t)?Hs("MapSet").F(t,r):Ed(t)?Hs("MapSet").T(t,r):e.O?function(a,i){var o=Array.isArray(a),l={i:o?1:0,A:i?i.A:Xh(),P:!1,I:!1,R:{},l:i,t:a,k:null,o:null,j:null,C:!1},d=l,c=ao;o&&(d=[l],c=vi);var u=Proxy.revocable(d,c),h=u.revoke,m=u.proxy;return l.k=m,l.j=h,m}(t,r):Hs("ES5").J(t,r);return(r?r.A:Xh()).p.push(n),n}function V5(e){return As(e)||yt(22,e),function t(r){if(!Es(r))return r;var n,a=r[Le],i=Gr(r);if(a){if(!a.P&&(a.i<4||!Hs("ES5").K(a)))return a.t;a.I=!0,n=mx(r,i),a.I=!1}else n=mx(r,i);return Qr(n,function(o,l){a&&Al(a.t,o)===l||bj(n,o,t(l))}),i===3?new Set(n):n}(e)}function mx(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return qf(e)}function q5(){function e(i,o){var l=a[i];return l?l.enumerable=o:a[i]=l={configurable:!0,enumerable:o,get:function(){var d=this[Le];return ao.get(d,i)},set:function(d){var c=this[Le];ao.set(c,i,d)}},l}function t(i){for(var o=i.length-1;o>=0;o--){var l=i[o][Le];if(!l.P)switch(l.i){case 5:n(l)&&Cr(l);break;case 4:r(l)&&Cr(l)}}}function r(i){for(var o=i.t,l=i.k,d=ja(l),c=d.length-1;c>=0;c--){var u=d[c];if(u!==Le){var h=o[u];if(h===void 0&&!Ur(o,u))return!0;var m=l[u],f=m&&m[Le];if(f?f.t!==h:!jj(m,h))return!0}}var p=!!o[Le];return d.length!==ja(o).length+(p?0:1)}function n(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var d=0;d<o.length;d++)if(!o.hasOwnProperty(d))return!0;return!1}var a={};wj("ES5",{J:function(i,o){var l=Array.isArray(i),d=function(u,h){if(u){for(var m=Array(h.length),f=0;f<h.length;f++)Object.defineProperty(m,""+f,e(f,!0));return m}var p=Nj(h);delete p[Le];for(var v=ja(p),j=0;j<v.length;j++){var w=v[j];p[w]=e(w,u||!!p[w].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(l,i),c={i:l?5:4,A:o?o.A:Xh(),P:!1,I:!1,R:{},l:o,t:i,k:d,o:null,g:!1,C:!1};return Object.defineProperty(d,Le,{value:c,writable:!0}),d},S:function(i,o,l){l?As(o)&&o[Le].A===i&&t(i.p):(i.u&&function d(c){if(c&&typeof c=="object"){var u=c[Le];if(u){var h=u.t,m=u.k,f=u.R,p=u.i;if(p===4)Qr(m,function(b){b!==Le&&(h[b]!==void 0||Ur(h,b)?f[b]||d(m[b]):(f[b]=!0,Cr(u)))}),Qr(h,function(b){m[b]!==void 0||Ur(m,b)||(f[b]=!1,Cr(u))});else if(p===5){if(n(u)&&(Cr(u),f.length=!0),m.length<h.length)for(var v=m.length;v<h.length;v++)f[v]=!1;else for(var j=h.length;j<m.length;j++)f[j]=!0;for(var w=Math.min(m.length,h.length),y=0;y<w;y++)m.hasOwnProperty(y)||(f[y]=!0),f[y]===void 0&&d(m[y])}}}}(i.p[0]),t(i.p))},K:function(i){return i.i===4?r(i):n(i)}})}function H5(){function e(n){if(!Es(n))return n;if(Array.isArray(n))return n.map(e);if(Ad(n))return new Map(Array.from(n.entries()).map(function(o){return[o[0],e(o[1])]}));if(Ed(n))return new Set(Array.from(n).map(e));var a=Object.create(Object.getPrototypeOf(n));for(var i in n)a[i]=e(n[i]);return Ur(n,Oi)&&(a[Oi]=n[Oi]),a}function t(n){return As(n)?e(n):n}var r="add";wj("Patches",{$:function(n,a){return a.forEach(function(i){for(var o=i.path,l=i.op,d=n,c=0;c<o.length-1;c++){var u=Gr(d),h=o[c];typeof h!="string"&&typeof h!="number"&&(h=""+h),u!==0&&u!==1||h!=="__proto__"&&h!=="constructor"||yt(24),typeof d=="function"&&h==="prototype"&&yt(24),typeof(d=Al(d,h))!="object"&&yt(15,o.join("/"))}var m=Gr(d),f=e(i.value),p=o[o.length-1];switch(l){case"replace":switch(m){case 2:return d.set(p,f);case 3:yt(16);default:return d[p]=f}case r:switch(m){case 1:return p==="-"?d.push(f):d.splice(p,0,f);case 2:return d.set(p,f);case 3:return d.add(f);default:return d[p]=f}case"remove":switch(m){case 1:return d.splice(p,1);case 2:return d.delete(p);case 3:return d.delete(i.value);default:return delete d[p]}default:yt(17,l)}}),n},N:function(n,a,i,o){switch(n.i){case 0:case 4:case 2:return function(l,d,c,u){var h=l.t,m=l.o;Qr(l.R,function(f,p){var v=Al(h,f),j=Al(m,f),w=p?Ur(h,f)?"replace":r:"remove";if(v!==j||w!=="replace"){var y=d.concat(f);c.push(w==="remove"?{op:w,path:y}:{op:w,path:y,value:j}),u.push(w===r?{op:"remove",path:y}:w==="remove"?{op:r,path:y,value:t(v)}:{op:"replace",path:y,value:t(v)})}})}(n,a,i,o);case 5:case 1:return function(l,d,c,u){var h=l.t,m=l.R,f=l.o;if(f.length<h.length){var p=[f,h];h=p[0],f=p[1];var v=[u,c];c=v[0],u=v[1]}for(var j=0;j<h.length;j++)if(m[j]&&f[j]!==h[j]){var w=d.concat([j]);c.push({op:"replace",path:w,value:t(f[j])}),u.push({op:"replace",path:w,value:t(h[j])})}for(var y=h.length;y<f.length;y++){var b=d.concat([y]);c.push({op:r,path:b,value:t(f[y])})}h.length<f.length&&u.push({op:"replace",path:d.concat(["length"]),value:h.length})}(n,a,i,o);case 3:return function(l,d,c,u){var h=l.t,m=l.o,f=0;h.forEach(function(p){if(!m.has(p)){var v=d.concat([f]);c.push({op:"remove",path:v,value:p}),u.unshift({op:r,path:v,value:p})}f++}),f=0,m.forEach(function(p){if(!h.has(p)){var v=d.concat([f]);c.push({op:r,path:v,value:p}),u.unshift({op:"remove",path:v,value:p})}f++})}(n,a,i,o)}},M:function(n,a,i,o){i.push({op:"replace",path:[],value:a===Qf?void 0:a}),o.push({op:"replace",path:[],value:n})}})}var fx,no,Kf=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",W5=typeof Map<"u",K5=typeof Set<"u",px=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Qf=Kf?Symbol.for("immer-nothing"):((fx={})["immer-nothing"]=!0,fx),Oi=Kf?Symbol.for("immer-draftable"):"__$immer_draftable",Le=Kf?Symbol.for("immer-state"):"__$immer_state",Q5=""+Object.prototype.constructor,ja=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Nj=Object.getOwnPropertyDescriptors||function(e){var t={};return ja(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},tm={},ao={get:function(e,t){if(t===Le)return e;var r=un(e);if(!Ur(r,t))return function(a,i,o){var l,d=hx(i,o);return d?"value"in d?d.value:(l=d.get)===null||l===void 0?void 0:l.call(a.k):void 0}(e,r,t);var n=r[t];return e.I||!Es(n)?n:n===Pu(e.t,t)?(Au(e),e.o[t]=em(e.A.h,n,e)):n},has:function(e,t){return t in un(e)},ownKeys:function(e){return Reflect.ownKeys(un(e))},set:function(e,t,r){var n=hx(un(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=Pu(un(e),t),i=a==null?void 0:a[Le];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(jj(r,a)&&(r!==void 0||Ur(e.t,t)))return!0;Au(e),Cr(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return Pu(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Au(e),Cr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=un(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){yt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){yt(12)}},vi={};Qr(ao,function(e,t){vi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vi.deleteProperty=function(e,t){return vi.set.call(this,e,t,void 0)},vi.set=function(e,t,r){return ao.set.call(this,e[0],t,r,e[0])};var G5=function(){function e(r){var n=this;this.O=px,this.D=!0,this.produce=function(a,i,o){if(typeof a=="function"&&typeof i!="function"){var l=i;i=a;var d=n;return function(v){var j=this;v===void 0&&(v=l);for(var w=arguments.length,y=Array(w>1?w-1:0),b=1;b<w;b++)y[b-1]=arguments[b];return d.produce(v,function(x){var g;return(g=i).call.apply(g,[j,x].concat(y))})}}var c;if(typeof i!="function"&&yt(6),o!==void 0&&typeof o!="function"&&yt(7),Es(a)){var u=dx(n),h=em(n,a,void 0),m=!0;try{c=i(h),m=!1}finally{m?pc(u):Zh(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return ku(u,o),Cu(v,u)},function(v){throw pc(u),v}):(ku(u,o),Cu(c,u))}if(!a||typeof a!="object"){if((c=i(a))===void 0&&(c=a),c===Qf&&(c=void 0),n.D&&Hf(c,!0),o){var f=[],p=[];Hs("Patches").M(a,c,f,p),o(f,p)}return c}yt(21,a)},this.produceWithPatches=function(a,i){if(typeof a=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),m=1;m<u;m++)h[m-1]=arguments[m];return n.produceWithPatches(c,function(f){return a.apply(void 0,[f].concat(h))})};var o,l,d=n.produce(a,i,function(c,u){o=c,l=u});return typeof Promise<"u"&&d instanceof Promise?d.then(function(c){return[c,o,l]}):[d,o,l]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Es(r)||yt(8),As(r)&&(r=V5(r));var n=dx(this),a=em(this,r,void 0);return a[Le].C=!0,Zh(n),a},t.finishDraft=function(r,n){var a=r&&r[Le],i=a.A;return ku(i,n),Cu(void 0,i)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!px&&yt(20),this.O=r},t.applyPatches=function(r,n){var a;for(a=n.length-1;a>=0;a--){var i=n[a];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}a>-1&&(n=n.slice(a+1));var o=Hs("Patches").$;return As(r)?o(r,n):this.produce(r,function(l){return o(l,n)})},e}(),ss=new G5,So=ss.produce,Sj=ss.produceWithPatches.bind(ss);ss.setAutoFreeze.bind(ss);ss.setUseProxies.bind(ss);var xx=ss.applyPatches.bind(ss);ss.createDraft.bind(ss);ss.finishDraft.bind(ss);function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Y5(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J5(e){var t=Y5(e,"string");return io(t)=="symbol"?t:t+""}function X5(e,t,r){return(t=J5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var vx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Eu=function(){return Math.random().toString(36).substring(7).split("").join(".")},yc={INIT:"@@redux/INIT"+Eu(),REPLACE:"@@redux/REPLACE"+Eu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Eu()}};function Z5(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kj(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nt(1));return r(kj)(e,t)}if(typeof e!="function")throw new Error(Nt(2));var a=e,i=t,o=[],l=o,d=!1;function c(){l===o&&(l=o.slice())}function u(){if(d)throw new Error(Nt(3));return i}function h(v){if(typeof v!="function")throw new Error(Nt(4));if(d)throw new Error(Nt(5));var j=!0;return c(),l.push(v),function(){if(j){if(d)throw new Error(Nt(6));j=!1,c();var y=l.indexOf(v);l.splice(y,1),o=null}}}function m(v){if(!Z5(v))throw new Error(Nt(7));if(typeof v.type>"u")throw new Error(Nt(8));if(d)throw new Error(Nt(9));try{d=!0,i=a(i,v)}finally{d=!1}for(var j=o=l,w=0;w<j.length;w++){var y=j[w];y()}return v}function f(v){if(typeof v!="function")throw new Error(Nt(10));a=v,m({type:yc.REPLACE})}function p(){var v,j=h;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Nt(11));function b(){y.next&&y.next(u())}b();var x=j(b);return{unsubscribe:x}}},v[vx]=function(){return this},v}return m({type:yc.INIT}),n={dispatch:m,subscribe:h,getState:u,replaceReducer:f},n[vx]=p,n}function ek(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:yc.INIT});if(typeof n>"u")throw new Error(Nt(12));if(typeof r(void 0,{type:yc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function Gf(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n];typeof e[a]=="function"&&(r[a]=e[a])}var i=Object.keys(r),o;try{ek(r)}catch(l){o=l}return function(d,c){if(d===void 0&&(d={}),o)throw o;for(var u=!1,h={},m=0;m<i.length;m++){var f=i[m],p=r[f],v=d[f],j=p(v,c);if(typeof j>"u")throw c&&c.type,new Error(Nt(14));h[f]=j,u=u||j!==v}return u=u||i.length!==Object.keys(d).length,u?h:d}}function vc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function tk(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(Nt(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(d){return d(o)});return i=vc.apply(void 0,l)(a.dispatch),yx(yx({},a),{},{dispatch:i})}}}var bc="NOT_FOUND";function sk(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:bc},put:function(n,a){t={key:n,value:a}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function rk(e,t){var r=[];function n(l){var d=r.findIndex(function(u){return t(l,u.key)});if(d>-1){var c=r[d];return d>0&&(r.splice(d,1),r.unshift(c)),c.value}return bc}function a(l,d){n(l)===bc&&(r.unshift({key:l,value:d}),r.length>e&&r.pop())}function i(){return r}function o(){r=[]}return{get:n,put:a,getEntries:i,clear:o}}var nk=function(t,r){return t===r};function ak(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;for(var a=r.length,i=0;i<a;i++)if(!e(r[i],n[i]))return!1;return!0}}function sm(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,a=n===void 0?nk:n,i=r.maxSize,o=i===void 0?1:i,l=r.resultEqualityCheck,d=ak(a),c=o===1?sk(d):rk(o,d);function u(){var h=c.get(arguments);if(h===bc){if(h=e.apply(null,arguments),l){var m=c.getEntries(),f=m.find(function(p){return l(p.value,h)});f&&(h=f.value)}c.put(arguments,h)}return h}return u.clearCache=function(){return c.clear()},u}function ik(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function ok(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var c=0,u,h={memoizeOptions:void 0},m=l.pop();if(typeof m=="object"&&(h=m,m=l.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var f=h,p=f.memoizeOptions,v=p===void 0?r:p,j=Array.isArray(v)?v:[v],w=ik(l),y=e.apply(void 0,[function(){return c++,m.apply(null,arguments)}].concat(j)),b=e(function(){for(var g=[],S=w.length,P=0;P<S;P++)g.push(w[P].apply(null,arguments));return u=y.apply(null,g),u});return Object.assign(b,{resultFunc:m,memoizedResultFunc:y,dependencies:w,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),b};return a}var Mi=ok(sm);function Cj(e){var t=function(n){var a=n.dispatch,i=n.getState;return function(o){return function(l){return typeof l=="function"?l(a,i,e):o(l)}}};return t}var rm=Cj();rm.withExtraArgument=Cj;var Pj=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lk=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return d([c,u])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ma=function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},ck=Object.defineProperty,dk=Object.defineProperties,uk=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,hk=Object.prototype.hasOwnProperty,mk=Object.prototype.propertyIsEnumerable,jx=function(e,t,r){return t in e?ck(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},zr=function(e,t){for(var r in t||(t={}))hk.call(t,r)&&jx(e,r,t[r]);if(bx)for(var n=0,a=bx(t);n<a.length;n++){var r=a[n];mk.call(t,r)&&jx(e,r,t[r])}return e},Tu=function(e,t){return dk(e,uk(t))},fk=function(e,t,r){return new Promise(function(n,a){var i=function(d){try{l(r.next(d))}catch(c){a(c)}},o=function(d){try{l(r.throw(d))}catch(c){a(c)}},l=function(d){return d.done?n(d.value):Promise.resolve(d.value).then(i,o)};l((r=r.apply(e,t)).next())})},pk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vc:vc.apply(null,arguments)};function Yr(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var xk=function(e){return e&&typeof e.match=="function"};function Lt(e,t){function r(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return zr(zr({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var gk=function(e){Pj(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ma([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ma([void 0],r.concat(this))))},t}(Array),yk=function(e){Pj(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ma([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ma([void 0],r.concat(this))))},t}(Array);function nm(e){return Es(e)?So(e,function(){}):e}function vk(e){return typeof e=="boolean"}function bk(){return function(t){return jk(t)}}function jk(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new gk;return r&&(vk(r)?n.push(rm):n.push(rm.withExtraArgument(r.extraArgument))),n}function wk(e){var t=bk(),r=e||{},n=r.reducer,a=n===void 0?void 0:n,i=r.middleware,o=i===void 0?t():i,l=r.devTools,d=l===void 0?!0:l,c=r.preloadedState,u=c===void 0?void 0:c,h=r.enhancers,m=h===void 0?void 0:h,f;if(typeof a=="function")f=a;else if(Yr(a))f=Gf(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var v=tk.apply(void 0,p),j=vc;d&&(j=pk(zr({trace:!1},typeof d=="object"&&d)));var w=new yk(v),y=w;Array.isArray(m)?y=Ma([v],m):typeof m=="function"&&(y=m(w));var b=j.apply(void 0,y);return kj(f,u,b)}function Aj(e){var t={},r=[],n,a={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[l]=o,a},addMatcher:function(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase:function(i){return n=i,a}};return e(a),[t,r,n]}function Nk(e){return typeof e=="function"}function Sk(e,t,r,n){r===void 0&&(r=[]);var a=typeof t=="function"?Aj(t):[t,r,n],i=a[0],o=a[1],l=a[2],d;if(Nk(e))d=function(){return nm(e())};else{var c=nm(e);d=function(){return c}}function u(h,m){h===void 0&&(h=d());var f=Ma([i[m.type]],o.filter(function(p){var v=p.matcher;return v(m)}).map(function(p){var v=p.reducer;return v}));return f.filter(function(p){return!!p}).length===0&&(f=[l]),f.reduce(function(p,v){if(v)if(As(p)){var j=p,w=v(j,m);return w===void 0?p:w}else{if(Es(p))return So(p,function(y){return v(y,m)});var w=v(p,m);if(w===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}return p},h)}return u.getInitialState=d,u}function kk(e,t){return e+"/"+t}function er(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:nm(e.initialState),n=e.reducers||{},a=Object.keys(n),i={},o={},l={};a.forEach(function(u){var h=n[u],m=kk(t,u),f,p;"reducer"in h?(f=h.reducer,p=h.prepare):f=h,i[u]=f,o[m]=f,l[u]=p?Lt(m,p):Lt(m)});function d(){var u=typeof e.extraReducers=="function"?Aj(e.extraReducers):[e.extraReducers],h=u[0],m=h===void 0?{}:h,f=u[1],p=f===void 0?[]:f,v=u[2],j=v===void 0?void 0:v,w=zr(zr({},m),o);return Sk(r,function(y){for(var b in w)y.addCase(b,w[b]);for(var x=0,g=p;x<g.length;x++){var S=g[x];y.addMatcher(S.matcher,S.reducer)}j&&y.addDefaultCase(j)})}var c;return{name:t,reducer:function(u,h){return c||(c=d()),c(u,h)},actions:l,caseReducers:i,getInitialState:function(){return c||(c=d()),c.getInitialState()}}}var Ck="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ej=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=Ck[Math.random()*64|0];return t},Pk=["name","message","stack","code"],Ru=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),wx=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Ak=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=Pk;r<n.length;r++){var a=n[r];typeof e[a]=="string"&&(t[a]=e[a])}return t}return{message:String(e)}},Nx=function(){function e(t,r,n){var a=Lt(t+"/fulfilled",function(c,u,h,m){return{payload:c,meta:Tu(zr({},m||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),i=Lt(t+"/pending",function(c,u,h){return{payload:void 0,meta:Tu(zr({},h||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=Lt(t+"/rejected",function(c,u,h,m,f){return{payload:m,error:(n&&n.serializeError||Ak)(c||"Rejected"),meta:Tu(zr({},f||{}),{arg:h,requestId:u,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function d(c){return function(u,h,m){var f=n!=null&&n.idGenerator?n.idGenerator(c):Ej(),p=new l,v;function j(y){v=y,p.abort()}var w=function(){return fk(this,null,function(){var y,b,x,g,S,P,k;return lk(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),g=(y=n==null?void 0:n.condition)==null?void 0:y.call(n,c,{getState:h,extra:m}),Tk(g)?[4,g]:[3,2];case 1:g=E.sent(),E.label=2;case 2:if(g===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(A,T){return p.signal.addEventListener("abort",function(){return T({name:"AbortError",message:v||"Aborted"})})}),u(i(f,c,(b=n==null?void 0:n.getPendingMeta)==null?void 0:b.call(n,{requestId:f,arg:c},{getState:h,extra:m}))),[4,Promise.race([S,Promise.resolve(r(c,{dispatch:u,getState:h,extra:m,requestId:f,signal:p.signal,abort:j,rejectWithValue:function(A,T){return new Ru(A,T)},fulfillWithValue:function(A,T){return new wx(A,T)}})).then(function(A){if(A instanceof Ru)throw A;return A instanceof wx?a(A.payload,f,c,A.meta):a(A,f,c)})])];case 3:return x=E.sent(),[3,5];case 4:return P=E.sent(),x=P instanceof Ru?o(null,f,c,P.payload,P.meta):o(P,f,c),[3,5];case 5:return k=n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition,k||u(x),[2,x]}})})}();return Object.assign(w,{abort:j,requestId:f,arg:c,unwrap:function(){return w.then(Ek)}})}}return Object.assign(d,{pending:i,rejected:o,fulfilled:a,typePrefix:t})}return e.withTypes=function(){return e},e}();function Ek(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Tk(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Tj=function(e,t){return xk(e)?e.match(t):e(t)};function Wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.some(function(n){return Tj(n,r)})}}function Li(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.every(function(n){return Tj(n,r)})}}function Td(e,t){if(!e||!e.meta)return!1;var r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function ko(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Yf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Td(r,["pending"])}:ko(e)?function(r){var n=e.map(function(i){return i.pending}),a=Wa.apply(void 0,n);return a(r)}:Yf()(e[0])}function oo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Td(r,["rejected"])}:ko(e)?function(r){var n=e.map(function(i){return i.rejected}),a=Wa.apply(void 0,n);return a(r)}:oo()(e[0])}function Rd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n&&n.meta&&n.meta.rejectedWithValue};return e.length===0?function(n){var a=Li(oo.apply(void 0,e),r);return a(n)}:ko(e)?function(n){var a=Li(oo.apply(void 0,e),r);return a(n)}:Rd()(e[0])}function Fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Td(r,["fulfilled"])}:ko(e)?function(r){var n=e.map(function(i){return i.fulfilled}),a=Wa.apply(void 0,n);return a(r)}:Fn()(e[0])}function am(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Td(r,["pending","fulfilled","rejected"])}:ko(e)?function(r){for(var n=[],a=0,i=e;a<i.length;a++){var o=i[a];n.push(o.pending,o.rejected,o.fulfilled)}var l=Wa.apply(void 0,n);return l(r)}:am()(e[0])}var Jf="listenerMiddleware";Lt(Jf+"/add");Lt(Jf+"/removeAll");Lt(Jf+"/remove");var bi="RTK_autoBatch",oi=function(){return function(e){var t;return{payload:e,meta:(t={},t[bi]=!0,t)}}},Sx;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);q5();function Xf(e){try{if(typeof window<"u")return localStorage.getItem(e)}catch{return null}}function Ou(e,t){try{typeof window<"u"&&localStorage.setItem(e,t)}catch{}}function Qn(e){try{typeof window<"u"&&localStorage.removeItem(e)}catch{}}const kx=Xf("accessToken"),Cx=Xf("refreshToken");function Rk(){try{const e=Xf("authUser");return e?JSON.parse(e):null}catch{return null}}const Ok={user:Rk(),isAuthenticated:!!kx&&!!Cx,tokens:{accessToken:kx||null,refreshToken:Cx||null}},Rj=er({name:"auth",initialState:Ok,reducers:{setUser(e,t){e.user=t.payload,Ou("authUser",JSON.stringify(t.payload)),e.isAuthenticated=!0},setTokens(e,t){const{accessToken:r,refreshToken:n}=t.payload;e.tokens.accessToken=r,e.tokens.refreshToken=n,Ou("accessToken",r),Ou("refreshToken",n)},logout(e){e.user=null,e.tokens={accessToken:null,refreshToken:null},e.isAuthenticated=!1;try{Qn("authUser"),Qn("accessToken"),Qn("refreshToken"),Qn("auth"),Qn("user"),Qn("isLoggingOut")}catch(t){console.warn("authSlice.logout: localStorage cleanup failed",t)}}}}),{setUser:Bn,setTokens:Co,logout:On}=Rj.actions,Oj=Lt("app/RESET_STATE"),Mk=Rj.reducer,Lk={items:[],total:0,itemCount:0},Mj=er({name:"cart",initialState:Lk,reducers:{addToCart:(e,t)=>{const r=e.items.find(n=>n.id===t.payload.id);r?r.quantity+=t.payload.quantity:e.items.push(t.payload),e.total=e.items.reduce((n,a)=>n+a.price*a.quantity,0),e.itemCount=e.items.reduce((n,a)=>n+a.quantity,0)},removeFromCart:(e,t)=>{e.items=e.items.filter(r=>r.id!==t.payload),e.total=e.items.reduce((r,n)=>r+n.price*n.quantity,0),e.itemCount=e.items.reduce((r,n)=>r+n.quantity,0)},updateCartItem:(e,t)=>{const r=e.items.find(n=>n.id===t.payload.id);r&&(r.quantity=t.payload.quantity,e.total=e.items.reduce((n,a)=>n+a.price*a.quantity,0),e.itemCount=e.items.reduce((n,a)=>n+a.quantity,0))},clearCart:e=>{e.items=[],e.total=0,e.itemCount=0},setCart:(e,t)=>{console.log(" setCart action called with:",t.payload),e.items=t.payload.items,e.total=t.payload.total,e.itemCount=t.payload.itemCount},clearCartOnLogout:e=>{e.items=[],e.total=0,e.itemCount=0}}}),{addToCart:Od,removeFromCart:_k,updateCartItem:Px,clearCart:e_,setCart:Md,clearCartOnLogout:Dk}=Mj.actions,Ik=Mj.reducer,$k={sidebarOpen:!1,loading:!1,notifications:[],searchQuery:"",filters:{category:"",priceRange:[0,1e4],rating:0,sortBy:"relevance"}},Lj=er({name:"ui",initialState:$k,reducers:{toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebarOpen:(e,t)=>{e.sidebarOpen=t.payload},setLoading:(e,t)=>{e.loading=t.payload},addNotification:(e,t)=>{const r={...t.payload,id:Date.now().toString(),timestamp:Date.now()};e.notifications.push(r)},removeNotification:(e,t)=>{e.notifications=e.notifications.filter(r=>r.id!==t.payload)},clearNotifications:e=>{e.notifications=[]},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters={category:"",priceRange:[0,1e4],rating:0,sortBy:"relevance"}}}}),{toggleSidebar:t_,setSidebarOpen:s_,setLoading:r_,addNotification:n_,removeNotification:a_,clearNotifications:i_,setSearchQuery:o_,setFilters:l_,clearFilters:c_}=Lj.actions,Fk=Lj.reducer;var jc=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(u){return d([c,u])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},wc=function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},Bk=Object.defineProperty,Uk=Object.defineProperties,zk=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Dj=Object.prototype.propertyIsEnumerable,Ax=function(e,t,r){return t in e?Bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ge=function(e,t){for(var r in t||(t={}))_j.call(t,r)&&Ax(e,r,t[r]);if(Nc)for(var n=0,a=Nc(t);n<a.length;n++){var r=a[n];Dj.call(t,r)&&Ax(e,r,t[r])}return e},zs=function(e,t){return Uk(e,zk(t))},Ex=function(e,t){var r={};for(var n in e)_j.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Nc)for(var a=0,i=Nc(e);a<i.length;a++){var n=i[a];t.indexOf(n)<0&&Dj.call(e,n)&&(r[n]=e[n])}return r},Sc=function(e,t,r){return new Promise(function(n,a){var i=function(d){try{l(r.next(d))}catch(c){a(c)}},o=function(d){try{l(r.throw(d))}catch(c){a(c)}},l=function(d){return d.done?n(d.value):Promise.resolve(d.value).then(i,o)};l((r=r.apply(e,t)).next())})},$e;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})($e||($e={}));function Vk(e){return{status:e,isUninitialized:e===$e.uninitialized,isLoading:e===$e.pending,isSuccess:e===$e.fulfilled,isError:e===$e.rejected}}function qk(e){return new RegExp("(^|:)//").test(e)}var Hk=function(e){return e.replace(/\/$/,"")},Wk=function(e){return e.replace(/^\//,"")};function Kk(e,t){if(!e)return t;if(!t)return e;if(qk(t))return t;var r=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Hk(e),t=Wk(t),""+e+r+t}var Tx=function(e){return[].concat.apply([],e)};function Qk(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Gk(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Rx=Yr;function Ij(e,t){if(e===t||!(Rx(e)&&Rx(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var r=Object.keys(t),n=Object.keys(e),a=r.length===n.length,i=Array.isArray(t)?[]:{},o=0,l=r;o<l.length;o++){var d=l[o];i[d]=Ij(e[d],t[d]),a&&(a=e[d]===i[d])}return a?e:i}var Ox=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},Yk=function(e){return e.status>=200&&e.status<=299},Jk=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function Mx(e){if(!Yr(e))return e;for(var t=Ge({},e),r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],i=a[0],o=a[1];o===void 0&&delete t[i]}return t}function Xk(e){var t=this;e===void 0&&(e={});var r=e,n=r.baseUrl,a=r.prepareHeaders,i=a===void 0?function(b){return b}:a,o=r.fetchFn,l=o===void 0?Ox:o,d=r.paramsSerializer,c=r.isJsonContentType,u=c===void 0?Jk:c,h=r.jsonContentType,m=h===void 0?"application/json":h,f=r.jsonReplacer,p=r.timeout,v=r.responseHandler,j=r.validateStatus,w=Ex(r,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&l===Ox&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(b,x){return Sc(t,null,function(){var g,S,P,k,E,A,T,M,C,R,O,I,F,$,L,B,q,H,X,se,_,V,Q,ae,J,xe,he,we,et,Qt,Gt,z,Z,re,me,at;return jc(this,function(Ue){switch(Ue.label){case 0:return g=x.signal,S=x.getState,P=x.extra,k=x.endpoint,E=x.forced,A=x.type,M=typeof b=="string"?{url:b}:b,C=M.url,R=M.headers,O=R===void 0?new Headers(w.headers):R,I=M.params,F=I===void 0?void 0:I,$=M.responseHandler,L=$===void 0?v??"json":$,B=M.validateStatus,q=B===void 0?j??Yk:B,H=M.timeout,X=H===void 0?p:H,se=Ex(M,["url","headers","params","responseHandler","validateStatus","timeout"]),_=Ge(zs(Ge({},w),{signal:g}),se),O=new Headers(Mx(O)),V=_,[4,i(O,{getState:S,extra:P,endpoint:k,forced:E,type:A})];case 1:V.headers=Ue.sent()||O,Q=function(ze){return typeof ze=="object"&&(Yr(ze)||Array.isArray(ze)||typeof ze.toJSON=="function")},!_.headers.has("content-type")&&Q(_.body)&&_.headers.set("content-type",m),Q(_.body)&&u(_.headers)&&(_.body=JSON.stringify(_.body,f)),F&&(ae=~C.indexOf("?")?"&":"?",J=d?d(F):new URLSearchParams(Mx(F)),C+=ae+J),C=Kk(n,C),xe=new Request(C,_),he=new Request(C,_),T={request:he},et=!1,Qt=X&&setTimeout(function(){et=!0,x.abort()},X),Ue.label=2;case 2:return Ue.trys.push([2,4,5,6]),[4,l(xe)];case 3:return we=Ue.sent(),[3,6];case 4:return Gt=Ue.sent(),[2,{error:{status:et?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Gt)},meta:T}];case 5:return Qt&&clearTimeout(Qt),[7];case 6:z=we.clone(),T.response=z,re="",Ue.label=7;case 7:return Ue.trys.push([7,9,,10]),[4,Promise.all([y(we,L).then(function(ze){return Z=ze},function(ze){return me=ze}),z.text().then(function(ze){return re=ze},function(){})])];case 8:if(Ue.sent(),me)throw me;return[3,10];case 9:return at=Ue.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:we.status,data:re,error:String(at)},meta:T}];case 10:return[2,q(we,Z)?{data:Z,meta:T}:{error:{status:we.status,data:Z},meta:T}]}})})};function y(b,x){return Sc(this,null,function(){var g;return jc(this,function(S){switch(S.label){case 0:return typeof x=="function"?[2,x(b)]:(x==="content-type"&&(x=u(b.headers)?"json":"text"),x!=="json"?[3,2]:[4,b.text()]);case 1:return g=S.sent(),[2,g.length?JSON.parse(g):null];case 2:return[2,b.text()]}})})}}var Lx=function(){function e(t,r){r===void 0&&(r=void 0),this.value=t,this.meta=r}return e}(),Zf=Lt("__rtkq/focused"),$j=Lt("__rtkq/unfocused"),ep=Lt("__rtkq/online"),Fj=Lt("__rtkq/offline"),Qs;(function(e){e.query="query",e.mutation="mutation"})(Qs||(Qs={}));function Bj(e){return e.type===Qs.query}function Zk(e){return e.type===Qs.mutation}function tp(e,t,r,n,a,i){return eC(e)?e(t,r,n,a).map(im).map(i):Array.isArray(e)?e.map(im).map(i):[]}function eC(e){return typeof e=="function"}function im(e){return typeof e=="string"?{type:e}:e}function Mu(e){return e!=null}var lo=Symbol("forceQueryFn"),om=function(e){return typeof e[lo]=="function"};function tC(e){var t=e.serializeQueryArgs,r=e.queryThunk,n=e.mutationThunk,a=e.api,i=e.context,o=new Map,l=new Map,d=a.internalActions,c=d.unsubscribeQueryResult,u=d.removeMutationResult,h=d.updateSubscriptionOptions;return{buildInitiateQuery:y,buildInitiateMutation:b,getRunningQueryThunk:p,getRunningMutationThunk:v,getRunningQueriesThunk:j,getRunningMutationsThunk:w,getRunningOperationPromises:f,removalWarning:m};function m(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function f(){{var x=function(g){return Array.from(g.values()).flatMap(function(S){return S?Object.values(S):[]})};return wc(wc([],x(o)),x(l)).filter(Mu)}}function p(x,g){return function(S){var P,k=i.endpointDefinitions[x],E=t({queryArgs:g,endpointDefinition:k,endpointName:x});return(P=o.get(S))==null?void 0:P[E]}}function v(x,g){return function(S){var P;return(P=l.get(S))==null?void 0:P[g]}}function j(){return function(x){return Object.values(o.get(x)||{}).filter(Mu)}}function w(){return function(x){return Object.values(l.get(x)||{}).filter(Mu)}}function y(x,g){var S=function(P,k){var E=k===void 0?{}:k,A=E.subscribe,T=A===void 0?!0:A,M=E.forceRefetch,C=E.subscriptionOptions,R=lo,O=E[R];return function(I,F){var $,L,B=t({queryArgs:P,endpointDefinition:g,endpointName:x}),q=r(($={type:"query",subscribe:T,forceRefetch:M,subscriptionOptions:C,endpointName:x,originalArgs:P,queryCacheKey:B},$[lo]=O,$)),H=a.endpoints[x].select(P),X=I(q),se=H(F()),_=X.requestId,V=X.abort,Q=se.requestId!==_,ae=(L=o.get(I))==null?void 0:L[B],J=function(){return H(F())},xe=Object.assign(O?X.then(J):Q&&!ae?Promise.resolve(se):Promise.all([ae,X]).then(J),{arg:P,requestId:_,subscriptionOptions:C,queryCacheKey:B,abort:V,unwrap:function(){return Sc(this,null,function(){var we;return jc(this,function(et){switch(et.label){case 0:return[4,xe];case 1:if(we=et.sent(),we.isError)throw we.error;return[2,we.data]}})})},refetch:function(){return I(S(P,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){T&&I(c({queryCacheKey:B,requestId:_}))},updateSubscriptionOptions:function(we){xe.subscriptionOptions=we,I(h({endpointName:x,requestId:_,queryCacheKey:B,options:we}))}});if(!ae&&!Q&&!O){var he=o.get(I)||{};he[B]=xe,o.set(I,he),xe.then(function(){delete he[B],Object.keys(he).length||o.delete(I)})}return xe}};return S}function b(x){return function(g,S){var P=S===void 0?{}:S,k=P.track,E=k===void 0?!0:k,A=P.fixedCacheKey;return function(T,M){var C=n({type:"mutation",endpointName:x,originalArgs:g,track:E,fixedCacheKey:A}),R=T(C),O=R.requestId,I=R.abort,F=R.unwrap,$=R.unwrap().then(function(H){return{data:H}}).catch(function(H){return{error:H}}),L=function(){T(u({requestId:O,fixedCacheKey:A}))},B=Object.assign($,{arg:R.arg,requestId:O,abort:I,unwrap:F,unsubscribe:L,reset:L}),q=l.get(T)||{};return l.set(T,q),q[O]=B,B.then(function(){delete q[O],Object.keys(q).length||l.delete(T)}),A&&(q[A]=B,B.then(function(){q[A]===B&&(delete q[A],Object.keys(q).length||l.delete(T))})),B}}}}function _x(e){return e}function sC(e){var t=this,r=e.reducerPath,n=e.baseQuery,a=e.context.endpointDefinitions,i=e.serializeQueryArgs,o=e.api,l=e.assertTagType,d=function(x,g,S,P){return function(k,E){var A=a[x],T=i({queryArgs:g,endpointDefinition:A,endpointName:x});if(k(o.internalActions.queryResultPatched({queryCacheKey:T,patches:S})),!!P){var M=o.endpoints[x].select(g)(E()),C=tp(A.providesTags,M.data,void 0,g,{},l);k(o.internalActions.updateProvidedBy({queryCacheKey:T,providedTags:C}))}}},c=function(x,g,S,P){return P===void 0&&(P=!0),function(k,E){var A,T,M=o.endpoints[x],C=M.select(g)(E()),R={patches:[],inversePatches:[],undo:function(){return k(o.util.patchQueryData(x,g,R.inversePatches,P))}};if(C.status===$e.uninitialized)return R;var O;if("data"in C)if(Es(C.data)){var I=Sj(C.data,S),F=I[0],$=I[1],L=I[2];(A=R.patches).push.apply(A,$),(T=R.inversePatches).push.apply(T,L),O=F}else O=S(C.data),R.patches.push({op:"replace",path:[],value:O}),R.inversePatches.push({op:"replace",path:[],value:C.data});return k(o.util.patchQueryData(x,g,R.patches,P)),R}},u=function(x,g,S){return function(P){var k;return P(o.endpoints[x].initiate(g,(k={subscribe:!1,forceRefetch:!0},k[lo]=function(){return{data:S}},k)))}},h=function(x,g){return Sc(t,[x,g],function(S,P){var k,E,A,T,M,C,R,O,I,F,$,L,B,q=P.signal,H=P.abort,X=P.rejectWithValue,se=P.fulfillWithValue,_=P.dispatch,V=P.getState,Q=P.extra;return jc(this,function(ae){switch(ae.label){case 0:k=a[S.endpointName],ae.label=1;case 1:return ae.trys.push([1,8,,13]),E=_x,A=void 0,T={signal:q,abort:H,dispatch:_,getState:V,extra:Q,endpoint:S.endpointName,type:S.type,forced:S.type==="query"?m(S,V()):void 0},M=S.type==="query"?S[lo]:void 0,M?(A=M(),[3,6]):[3,2];case 2:return k.query?[4,n(k.query(S.originalArgs),T,k.extraOptions)]:[3,4];case 3:return A=ae.sent(),k.transformResponse&&(E=k.transformResponse),[3,6];case 4:return[4,k.queryFn(S.originalArgs,T,k.extraOptions,function(J){return n(J,T,k.extraOptions)})];case 5:A=ae.sent(),ae.label=6;case 6:if(A.error)throw new Lx(A.error,A.meta);return C=se,[4,E(A.data,A.meta,S.originalArgs)];case 7:return[2,C.apply(void 0,[ae.sent(),(L={fulfilledTimeStamp:Date.now(),baseQueryMeta:A.meta},L[bi]=!0,L)])];case 8:if(R=ae.sent(),O=R,!(O instanceof Lx))return[3,12];I=_x,k.query&&k.transformErrorResponse&&(I=k.transformErrorResponse),ae.label=9;case 9:return ae.trys.push([9,11,,12]),F=X,[4,I(O.value,O.meta,S.originalArgs)];case 10:return[2,F.apply(void 0,[ae.sent(),(B={baseQueryMeta:O.meta},B[bi]=!0,B)])];case 11:return $=ae.sent(),O=$,[3,12];case 12:throw console.error(O),O;case 13:return[2]}})})};function m(x,g){var S,P,k,E,A=(P=(S=g[r])==null?void 0:S.queries)==null?void 0:P[x.queryCacheKey],T=(k=g[r])==null?void 0:k.config.refetchOnMountOrArgChange,M=A==null?void 0:A.fulfilledTimeStamp,C=(E=x.forceRefetch)!=null?E:x.subscribe&&T;return C?C===!0||(Number(new Date)-Number(M))/1e3>=C:!1}var f=Nx(r+"/executeQuery",h,{getPendingMeta:function(){var x;return x={startedTimeStamp:Date.now()},x[bi]=!0,x},condition:function(x,g){var S=g.getState,P,k,E,A=S(),T=(k=(P=A[r])==null?void 0:P.queries)==null?void 0:k[x.queryCacheKey],M=T==null?void 0:T.fulfilledTimeStamp,C=x.originalArgs,R=T==null?void 0:T.originalArgs,O=a[x.endpointName];return om(x)?!0:(T==null?void 0:T.status)==="pending"?!1:m(x,A)||Bj(O)&&((E=O==null?void 0:O.forceRefetch)!=null&&E.call(O,{currentArg:C,previousArg:R,endpointState:T,state:A}))?!0:!M},dispatchConditionRejection:!0}),p=Nx(r+"/executeMutation",h,{getPendingMeta:function(){var x;return x={startedTimeStamp:Date.now()},x[bi]=!0,x}}),v=function(x){return"force"in x},j=function(x){return"ifOlderThan"in x},w=function(x,g,S){return function(P,k){var E=v(S)&&S.force,A=j(S)&&S.ifOlderThan,T=function(O){return O===void 0&&(O=!0),o.endpoints[x].initiate(g,{forceRefetch:O})},M=o.endpoints[x].select(g)(k());if(E)P(T());else if(A){var C=M==null?void 0:M.fulfilledTimeStamp;if(!C){P(T());return}var R=(Number(new Date)-Number(new Date(C)))/1e3>=A;R&&P(T())}else P(T(!1))}};function y(x){return function(g){var S,P;return((P=(S=g==null?void 0:g.meta)==null?void 0:S.arg)==null?void 0:P.endpointName)===x}}function b(x,g){return{matchPending:Li(Yf(x),y(g)),matchFulfilled:Li(Fn(x),y(g)),matchRejected:Li(oo(x),y(g))}}return{queryThunk:f,mutationThunk:p,prefetch:w,updateQueryData:c,upsertQueryData:u,patchQueryData:d,buildMatchThunkActions:b}}function Uj(e,t,r,n){return tp(r[e.meta.arg.endpointName][t],Fn(e)?e.payload:void 0,Rd(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function el(e,t,r){var n=e[t];n&&r(n)}function co(e){var t;return(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?t:e.requestId}function Dx(e,t,r){var n=e[co(t)];n&&r(n)}var li={};function rC(e){var t=e.reducerPath,r=e.queryThunk,n=e.mutationThunk,a=e.context,i=a.endpointDefinitions,o=a.apiUid,l=a.extractRehydrationInfo,d=a.hasRehydrationInfo,c=e.assertTagType,u=e.config,h=Lt(t+"/resetApiState"),m=er({name:t+"/queries",initialState:li,reducers:{removeQueryResult:{reducer:function(g,S){var P=S.payload.queryCacheKey;delete g[P]},prepare:oi()},queryResultPatched:{reducer:function(g,S){var P=S.payload,k=P.queryCacheKey,E=P.patches;el(g,k,function(A){A.data=xx(A.data,E.concat())})},prepare:oi()}},extraReducers:function(g){g.addCase(r.pending,function(S,P){var k=P.meta,E=P.meta.arg,A,T,M=om(E);(E.subscribe||M)&&((T=S[A=E.queryCacheKey])!=null||(S[A]={status:$e.uninitialized,endpointName:E.endpointName})),el(S,E.queryCacheKey,function(C){C.status=$e.pending,C.requestId=M&&C.requestId?C.requestId:k.requestId,E.originalArgs!==void 0&&(C.originalArgs=E.originalArgs),C.startedTimeStamp=k.startedTimeStamp})}).addCase(r.fulfilled,function(S,P){var k=P.meta,E=P.payload;el(S,k.arg.queryCacheKey,function(A){var T;if(!(A.requestId!==k.requestId&&!om(k.arg))){var M=i[k.arg.endpointName].merge;if(A.status=$e.fulfilled,M)if(A.data!==void 0){var C=k.fulfilledTimeStamp,R=k.arg,O=k.baseQueryMeta,I=k.requestId,F=So(A.data,function($){return M($,E,{arg:R.originalArgs,baseQueryMeta:O,fulfilledTimeStamp:C,requestId:I})});A.data=F}else A.data=E;else A.data=(T=i[k.arg.endpointName].structuralSharing)==null||T?Ij(As(A.data)?B5(A.data):A.data,E):E;delete A.error,A.fulfilledTimeStamp=k.fulfilledTimeStamp}})}).addCase(r.rejected,function(S,P){var k=P.meta,E=k.condition,A=k.arg,T=k.requestId,M=P.error,C=P.payload;el(S,A.queryCacheKey,function(R){if(!E){if(R.requestId!==T)return;R.status=$e.rejected,R.error=C??M}})}).addMatcher(d,function(S,P){for(var k=l(P).queries,E=0,A=Object.entries(k);E<A.length;E++){var T=A[E],M=T[0],C=T[1];((C==null?void 0:C.status)===$e.fulfilled||(C==null?void 0:C.status)===$e.rejected)&&(S[M]=C)}})}}),f=er({name:t+"/mutations",initialState:li,reducers:{removeMutationResult:{reducer:function(g,S){var P=S.payload,k=co(P);k in g&&delete g[k]},prepare:oi()}},extraReducers:function(g){g.addCase(n.pending,function(S,P){var k=P.meta,E=P.meta,A=E.requestId,T=E.arg,M=E.startedTimeStamp;T.track&&(S[co(k)]={requestId:A,status:$e.pending,endpointName:T.endpointName,startedTimeStamp:M})}).addCase(n.fulfilled,function(S,P){var k=P.payload,E=P.meta;E.arg.track&&Dx(S,E,function(A){A.requestId===E.requestId&&(A.status=$e.fulfilled,A.data=k,A.fulfilledTimeStamp=E.fulfilledTimeStamp)})}).addCase(n.rejected,function(S,P){var k=P.payload,E=P.error,A=P.meta;A.arg.track&&Dx(S,A,function(T){T.requestId===A.requestId&&(T.status=$e.rejected,T.error=k??E)})}).addMatcher(d,function(S,P){for(var k=l(P).mutations,E=0,A=Object.entries(k);E<A.length;E++){var T=A[E],M=T[0],C=T[1];((C==null?void 0:C.status)===$e.fulfilled||(C==null?void 0:C.status)===$e.rejected)&&M!==(C==null?void 0:C.requestId)&&(S[M]=C)}})}}),p=er({name:t+"/invalidation",initialState:li,reducers:{updateProvidedBy:{reducer:function(g,S){for(var P,k,E,A,T=S.payload,M=T.queryCacheKey,C=T.providedTags,R=0,O=Object.values(g);R<O.length;R++)for(var I=O[R],F=0,$=Object.values(I);F<$.length;F++){var L=$[F],B=L.indexOf(M);B!==-1&&L.splice(B,1)}for(var q=0,H=C;q<H.length;q++){var X=H[q],se=X.type,_=X.id,V=(A=(k=(P=g[se])!=null?P:g[se]={})[E=_||"__internal_without_id"])!=null?A:k[E]=[],Q=V.includes(M);Q||V.push(M)}},prepare:oi()}},extraReducers:function(g){g.addCase(m.actions.removeQueryResult,function(S,P){for(var k=P.payload.queryCacheKey,E=0,A=Object.values(S);E<A.length;E++)for(var T=A[E],M=0,C=Object.values(T);M<C.length;M++){var R=C[M],O=R.indexOf(k);O!==-1&&R.splice(O,1)}}).addMatcher(d,function(S,P){for(var k,E,A,T,M=l(P).provided,C=0,R=Object.entries(M);C<R.length;C++)for(var O=R[C],I=O[0],F=O[1],$=0,L=Object.entries(F);$<L.length;$++)for(var B=L[$],q=B[0],H=B[1],X=(T=(E=(k=S[I])!=null?k:S[I]={})[A=q||"__internal_without_id"])!=null?T:E[A]=[],se=0,_=H;se<_.length;se++){var V=_[se],Q=X.includes(V);Q||X.push(V)}}).addMatcher(Wa(Fn(r),Rd(r)),function(S,P){var k=Uj(P,"providesTags",i,c),E=P.meta.arg.queryCacheKey;p.caseReducers.updateProvidedBy(S,p.actions.updateProvidedBy({queryCacheKey:E,providedTags:k}))})}}),v=er({name:t+"/subscriptions",initialState:li,reducers:{updateSubscriptionOptions:function(g,S){},unsubscribeQueryResult:function(g,S){},internal_probeSubscription:function(g,S){}}}),j=er({name:t+"/internalSubscriptions",initialState:li,reducers:{subscriptionsUpdated:{reducer:function(g,S){return xx(g,S.payload)},prepare:oi()}}}),w=er({name:t+"/config",initialState:Ge({online:Qk(),focused:Gk(),middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(g,S){var P=S.payload;g.middlewareRegistered=g.middlewareRegistered==="conflict"||o!==P?"conflict":!0}},extraReducers:function(g){g.addCase(ep,function(S){S.online=!0}).addCase(Fj,function(S){S.online=!1}).addCase(Zf,function(S){S.focused=!0}).addCase($j,function(S){S.focused=!1}).addMatcher(d,function(S){return Ge({},S)})}}),y=Gf({queries:m.reducer,mutations:f.reducer,provided:p.reducer,subscriptions:j.reducer,config:w.reducer}),b=function(g,S){return y(h.match(S)?void 0:g,S)},x=zs(Ge(Ge(Ge(Ge(Ge(Ge({},w.actions),m.actions),v.actions),j.actions),f.actions),p.actions),{unsubscribeMutationResult:f.actions.removeMutationResult,resetApiState:h});return{reducer:b,actions:x}}var yn=Symbol.for("RTKQ/skipToken"),zj={status:$e.uninitialized},Ix=So(zj,function(){}),$x=So(zj,function(){});function nC(e){var t=e.serializeQueryArgs,r=e.reducerPath,n=function(u){return Ix},a=function(u){return $x};return{buildQuerySelector:l,buildMutationSelector:d,selectInvalidatedBy:c};function i(u){return Ge(Ge({},u),Vk(u.status))}function o(u){var h=u[r];return h}function l(u,h){return function(m){var f=t({queryArgs:m,endpointDefinition:h,endpointName:u}),p=function(j){var w,y,b;return(b=(y=(w=o(j))==null?void 0:w.queries)==null?void 0:y[f])!=null?b:Ix},v=m===yn?n:p;return Mi(v,i)}}function d(){return function(u){var h,m;typeof u=="object"?m=(h=co(u))!=null?h:yn:m=u;var f=function(v){var j,w,y;return(y=(w=(j=o(v))==null?void 0:j.mutations)==null?void 0:w[m])!=null?y:$x},p=m===yn?a:f;return Mi(p,i)}}function c(u,h){for(var m,f=u[r],p=new Set,v=0,j=h.map(im);v<j.length;v++){var w=j[v],y=f.provided[w.type];if(y)for(var b=(m=w.id!==void 0?y[w.id]:Tx(Object.values(y)))!=null?m:[],x=0,g=b;x<g.length;x++){var S=g[x];p.add(S)}}return Tx(Array.from(p.values()).map(function(P){var k=f.queries[P];return k?[{queryCacheKey:P,endpointName:k.endpointName,originalArgs:k.originalArgs}]:[]}))}}var tl=WeakMap?new WeakMap:void 0,Fx=function(e){var t=e.endpointName,r=e.queryArgs,n="",a=tl==null?void 0:tl.get(r);if(typeof a=="string")n=a;else{var i=JSON.stringify(r,function(o,l){return Yr(l)?Object.keys(l).sort().reduce(function(d,c){return d[c]=l[c],d},{}):l});Yr(r)&&(tl==null||tl.set(r,i)),n=i}return t+"("+n+")"};function aC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){var a=sm(function(u){var h,m;return(m=n.extractRehydrationInfo)==null?void 0:m.call(n,u,{reducerPath:(h=n.reducerPath)!=null?h:"api"})}),i=zs(Ge({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},n),{extractRehydrationInfo:a,serializeQueryArgs:function(u){var h=Fx;if("serializeQueryArgs"in u.endpointDefinition){var m=u.endpointDefinition.serializeQueryArgs;h=function(f){var p=m(f);return typeof p=="string"?p:Fx(zs(Ge({},f),{queryArgs:p}))}}else n.serializeQueryArgs&&(h=n.serializeQueryArgs);return h(u)},tagTypes:wc([],n.tagTypes||[])}),o={endpointDefinitions:{},batch:function(u){u()},apiUid:Ej(),extractRehydrationInfo:a,hasRehydrationInfo:sm(function(u){return a(u)!=null})},l={injectEndpoints:c,enhanceEndpoints:function(u){var h=u.addTagTypes,m=u.endpoints;if(h)for(var f=0,p=h;f<p.length;f++){var v=p[f];i.tagTypes.includes(v)||i.tagTypes.push(v)}if(m)for(var j=0,w=Object.entries(m);j<w.length;j++){var y=w[j],b=y[0],x=y[1];typeof x=="function"?x(o.endpointDefinitions[b]):Object.assign(o.endpointDefinitions[b]||{},x)}return l}},d=e.map(function(u){return u.init(l,i,o)});function c(u){for(var h=u.endpoints({query:function(x){return zs(Ge({},x),{type:Qs.query})},mutation:function(x){return zs(Ge({},x),{type:Qs.mutation})}}),m=0,f=Object.entries(h);m<f.length;m++){var p=f[m],v=p[0],j=p[1];if(!(!u.overrideExisting&&v in o.endpointDefinitions)){o.endpointDefinitions[v]=j;for(var w=0,y=d;w<y.length;w++){var b=y[w];b.injectEndpoint(v,j)}}}return l}return l.injectEndpoints({endpoints:n.endpoints})}}function iC(e){for(var t in e)return!1;return!0}var oC=2147483647/1e3-1,lC=function(e){var t=e.reducerPath,r=e.api,n=e.context,a=e.internalState,i=r.internalActions,o=i.removeQueryResult,l=i.unsubscribeQueryResult;function d(m){var f=a.currentSubscriptions[m];return!!f&&!iC(f)}var c={},u=function(m,f,p){var v;if(l.match(m)){var j=f.getState()[t],w=m.payload.queryCacheKey;h(w,(v=j.queries[w])==null?void 0:v.endpointName,f,j.config)}if(r.util.resetApiState.match(m))for(var y=0,b=Object.entries(c);y<b.length;y++){var x=b[y],g=x[0],S=x[1];S&&clearTimeout(S),delete c[g]}if(n.hasRehydrationInfo(m))for(var j=f.getState()[t],P=n.extractRehydrationInfo(m).queries,k=0,E=Object.entries(P);k<E.length;k++){var A=E[k],w=A[0],T=A[1];h(w,T==null?void 0:T.endpointName,f,j.config)}};function h(m,f,p,v){var j,w=n.endpointDefinitions[f],y=(j=w==null?void 0:w.keepUnusedDataFor)!=null?j:v.keepUnusedDataFor;if(y!==1/0){var b=Math.max(0,Math.min(y,oC));if(!d(m)){var x=c[m];x&&clearTimeout(x),c[m]=setTimeout(function(){d(m)||p.dispatch(o({queryCacheKey:m})),delete c[m]},b*1e3)}}}return u},cC=function(e){var t=e.reducerPath,r=e.context,n=e.context.endpointDefinitions,a=e.mutationThunk,i=e.api,o=e.assertTagType,l=e.refetchQuery,d=i.internalActions.removeQueryResult,c=Wa(Fn(a),Rd(a)),u=function(m,f){c(m)&&h(Uj(m,"invalidatesTags",n,o),f),i.util.invalidateTags.match(m)&&h(tp(m.payload,void 0,void 0,void 0,void 0,o),f)};function h(m,f){var p=f.getState(),v=p[t],j=i.util.selectInvalidatedBy(p,m);r.batch(function(){for(var w,y=Array.from(j.values()),b=0,x=y;b<x.length;b++){var g=x[b].queryCacheKey,S=v.queries[g],P=(w=v.subscriptions[g])!=null?w:{};S&&(Object.keys(P).length===0?f.dispatch(d({queryCacheKey:g})):S.status!==$e.uninitialized&&f.dispatch(l(S,g)))}})}return u},dC=function(e){var t=e.reducerPath,r=e.queryThunk,n=e.api,a=e.refetchQuery,i=e.internalState,o={},l=function(f,p){(n.internalActions.updateSubscriptionOptions.match(f)||n.internalActions.unsubscribeQueryResult.match(f))&&c(f.payload,p),(r.pending.match(f)||r.rejected.match(f)&&f.meta.condition)&&c(f.meta.arg,p),(r.fulfilled.match(f)||r.rejected.match(f)&&!f.meta.condition)&&d(f.meta.arg,p),n.util.resetApiState.match(f)&&h()};function d(f,p){var v=f.queryCacheKey,j=p.getState()[t],w=j.queries[v],y=i.currentSubscriptions[v];if(!(!w||w.status===$e.uninitialized)){var b=m(y);if(Number.isFinite(b)){var x=o[v];x!=null&&x.timeout&&(clearTimeout(x.timeout),x.timeout=void 0);var g=Date.now()+b,S=o[v]={nextPollTimestamp:g,pollingInterval:b,timeout:setTimeout(function(){S.timeout=void 0,p.dispatch(a(w,v))},b)}}}}function c(f,p){var v=f.queryCacheKey,j=p.getState()[t],w=j.queries[v],y=i.currentSubscriptions[v];if(!(!w||w.status===$e.uninitialized)){var b=m(y);if(!Number.isFinite(b)){u(v);return}var x=o[v],g=Date.now()+b;(!x||g<x.nextPollTimestamp)&&d({queryCacheKey:v},p)}}function u(f){var p=o[f];p!=null&&p.timeout&&clearTimeout(p.timeout),delete o[f]}function h(){for(var f=0,p=Object.keys(o);f<p.length;f++){var v=p[f];u(v)}}function m(f){f===void 0&&(f={});var p=Number.POSITIVE_INFINITY;for(var v in f)f[v].pollingInterval&&(p=Math.min(f[v].pollingInterval,p));return p}return l},uC=function(e){var t=e.reducerPath,r=e.context,n=e.api,a=e.refetchQuery,i=e.internalState,o=n.internalActions.removeQueryResult,l=function(c,u){Zf.match(c)&&d(u,"refetchOnFocus"),ep.match(c)&&d(u,"refetchOnReconnect")};function d(c,u){var h=c.getState()[t],m=h.queries,f=i.currentSubscriptions;r.batch(function(){for(var p=0,v=Object.keys(f);p<v.length;p++){var j=v[p],w=m[j],y=f[j];if(!(!y||!w)){var b=Object.values(y).some(function(x){return x[u]===!0})||Object.values(y).every(function(x){return x[u]===void 0})&&h.config[u];b&&(Object.keys(y).length===0?c.dispatch(o({queryCacheKey:j})):w.status!==$e.uninitialized&&c.dispatch(a(w,j)))}}})}return l},Bx=new Error("Promise never resolved before cacheEntryRemoved."),hC=function(e){var t=e.api,r=e.reducerPath,n=e.context,a=e.queryThunk,i=e.mutationThunk;e.internalState;var o=am(a),l=am(i),d=Fn(a,i),c={},u=function(f,p,v){var j=h(f);if(a.pending.match(f)){var w=v[r].queries[j],y=p.getState()[r].queries[j];!w&&y&&m(f.meta.arg.endpointName,f.meta.arg.originalArgs,j,p,f.meta.requestId)}else if(i.pending.match(f)){var y=p.getState()[r].mutations[j];y&&m(f.meta.arg.endpointName,f.meta.arg.originalArgs,j,p,f.meta.requestId)}else if(d(f)){var b=c[j];b!=null&&b.valueResolved&&(b.valueResolved({data:f.payload,meta:f.meta.baseQueryMeta}),delete b.valueResolved)}else if(t.internalActions.removeQueryResult.match(f)||t.internalActions.removeMutationResult.match(f)){var b=c[j];b&&(delete c[j],b.cacheEntryRemoved())}else if(t.util.resetApiState.match(f))for(var x=0,g=Object.entries(c);x<g.length;x++){var S=g[x],P=S[0],b=S[1];delete c[P],b.cacheEntryRemoved()}};function h(f){return o(f)?f.meta.arg.queryCacheKey:l(f)?f.meta.requestId:t.internalActions.removeQueryResult.match(f)?f.payload.queryCacheKey:t.internalActions.removeMutationResult.match(f)?co(f.payload):""}function m(f,p,v,j,w){var y=n.endpointDefinitions[f],b=y==null?void 0:y.onCacheEntryAdded;if(b){var x={},g=new Promise(function(T){x.cacheEntryRemoved=T}),S=Promise.race([new Promise(function(T){x.valueResolved=T}),g.then(function(){throw Bx})]);S.catch(function(){}),c[v]=x;var P=t.endpoints[f].select(y.type===Qs.query?p:v),k=j.dispatch(function(T,M,C){return C}),E=zs(Ge({},j),{getCacheEntry:function(){return P(j.getState())},requestId:w,extra:k,updateCachedData:y.type===Qs.query?function(T){return j.dispatch(t.util.updateQueryData(f,p,T))}:void 0,cacheDataLoaded:S,cacheEntryRemoved:g}),A=b(p,E);Promise.resolve(A).catch(function(T){if(T!==Bx)throw T})}}return u},mC=function(e){var t=e.api,r=e.context,n=e.queryThunk,a=e.mutationThunk,i=Yf(n,a),o=oo(n,a),l=Fn(n,a),d={},c=function(u,h){var m,f,p;if(i(u)){var v=u.meta,j=v.requestId,w=v.arg,y=w.endpointName,b=w.originalArgs,x=r.endpointDefinitions[y],g=x==null?void 0:x.onQueryStarted;if(g){var S={},P=new Promise(function(O,I){S.resolve=O,S.reject=I});P.catch(function(){}),d[j]=S;var k=t.endpoints[y].select(x.type===Qs.query?b:j),E=h.dispatch(function(O,I,F){return F}),A=zs(Ge({},h),{getCacheEntry:function(){return k(h.getState())},requestId:j,extra:E,updateCachedData:x.type===Qs.query?function(O){return h.dispatch(t.util.updateQueryData(y,b,O))}:void 0,queryFulfilled:P});g(b,A)}}else if(l(u)){var T=u.meta,j=T.requestId,M=T.baseQueryMeta;(m=d[j])==null||m.resolve({data:u.payload,meta:M}),delete d[j]}else if(o(u)){var C=u.meta,j=C.requestId,R=C.rejectedWithValue,M=C.baseQueryMeta;(p=d[j])==null||p.reject({error:(f=u.payload)!=null?f:u.error,isUnhandledError:!R,meta:M}),delete d[j]}};return c},fC=function(e){var t=e.api,r=e.context.apiUid;return e.reducerPath,function(n,a){t.util.resetApiState.match(n)&&a.dispatch(t.internalActions.middlewareRegistered(r))}},Ux,pC=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(Ux||(Ux=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},xC=function(e){var t=e.api,r=e.queryThunk,n=e.internalState,a=t.reducerPath+"/subscriptions",i=null,o=!1,l=t.internalActions,d=l.updateSubscriptionOptions,c=l.unsubscribeQueryResult,u=function(h,m){var f,p,v,j,w,y,b,x,g;if(d.match(m)){var S=m.payload,P=S.queryCacheKey,k=S.requestId,E=S.options;return(f=h==null?void 0:h[P])!=null&&f[k]&&(h[P][k]=E),!0}if(c.match(m)){var A=m.payload,P=A.queryCacheKey,k=A.requestId;return h[P]&&delete h[P][k],!0}if(t.internalActions.removeQueryResult.match(m))return delete h[m.payload.queryCacheKey],!0;if(r.pending.match(m)){var T=m.meta,M=T.arg,k=T.requestId;if(M.subscribe){var C=(v=h[p=M.queryCacheKey])!=null?v:h[p]={};return C[k]=(w=(j=M.subscriptionOptions)!=null?j:C[k])!=null?w:{},!0}}if(r.rejected.match(m)){var R=m.meta,O=R.condition,M=R.arg,k=R.requestId;if(O&&M.subscribe){var C=(b=h[y=M.queryCacheKey])!=null?b:h[y]={};return C[k]=(g=(x=M.subscriptionOptions)!=null?x:C[k])!=null?g:{},!0}}return!1};return function(h,m){var f,p;if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(h))return i=n.currentSubscriptions={},[!0,!1];if(t.internalActions.internal_probeSubscription.match(h)){var v=h.payload,j=v.queryCacheKey,w=v.requestId,y=!!((f=n.currentSubscriptions[j])!=null&&f[w]);return[!1,y]}var b=u(n.currentSubscriptions,h);if(b){o||(pC(function(){var P=JSON.parse(JSON.stringify(n.currentSubscriptions)),k=Sj(i,function(){return P}),E=k[1];m.next(t.internalActions.subscriptionsUpdated(E)),i=P,o=!1}),o=!0);var x=!!((p=h.type)!=null&&p.startsWith(a)),g=r.rejected.match(h)&&h.meta.condition&&!!h.meta.arg.subscribe,S=!x&&!g;return[S,!1]}return[!0,!1]}};function gC(e){var t=e.reducerPath,r=e.queryThunk,n=e.api,a=e.context,i=a.apiUid,o={invalidateTags:Lt(t+"/invalidateTags")},l=function(h){return!!h&&typeof h.type=="string"&&h.type.startsWith(t+"/")},d=[fC,lC,cC,dC,hC,mC],c=function(h){var m=!1,f={currentSubscriptions:{}},p=zs(Ge({},e),{internalState:f,refetchQuery:u}),v=d.map(function(y){return y(p)}),j=xC(p),w=uC(p);return function(y){return function(b){m||(m=!0,h.dispatch(n.internalActions.middlewareRegistered(i)));var x=zs(Ge({},h),{next:y}),g=h.getState(),S=j(b,x,g),P=S[0],k=S[1],E;if(P?E=y(b):E=k,h.getState()[t]&&(w(b,x,g),l(b)||a.hasRehydrationInfo(b)))for(var A=0,T=v;A<T.length;A++){var M=T[A];M(b,x,g)}return E}}};return{middleware:c,actions:o};function u(h,m,f){return f===void 0&&(f={}),r(Ge({type:"query",endpointName:h.endpointName,originalArgs:h.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:m},f))}}function vr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,wc([e],t))}var zx=Symbol(),yC=function(){return{name:zx,init:function(e,t,r){var n=t.baseQuery;t.tagTypes;var a=t.reducerPath,i=t.serializeQueryArgs,o=t.keepUnusedDataFor,l=t.refetchOnMountOrArgChange,d=t.refetchOnFocus,c=t.refetchOnReconnect;H5();var u=function(H){return H};Object.assign(e,{reducerPath:a,endpoints:{},internalActions:{onOnline:ep,onOffline:Fj,onFocus:Zf,onFocusLost:$j},util:{}});var h=sC({baseQuery:n,reducerPath:a,context:r,api:e,serializeQueryArgs:i,assertTagType:u}),m=h.queryThunk,f=h.mutationThunk,p=h.patchQueryData,v=h.updateQueryData,j=h.upsertQueryData,w=h.prefetch,y=h.buildMatchThunkActions,b=rC({context:r,queryThunk:m,mutationThunk:f,reducerPath:a,assertTagType:u,config:{refetchOnFocus:d,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:o,reducerPath:a}}),x=b.reducer,g=b.actions;vr(e.util,{patchQueryData:p,updateQueryData:v,upsertQueryData:j,prefetch:w,resetApiState:g.resetApiState}),vr(e.internalActions,g);var S=gC({reducerPath:a,context:r,queryThunk:m,mutationThunk:f,api:e,assertTagType:u}),P=S.middleware,k=S.actions;vr(e.util,k),vr(e,{reducer:x,middleware:P});var E=nC({serializeQueryArgs:i,reducerPath:a}),A=E.buildQuerySelector,T=E.buildMutationSelector,M=E.selectInvalidatedBy;vr(e.util,{selectInvalidatedBy:M});var C=tC({queryThunk:m,mutationThunk:f,api:e,serializeQueryArgs:i,context:r}),R=C.buildInitiateQuery,O=C.buildInitiateMutation,I=C.getRunningMutationThunk,F=C.getRunningMutationsThunk,$=C.getRunningQueriesThunk,L=C.getRunningQueryThunk,B=C.getRunningOperationPromises,q=C.removalWarning;return vr(e.util,{getRunningOperationPromises:B,getRunningOperationPromise:q,getRunningMutationThunk:I,getRunningMutationsThunk:F,getRunningQueryThunk:L,getRunningQueriesThunk:$}),{name:zx,injectEndpoint:function(H,X){var se,_,V=e;(_=(se=V.endpoints)[H])!=null||(se[H]={}),Bj(X)?vr(V.endpoints[H],{name:H,select:A(H,X),initiate:R(H,X)},y(m,H)):Zk(X)&&vr(V.endpoints[H],{name:H,select:T(),initiate:O(H)},y(f,H))}}}}},vC=function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},bC=Object.defineProperty,jC=Object.defineProperties,wC=Object.getOwnPropertyDescriptors,Vx=Object.getOwnPropertySymbols,NC=Object.prototype.hasOwnProperty,SC=Object.prototype.propertyIsEnumerable,qx=function(e,t,r){return t in e?bC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Js=function(e,t){for(var r in t||(t={}))NC.call(t,r)&&qx(e,r,t[r]);if(Vx)for(var n=0,a=Vx(t);n<a.length;n++){var r=a[n];SC.call(t,r)&&qx(e,r,t[r])}return e},El=function(e,t){return jC(e,wC(t))};function Hx(e,t,r,n){var a=N.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}},[e,t,r,n]),i=N.useRef(a);return N.useEffect(function(){i.current.serialized!==a.serialized&&(i.current=a)},[a]),i.current.serialized===a.serialized?i.current.queryArgs:e}var Lu=Symbol();function _u(e){var t=N.useRef(e);return N.useEffect(function(){hc(t.current,e)||(t.current=e)},[e]),hc(t.current,e)?t.current:e}var sl=WeakMap?new WeakMap:void 0,kC=function(e){var t=e.endpointName,r=e.queryArgs,n="",a=sl==null?void 0:sl.get(r);if(typeof a=="string")n=a;else{var i=JSON.stringify(r,function(o,l){return Yr(l)?Object.keys(l).sort().reduce(function(d,c){return d[c]=l[c],d},{}):l});Yr(r)&&(sl==null||sl.set(r,i)),n=i}return t+"("+n+")"},CC=typeof window<"u"&&window.document&&window.document.createElement?N.useLayoutEffect:N.useEffect,PC=function(e){return e},AC=function(e){return e.isUninitialized?El(Js({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:$e.pending}):e};function EC(e){var t=e.api,r=e.moduleOptions,n=r.batch,a=r.useDispatch,i=r.useSelector,o=r.useStore,l=r.unstable__sideEffectsInRender,d=e.serializeQueryArgs,c=e.context,u=l?function(v){return v()}:N.useEffect;return{buildQueryHooks:f,buildMutationHook:p,usePrefetch:m};function h(v,j,w){if(j!=null&&j.endpointName&&v.isUninitialized){var y=j.endpointName,b=c.endpointDefinitions[y];d({queryArgs:j.originalArgs,endpointDefinition:b,endpointName:y})===d({queryArgs:w,endpointDefinition:b,endpointName:y})&&(j=void 0)}var x=v.isSuccess?v.data:j==null?void 0:j.data;x===void 0&&(x=v.data);var g=x!==void 0,S=v.isLoading,P=!g&&S,k=v.isSuccess||S&&g;return El(Js({},v),{data:x,currentData:v.data,isFetching:S,isLoading:P,isSuccess:k})}function m(v,j){var w=a(),y=_u(j);return N.useCallback(function(b,x){return w(t.util.prefetch(v,b,Js(Js({},y),x)))},[v,w,y])}function f(v){var j=function(b,x){var g=x===void 0?{}:x,S=g.refetchOnReconnect,P=g.refetchOnFocus,k=g.refetchOnMountOrArgChange,E=g.skip,A=E===void 0?!1:E,T=g.pollingInterval,M=T===void 0?0:T,C=t.endpoints[v].initiate,R=a(),O=Hx(A?yn:b,kC,c.endpointDefinitions[v],v),I=_u({refetchOnReconnect:S,refetchOnFocus:P,pollingInterval:M}),F=N.useRef(!1),$=N.useRef(),L=$.current||{},B=L.queryCacheKey,q=L.requestId,H=!1;if(B&&q){var X=R(t.internalActions.internal_probeSubscription({queryCacheKey:B,requestId:q}));H=!!X}var se=!H&&F.current;return u(function(){F.current=H}),u(function(){se&&($.current=void 0)},[se]),u(function(){var _,V=$.current;if(O===yn){V==null||V.unsubscribe(),$.current=void 0;return}var Q=(_=$.current)==null?void 0:_.subscriptionOptions;if(!V||V.arg!==O){V==null||V.unsubscribe();var ae=R(C(O,{subscriptionOptions:I,forceRefetch:k}));$.current=ae}else I!==Q&&V.updateSubscriptionOptions(I)},[R,C,k,O,I,se]),N.useEffect(function(){return function(){var _;(_=$.current)==null||_.unsubscribe(),$.current=void 0}},[]),N.useMemo(function(){return{refetch:function(){var _;if(!$.current)throw new Error("Cannot refetch a query that has not been started yet.");return(_=$.current)==null?void 0:_.refetch()}}},[])},w=function(b){var x=b===void 0?{}:b,g=x.refetchOnReconnect,S=x.refetchOnFocus,P=x.pollingInterval,k=P===void 0?0:P,E=t.endpoints[v].initiate,A=a(),T=N.useState(Lu),M=T[0],C=T[1],R=N.useRef(),O=_u({refetchOnReconnect:g,refetchOnFocus:S,pollingInterval:k});u(function(){var $,L,B=($=R.current)==null?void 0:$.subscriptionOptions;O!==B&&((L=R.current)==null||L.updateSubscriptionOptions(O))},[O]);var I=N.useRef(O);u(function(){I.current=O},[O]);var F=N.useCallback(function($,L){L===void 0&&(L=!1);var B;return n(function(){var q;(q=R.current)==null||q.unsubscribe(),R.current=B=A(E($,{subscriptionOptions:I.current,forceRefetch:!L})),C($)}),B},[A,E]);return N.useEffect(function(){return function(){var $;($=R==null?void 0:R.current)==null||$.unsubscribe()}},[]),N.useEffect(function(){M!==Lu&&!R.current&&F(M,!0)},[M,F]),N.useMemo(function(){return[F,M]},[F,M])},y=function(b,x){var g=x===void 0?{}:x,S=g.skip,P=S===void 0?!1:S,k=g.selectFromResult,E=t.endpoints[v].select,A=Hx(P?yn:b,d,c.endpointDefinitions[v],v),T=N.useRef(),M=N.useMemo(function(){return Mi([E(A),function(F,$){return $},function(F){return A}],h)},[E,A]),C=N.useMemo(function(){return k?Mi([M],k):M},[M,k]),R=i(function(F){return C(F,T.current)},hc),O=o(),I=M(O.getState(),T.current);return CC(function(){T.current=I},[I]),R};return{useQueryState:y,useQuerySubscription:j,useLazyQuerySubscription:w,useLazyQuery:function(b){var x=w(b),g=x[0],S=x[1],P=y(S,El(Js({},b),{skip:S===Lu})),k=N.useMemo(function(){return{lastArg:S}},[S]);return N.useMemo(function(){return[g,P,k]},[g,P,k])},useQuery:function(b,x){var g=j(b,x),S=y(b,Js({selectFromResult:b===yn||x!=null&&x.skip?void 0:AC},x)),P=S.data,k=S.status,E=S.isLoading,A=S.isSuccess,T=S.isError,M=S.error;return N.useDebugValue({data:P,status:k,isLoading:E,isSuccess:A,isError:T,error:M}),N.useMemo(function(){return Js(Js({},S),g)},[S,g])}}}function p(v){return function(j){var w=j===void 0?{}:j,y=w.selectFromResult,b=y===void 0?PC:y,x=w.fixedCacheKey,g=t.endpoints[v],S=g.select,P=g.initiate,k=a(),E=N.useState(),A=E[0],T=E[1];N.useEffect(function(){return function(){A!=null&&A.arg.fixedCacheKey||A==null||A.reset()}},[A]);var M=N.useCallback(function(V){var Q=k(P(V,{fixedCacheKey:x}));return T(Q),Q},[k,P,x]),C=(A||{}).requestId,R=N.useMemo(function(){return Mi([S({fixedCacheKey:x,requestId:A==null?void 0:A.requestId})],b)},[S,A,b,x]),O=i(R,hc),I=x==null?A==null?void 0:A.arg.originalArgs:void 0,F=N.useCallback(function(){n(function(){A&&T(void 0),x&&k(t.internalActions.removeMutationResult({requestId:C,fixedCacheKey:x}))})},[k,x,A,C]),$=O.endpointName,L=O.data,B=O.status,q=O.isLoading,H=O.isSuccess,X=O.isError,se=O.error;N.useDebugValue({endpointName:$,data:L,status:B,isLoading:q,isSuccess:H,isError:X,error:se});var _=N.useMemo(function(){return El(Js({},O),{originalArgs:I,reset:F})},[O,I,F]);return N.useMemo(function(){return[M,_]},[M,_])}}}var kc;(function(e){e.query="query",e.mutation="mutation"})(kc||(kc={}));function TC(e){return e.type===kc.query}function RC(e){return e.type===kc.mutation}function Du(e){return e.replace(e[0],e[0].toUpperCase())}function rl(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,vC([e],t))}var OC=Symbol(),MC=function(e){var t={},r=t.batch,n=r===void 0?nd.unstable_batchedUpdates:r,a=t.useDispatch,i=a===void 0?ft:a,o=t.useSelector,l=o===void 0?de:o,d=t.useStore,c=d===void 0?dj:d,u=t.unstable__sideEffectsInRender,h=u===void 0?!1:u;return{name:OC,init:function(m,f,p){var v=f.serializeQueryArgs,j=m,w=EC({api:m,moduleOptions:{batch:n,useDispatch:i,useSelector:l,useStore:c,unstable__sideEffectsInRender:h},serializeQueryArgs:v,context:p}),y=w.buildQueryHooks,b=w.buildMutationHook,x=w.usePrefetch;return rl(j,{usePrefetch:x}),rl(p,{batch:n}),{injectEndpoint:function(g,S){if(TC(S)){var P=y(g),k=P.useQuery,E=P.useLazyQuery,A=P.useLazyQuerySubscription,T=P.useQueryState,M=P.useQuerySubscription;rl(j.endpoints[g],{useQuery:k,useLazyQuery:E,useLazyQuerySubscription:A,useQueryState:T,useQuerySubscription:M}),m["use"+Du(g)+"Query"]=k,m["useLazy"+Du(g)+"Query"]=E}else if(RC(S)){var C=b(g);rl(j.endpoints[g],{useMutation:C}),m["use"+Du(g)+"Mutation"]=C}}}}}},LC=aC(yC(),MC());const _C=new Error("request for lock canceled");var DC=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function d(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):a(u.value).then(l,d)}c((n=n.apply(e,t||[])).next())})};class IC{constructor(t,r=_C){this._value=t,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((n,a)=>{const i={resolve:n,reject:a,weight:t,priority:r},o=Vj(this._queue,l=>r<=l.priority);o===-1&&t<=this._value?this._dispatchItem(i):this._queue.splice(o+1,0,i)})}runExclusive(t){return DC(this,arguments,void 0,function*(r,n=1,a=0){const[i,o]=yield this.acquire(n,a);try{return yield r(i)}finally{o()}})}waitForUnlock(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),$C(this._weightedWaiters[t-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const r=this._value;this._value-=t.weight,t.resolve([r,this._newReleaser(t.weight)])}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const r=this._weightedWaiters[t-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let r=this._value;r>0;r--){const n=this._weightedWaiters[r-1];if(!n)continue;const a=n.findIndex(i=>i.priority<=t);(a===-1?n:n.splice(0,a)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,r){return(this._queue.length===0||this._queue[0].priority<r)&&t<=this._value}}function $C(e,t){const r=Vj(e,n=>t.priority<=n.priority);e.splice(r+1,0,t)}function Vj(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var FC=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function d(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):a(u.value).then(l,d)}c((n=n.apply(e,t||[])).next())})};class BC{constructor(t){this._semaphore=new IC(1,t)}acquire(){return FC(this,arguments,void 0,function*(t=0){const[,r]=yield this._semaphore.acquire(1,t);return r})}runExclusive(t,r=0){return this._semaphore.runExclusive(()=>t(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const UC="http://localhost:5001/api",nl=new BC,al=Xk({baseUrl:UC,credentials:"include",timeout:1e4,prepareHeaders:(e,{getState:t})=>{var r,n;try{const a=(n=(r=t().auth)==null?void 0:r.tokens)==null?void 0:n.accessToken;a&&e.set("authorization",`Bearer ${a}`)}catch{}return e}}),zC=async(e,t,r)=>{var a,i,o,l,d;await nl.waitForUnlock();let n=await al(e,t,r);if(n.error&&n.error.status===401)if(nl.isLocked())await nl.waitForUnlock(),n=await al(e,t,r);else{const c=await nl.acquire();try{const u=await al({url:"/auth/refresh",method:"POST",body:{refreshToken:(i=(a=t.getState().auth)==null?void 0:a.tokens)==null?void 0:i.refreshToken}},t,r);(o=u==null?void 0:u.data)!=null&&o.accessToken?(t.dispatch({type:"auth/setTokens",payload:{accessToken:u.data.accessToken,refreshToken:u.data.refreshToken??((d=(l=t.getState().auth)==null?void 0:l.tokens)==null?void 0:d.refreshToken)}}),n=await al(e,t,r)):t.dispatch({type:"auth/logout"})}finally{c()}}return n},Ka=LC({reducerPath:"api",baseQuery:zC,tagTypes:["User","Product","Order","Payment","Cart","Address","Notification"],endpoints:e=>({login:e.mutation({query:t=>({url:"/auth/login",method:"POST",body:t})}),signup:e.mutation({query:t=>({url:"/auth/signup",method:"POST",body:t})}),refreshToken:e.mutation({query:t=>({url:"/auth/refresh",method:"POST",body:{refreshToken:t}})}),changePassword:e.mutation({query:t=>({url:"/auth/change-password",method:"POST",body:t}),invalidatesTags:["User"]}),logout:e.mutation({query:t=>({url:"/auth/logout",method:"POST",body:t}),async onQueryStarted(t,{dispatch:r,queryFulfilled:n}){try{await n}finally{r(On())}}}),getProfile:e.query({query:()=>"/user/profile",providesTags:["User"],transformResponse:t=>t}),updateProfile:e.mutation({query:t=>({url:"/user/profile",method:"PUT",body:t}),invalidatesTags:["User"]}),deleteAccount:e.mutation({query:()=>({url:"/user/delete-account",method:"DELETE"}),invalidatesTags:["User","Cart","Order","Notification"],async onQueryStarted(t,{dispatch:r,queryFulfilled:n}){try{await n,r(Ka.util.resetApiState())}catch{}}}),getProducts:e.query({query:t=>({url:"/products",method:"GET",params:t}),providesTags:t=>t!=null&&t.products?[...t.products.map(r=>({type:"Product",id:r._id})),{type:"Product",id:"LIST"}]:[{type:"Product",id:"LIST"}],transformResponse:t=>{const r=((t==null?void 0:t.products)||[]).map(n=>({...n,id:n._id??n.id}));return{...t,products:r}}}),getProductById:e.query({query:t=>`/products/${t}`,providesTags:(t,r,n)=>[{type:"Product",id:n}],transformResponse:t=>({...t,id:t._id??t.id})}),getSimilarProducts:e.query({query:({id:t,limit:r=4})=>({url:`/products/${t}/similar`,method:"GET",params:{limit:r}}),transformResponse:t=>t,providesTags:["Product"]}),getSearchSuggestions:e.query({query:({q:t})=>({url:"/products/search/suggestions",method:"GET",params:{q:t}}),transformResponse:t=>(t==null?void 0:t.suggestions)||[]}),searchProducts:e.query({query:t=>({url:"/products/search",method:"GET",params:t}),transformResponse:t=>t,providesTags:["Product"]}),getCart:e.query({query:()=>"/cart",providesTags:["Cart"]}),addToCart:e.mutation({query:t=>({url:"/cart",method:"POST",body:t}),invalidatesTags:["Cart"]}),updateCartItem:e.mutation({query:t=>({url:"/cart",method:"PUT",body:t}),invalidatesTags:["Cart"]}),removeFromCart:e.mutation({query:t=>({url:`/cart/${t}`,method:"DELETE"}),invalidatesTags:["Cart"]}),clearCart:e.mutation({query:()=>({url:"/cart/clear",method:"DELETE"}),invalidatesTags:["Cart"]}),getOrders:e.query({query:()=>"/orders",providesTags:["Order"]}),createOrder:e.mutation({query:t=>({url:"/orders",method:"POST",body:t}),invalidatesTags:["Cart","Order"]}),getAddresses:e.query({query:()=>"/user/addresses",providesTags:["Address"],transformResponse:t=>({addresses:(t==null?void 0:t.addresses)||[],defaultAddressId:(t==null?void 0:t.defaultAddressId)||null})}),addAddress:e.mutation({query:t=>({url:"/user/addresses",method:"POST",body:t}),invalidatesTags:["Address"]}),updateAddress:e.mutation({query:({addressId:t,...r})=>({url:`/user/addresses/${t}`,method:"PUT",body:r}),invalidatesTags:["Address"]}),deleteAddress:e.mutation({query:t=>({url:`/user/addresses/${t}`,method:"DELETE"}),invalidatesTags:["Address"]}),setDefaultAddress:e.mutation({query:t=>({url:`/user/addresses/${t}/default`,method:"PATCH"}),invalidatesTags:["Address"]}),getNotifications:e.query({query:()=>"/notifications",providesTags:["Notification"]}),getUnreadCount:e.query({query:()=>"/notifications/unread/count",providesTags:["Notification"]}),markAsRead:e.mutation({query:t=>({url:`/notifications/${t}/read`,method:"PUT"}),invalidatesTags:["Notification"]}),markAllAsRead:e.mutation({query:()=>({url:"/notifications/read-all",method:"PUT"}),invalidatesTags:["Notification"]}),deleteNotification:e.mutation({query:t=>({url:`/notifications/${t}`,method:"DELETE"}),invalidatesTags:["Notification"]}),getNotificationPreferences:e.query({query:()=>"/user/notification-preferences",providesTags:["User"]}),updateNotificationPreferences:e.mutation({query:t=>({url:"/user/notification-preferences",method:"PUT",body:{preferences:t}}),invalidatesTags:["User"]}),getPresignedUploadUrl:e.mutation({query:t=>({url:"/products/upload-url",method:"POST",body:t})}),createProduct:e.mutation({query:t=>({url:"/products",method:"POST",body:t}),invalidatesTags:["Product"]}),updateProduct:e.mutation({query:({id:t,...r})=>({url:`/products/${t}`,method:"PUT",body:r}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:t=>({url:`/admin/products/${t}`,method:"DELETE"}),invalidatesTags:["Product"]}),checkPincode:e.query({query:t=>`/pincode/check/${t}`})})}),{useLoginMutation:d_,useSignupMutation:u_,useRefreshTokenMutation:VC,useChangePasswordMutation:qC,useLogoutMutation:h_,useGetProfileQuery:Un,useUpdateProfileMutation:HC,useDeleteAccountMutation:WC,useGetProductsQuery:sp,useGetProductByIdQuery:KC,useGetSimilarProductsQuery:QC,useGetSearchSuggestionsQuery:GC,useSearchProductsQuery:YC,useGetCartQuery:m_,useAddToCartMutation:Ld,useUpdateCartItemMutation:JC,useRemoveFromCartMutation:XC,useClearCartMutation:f_,useGetOrdersQuery:p_,useCreateOrderMutation:x_,useGetAddressesQuery:rp,useAddAddressMutation:ZC,useUpdateAddressMutation:e6,useDeleteAddressMutation:t6,useSetDefaultAddressMutation:qj,useGetNotificationsQuery:s6,useGetUnreadCountQuery:g_,useMarkAsReadMutation:r6,useMarkAllAsReadMutation:n6,useDeleteNotificationMutation:a6,useGetNotificationPreferencesQuery:Hj,useUpdateNotificationPreferencesMutation:Wj,useGetPresignedUploadUrlMutation:y_,useCreateProductMutation:i6,useUpdateProductMutation:o6,useDeleteProductMutation:l6,useCheckPincodeQuery:v_}=Ka,Iu=Gf({auth:Mk,cart:Ik,ui:Fk,api:Ka.reducer}),c6=(e,t)=>{var r;if(t.type==="app/RESET_STATE"){console.log(" RESETTING ENTIRE APP STATE");const n=((r=e==null?void 0:e.ui)==null?void 0:r.theme)||"light";return{...Iu(void 0,t),ui:{...Iu(void 0,t).ui,theme:n}}}return Iu(e,t)},Cc=wk({reducer:c6,middleware:e=>e({serializableCheck:!1}).concat(Ka.middleware)});let d6={data:""},u6=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||d6},h6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,m6=/\/\*[^]*?\*\/|  +/g,Wx=/\n+/g,Pr=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Pr(o,i):i+"{"+Pr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Pr(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Pr.p?Pr.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ys={},Kj=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Kj(e[r]);return t}return e},f6=(e,t,r,n,a)=>{let i=Kj(e),o=Ys[i]||(Ys[i]=(d=>{let c=0,u=11;for(;c<d.length;)u=101*u+d.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Ys[o]){let d=i!==e?e:(c=>{let u,h,m=[{}];for(;u=h6.exec(c.replace(m6,""));)u[4]?m.shift():u[3]?(h=u[3].replace(Wx," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(Wx," ").trim();return m[0]})(e);Ys[o]=Pr(a?{["@keyframes "+o]:d}:d,r?"":"."+o)}let l=r&&Ys.g?Ys.g:null;return r&&(Ys.g=Ys[o]),((d,c,u,h)=>{h?c.data=c.data.replace(h,d):c.data.indexOf(d)===-1&&(c.data=u?d+c.data:c.data+d)})(Ys[o],t,n,l),o},p6=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":Pr(l,""):l===!1?"":l}return n+a+(o??"")},"");function _d(e){let t=this||{},r=e.call?e(t.p):e;return f6(r.unshift?r.raw?p6(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,u6(t.target),t.g,t.o,t.k)}let Qj,lm,cm;_d.bind({g:1});let fr=_d.bind({k:1});function x6(e,t,r,n){Pr.p=t,Qj=e,lm=r,cm=n}function nn(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),d=l.className||a.className;r.p=Object.assign({theme:lm&&lm()},l),r.o=/ *go\d+/.test(d),l.className=_d.apply(r,n)+(d?" "+d:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),cm&&c[0]&&cm(l),Qj(c,l)}return a}}var g6=e=>typeof e=="function",Pc=(e,t)=>g6(e)?e(t):e,y6=(()=>{let e=0;return()=>(++e).toString()})(),Gj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),v6=20,Tl=new Map,b6=1e3,Kx=e=>{if(Tl.has(e))return;let t=setTimeout(()=>{Tl.delete(e),zn({type:4,toastId:e})},b6);Tl.set(e,t)},j6=e=>{let t=Tl.get(e);t&&clearTimeout(t)},dm=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,v6)};case 1:return t.toast.id&&j6(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return e.toasts.find(i=>i.id===r.id)?dm(e,{type:1,toast:r}):dm(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?Kx(n):e.toasts.forEach(i=>{Kx(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Rl=[],Ol={toasts:[],pausedAt:void 0},zn=e=>{Ol=dm(Ol,e),Rl.forEach(t=>{t(Ol)})},w6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N6=(e={})=>{let[t,r]=N.useState(Ol);N.useEffect(()=>(Rl.push(r),()=>{let a=Rl.indexOf(r);a>-1&&Rl.splice(a,1)}),[t]);let n=t.toasts.map(a=>{var i,o;return{...e,...e[a.type],...a,duration:a.duration||((i=e[a.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||w6[a.type],style:{...e.style,...(o=e[a.type])==null?void 0:o.style,...a.style}}});return{...t,toasts:n}},S6=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||y6()}),Po=e=>(t,r)=>{let n=S6(t,e,r);return zn({type:2,toast:n}),n.id},Y=(e,t)=>Po("blank")(e,t);Y.error=Po("error");Y.success=Po("success");Y.loading=Po("loading");Y.custom=Po("custom");Y.dismiss=e=>{zn({type:3,toastId:e})};Y.remove=e=>zn({type:4,toastId:e});Y.promise=(e,t,r)=>{let n=Y.loading(t.loading,{...r,...r==null?void 0:r.loading});return e.then(a=>(Y.success(Pc(t.success,a),{id:n,...r,...r==null?void 0:r.success}),a)).catch(a=>{Y.error(Pc(t.error,a),{id:n,...r,...r==null?void 0:r.error})}),e};var k6=(e,t)=>{zn({type:1,toast:{id:e,height:t}})},C6=()=>{zn({type:5,time:Date.now()})},P6=e=>{let{toasts:t,pausedAt:r}=N6(e);N.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(d<0){l.visible&&Y.dismiss(l.id);return}return setTimeout(()=>Y.dismiss(l.id),d)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=N.useCallback(()=>{r&&zn({type:6,time:Date.now()})},[r]),a=N.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:c}=o||{},u=t.filter(f=>(f.position||c)===(i.position||c)&&f.height),h=u.findIndex(f=>f.id===i.id),m=u.filter((f,p)=>p<h&&f.visible).length;return u.filter(f=>f.visible).slice(...l?[m+1]:[0,m]).reduce((f,p)=>f+(p.height||0)+d,0)},[t]);return{toasts:t,handlers:{updateHeight:k6,startPause:C6,endPause:n,calculateOffset:a}}},A6=fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,E6=fr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T6=fr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,R6=nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${E6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${T6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,O6=fr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,M6=nn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${O6} 1s linear infinite;
`,L6=fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_6=fr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,D6=nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,I6=nn("div")`
  position: absolute;
`,$6=nn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,F6=fr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B6=nn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${F6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,U6=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(B6,null,t):t:r==="blank"?null:N.createElement($6,null,N.createElement(M6,{...n}),r!=="loading"&&N.createElement(I6,null,r==="error"?N.createElement(R6,{...n}):N.createElement(D6,{...n})))},z6=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,V6=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,q6="0%{opacity:0;} 100%{opacity:1;}",H6="0%{opacity:1;} 100%{opacity:0;}",W6=nn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,K6=nn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q6=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=Gj()?[q6,H6]:[z6(r),V6(r)];return{animation:t?`${fr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},G6=N.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Q6(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(U6,{toast:e}),o=N.createElement(K6,{...e.ariaProps},Pc(e.message,e));return N.createElement(W6,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});x6(N.createElement);var Y6=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:i,className:t,style:r},a)},J6=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},X6=_d`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,il=16,Z6=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:d}=P6(r);return N.createElement("div",{style:{position:"fixed",zIndex:9999,top:il,left:il,right:il,bottom:il,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(c=>{let u=c.position||t,h=d.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),m=J6(u,h);return N.createElement(Y6,{id:c.id,key:c.id,onHeightUpdate:d.updateHeight,className:c.visible?X6:"",style:m},c.type==="custom"?Pc(c.message,c):a?a(c):N.createElement(G6,{toast:c,position:u}))}))},_e=Y;const Yj=N.createContext(void 0),e3={en:{"account.title":"Account","account.welcome":"Manage your account settings","account.welcome.authenticated":"Welcome back, {{name}}!","account.profile":"Profile","account.profile.description":"Manage your personal information","account.orders":"Orders","account.orders.description":"View your order history","account.settings":"Settings","account.settings.description":"App preferences and configuration","account.notifications":"Notifications","account.notifications.description":"Manage your notification preferences","account.privacy":"Privacy","account.privacy.description":"Control your privacy settings","account.help":"Help & Support","account.help.description":"Get help and contact support","account.logout":"Logout","account.logout.description":"Sign out of your account","account.language":"Language","account.language.description":"Choose your preferred language","account.language.english":"English","account.language.telugu":"","account.language.hindi":"","profile.edit":"Edit Profile","profile.name":"Name","profile.email":"Email","profile.phone":"Phone","profile.address":"Address","profile.save":"Save Changes","profile.cancel":"Cancel","common.shop_now":"Shop Now","common.add_to_cart":"Add to Cart","common.search":"Search","common.cart":"Cart","common.home":"Home","common.categories":"Categories","common.account":"Account","home.for_you":"For You","home.categories":"Categories","home.end_of_products":"End of Products","home.search_placeholder":"Search for products","categories.title":"Categories","categories.subtitle":"Browse products by category","categories.chocolates":"Chocolates","categories.ladoos":"Laddus","categories.biscuits":"Biscuits","categories.cakes":"Cakes","categories.hot_snacks":"Hot Snacks","categories.beverages":"Beverages","categories.chocolates_desc":"Sweet chocolate treats","categories.ladoos_desc":"Traditional Indian sweets","categories.biscuits_desc":"Crispy and delicious biscuits","categories.cakes_desc":"Delicious and fresh cakes","categories.hot_snacks_desc":"Spicy and crispy snacks","categories.beverages_desc":"Refreshing drinks and beverages","nav.home":"Home","nav.categories":"Categories","nav.account":"Account","nav.cart":"Cart","sort.title":"Sort by","sort.price_low_high":"Price: Low to High","sort.price_high_low":"Price: High to Low","sort.popularity":"Popularity","sort.newest":"Newest Arrivals","sort.best_selling":"Best Selling"},te:{"account.title":"","account.welcome":"   ","account.welcome.authenticated":", {{name}}!","account.profile":"","account.profile.description":"   ","account.orders":"","account.orders.description":"   ","account.settings":"","account.settings.description":"   ","account.notifications":"","account.notifications.description":"   ","account.privacy":"","account.privacy.description":"   ","account.help":"  ","account.help.description":"    ","account.logout":" ","account.logout.description":"     ","account.language":"","account.language.description":"   ","account.language.english":"English","account.language.telugu":"","account.language.hindi":"","profile.edit":" ","profile.name":"","profile.email":"","profile.phone":"","profile.address":"","profile.save":"  ","profile.cancel":" ","common.shop_now":" ","common.add_to_cart":" ","common.search":"","common.cart":"","common.home":"","common.categories":"","common.account":"","home.for_you":" ","home.categories":"","home.end_of_products":" ","home.search_placeholder":"  ","categories.title":"","categories.subtitle":"    ","categories.chocolates":"","categories.ladoos":"","categories.biscuits":"","categories.cakes":"","categories.hot_snacks":" ","categories.chocolates_desc":"  ","categories.ladoos_desc":"  ","categories.biscuits_desc":"   ","categories.cakes_desc":"   ","categories.hot_snacks_desc":"   ","nav.home":"","nav.categories":"","nav.account":"","nav.cart":"","sort.title":" ","sort.price_low_high":":   ","sort.price_high_low":":   ","sort.popularity":"","sort.newest":" ","sort.best_selling":" "},hi:{"account.title":"","account.welcome":"    ","account.welcome.authenticated":" , {{name}}!","account.profile":"","account.profile.description":"    ","account.orders":"","account.orders.description":"   ","account.settings":"","account.settings.description":"   ","account.notifications":"","account.notifications.description":"    ","account.privacy":"","account.privacy.description":"    ","account.help":"  ","account.help.description":"       ","account.logout":" ","account.logout.description":"     ","account.language":"","account.language.description":"   ","account.language.english":"English","account.language.telugu":"","account.language.hindi":"","profile.edit":"  ","profile.name":"","profile.email":"","profile.phone":"","profile.address":"","profile.save":" ","profile.cancel":" ","common.shop_now":" ","common.add_to_cart":"  ","common.search":"","common.cart":"","common.home":"","common.categories":"","common.account":"","home.for_you":" ","home.categories":"","home.end_of_products":"  ","home.search_placeholder":"   ","categories.title":"","categories.subtitle":"     ","categories.chocolates":"","categories.ladoos":"","categories.biscuits":"","categories.cakes":"","categories.hot_snacks":" ","categories.chocolates_desc":"  ","categories.ladoos_desc":"  ","categories.biscuits_desc":"   ","categories.cakes_desc":"   ","categories.hot_snacks_desc":"   ","nav.home":"","nav.categories":"","nav.account":"","nav.cart":"","sort.title":" ","sort.price_low_high":":   ","sort.price_high_low":":   ","sort.popularity":"","sort.newest":" ","sort.best_selling":"   "}},t3=({children:e})=>{const[t,r]=N.useState(()=>localStorage.getItem("app-language")||"en"),n=i=>{r(i),localStorage.setItem("app-language",i)},a=(i,o)=>{let l=e3[t][i]||i;return o&&Object.entries(o).forEach(([d,c])=>{l=l.replace(`{{${d}}}`,c)}),l};return s.jsx(Yj.Provider,{value:{language:t,setLanguage:n,t:a},children:e})},Qa=()=>{const e=N.useContext(Yj);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Qx=e=>{const t=r3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),n3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},d)=>N.createElement("svg",{ref:d,...a3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Jj("lucide",a),...!i&&!n3(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(e,t)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(i3,{ref:i,iconNode:t,className:Jj(`lucide-${s3(Qx(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Qx(e),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ne=K("arrow-left",o3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gx=K("arrow-right",l3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],d3=K("arrow-up-narrow-wide",c3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ac=K("award",u3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ot=K("bell",h3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yx=K("briefcase",m3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],p3=K("building-2",f3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],g3=K("building",x3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mn=K("calendar",y3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uo=K("camera",v3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ho=K("chart-column",b3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],w3=K("chart-no-axes-column",j3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ss=K("check",N3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wa=K("chevron-down",S3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C3=K("chevron-left",k3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rr=K("chevron-right",P3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xj=K("chevron-up",A3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],La=K("circle-alert",E3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ae=K("circle-check-big",T3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pr=K("circle-question-mark",R3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ga=K("circle-x",O3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ze=K("clock",M3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zj=K("copy",L3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ws=K("credit-card",_3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xs=K("dollar-sign",D3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],np=K("download",I3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Jx=K("ellipsis-vertical",$3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],B3=K("ellipsis",F3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Na=K("eye-off",U3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ar=K("eye",z3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ew=K("file-text",V3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H3=K("funnel",q3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],mo=K("gift",W3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ap=K("globe",K3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],G3=K("graduation-cap",Q3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],J3=K("grid-3x3",Y3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Z3=K("hash",X3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],tw=K("headphones",eP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],sw=K("heart",tP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ip=K("house",sP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nP=K("image",rP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fo=K("loader-circle",aP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],op=K("log-out",iP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_a=K("lock",oP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wt=K("mail",lP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ct=K("map-pin",cP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],lp=K("message-circle",dP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ec=K("message-square",uP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mP=K("monitor",hP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pP=K("moon",fP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],um=K("navigation",xP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ie=K("package",gP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ol=K("pen-line",yP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ht=K("phone",vP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tc=K("plus",bP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],wP=K("qr-code",jP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cp=K("refresh-cw",NP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kP=K("rotate-ccw",SP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jr=K("search",CP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AP=K("send",PP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ao=K("settings",EP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rw=K("share-2",TP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hm=K("shield-check",RP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gs=K("shield",OP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],LP=K("shopping-bag",MP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vt=K("shopping-cart",_P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dp=K("smartphone",DP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$P=K("square-check-big",IP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],up=K("square-pen",FP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ot=K("star",BP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zP=K("store",UP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qP=K("sun",VP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xx=K("tag",HP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mm=K("target",WP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hp=K("trash-2",KP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tr=K("trending-up",QP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Da=K("triangle-alert",GP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Vr=K("truck",YP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XP=K("upload",JP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$u=K("user-check",ZP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],tA=K("user-x",eA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zt=K("users",sA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Be=K("user",rA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aA=K("wallet",nA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gt=K("x",iA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zx=K("zap",oA),nw=({isOpen:e,onClose:t,redirectTo:r="/account/profile"})=>{const n=ft(),{isAuthenticated:a}=de(O=>O.auth),[i,o]=N.useState("choose"),[l,d]=N.useState(""),[c,u]=N.useState(""),[h,m]=N.useState(""),[f,p]=N.useState(!1),[v,j]=N.useState(""),[w,y]=N.useState(!1),[b,x]=N.useState(""),[g,S]=N.useState(30),[P,k]=N.useState(!1);N.useEffect(()=>{a&&e&&(console.log("OtpLoginModal: User authenticated, closing modal"),t())},[a,e,t]);const E=O=>/^[6-9]\d{9}$/.test(O),A=()=>{d(""),u(""),m(""),j(""),x(""),y(!1),S(30),k(!1),o("choose")},T=()=>{A(),t()},M=async()=>{p(!0),j(""),x("");try{let O={};if(l){if(!E(l)){x("Please enter a valid 10-digit mobile number."),p(!1);return}const L=l.replace(/\D/g,"");O.phone=L}else if(c)O.email=c;else{p(!1);return}console.log(" Sending OTP request payload:",O);const I=await fetch("http://localhost:5001/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});console.log(" send-otp status:",I.status);const F=await I.json();if(console.log(" send-otp response body:",F),!I.ok){if(I.status===404&&F.action==="signup_required"){j("Account does not exist. Please create an account.");return}throw new Error(F.error||"Failed to send OTP")}y(!0),S(30),k(!1);const $=setInterval(()=>{S(L=>L<=1?(clearInterval($),k(!0),0):L-1)},1e3)}catch(O){j(O instanceof Error?O.message:"Failed to send OTP")}finally{p(!1)}},C=async()=>{p(!0),j("");try{const O=await fetch("http://localhost:5001/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otp:h,...l?{phone:l}:{email:c}})}),I=await O.json();if(!O.ok){const F=I.error||"Failed to verify OTP";F.includes("email already exists")?j("An account with this email already exists. Please use a different email or try logging in."):F.includes("phone number already exists")?j("An account with this phone number already exists. Please use a different phone number or try logging in."):j(F);return}n(Bn(I.user)),n(Co({accessToken:I.accessToken,refreshToken:I.refreshToken})),T(),setTimeout(()=>{I.user.isAdmin?window.location.href="/admin":window.location.pathname!==r&&(window.location.href=r)},500)}catch(O){j(O instanceof Error?O.message:"Failed to verify OTP")}finally{p(!1)}},R=()=>{window.location.href="http://localhost:5001/api/auth/google"};return e?(console.log("OtpLoginModal: Modal is open, rendering"),s.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-screen overflow-auto flex",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white p-12 flex-1 flex flex-col justify-center relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full"}),s.jsx("div",{className:"absolute top-32 right-16 w-24 h-24 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-16 h-16 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-32 right-10 w-20 h-20 bg-white rounded-full"})]}),s.jsxs("div",{className:"text-center relative z-10",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Be,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Welcome Back"}),s.jsx("p",{className:"text-lg text-blue-100 leading-relaxed",children:"Get access to your Orders and Recommendations"})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-100",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-200 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Secure Login"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-100",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-200 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Fast Checkout"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-100",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-200 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Personalized Experience"})]})]})]})]}),s.jsxs("div",{className:"bg-white p-12 flex-1 flex flex-col justify-center relative",children:[s.jsx("button",{onClick:T,"aria-label":"Close login modal",className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-full z-20",children:s.jsx(gt,{className:"h-5 w-5"})}),s.jsx("div",{className:"w-full max-w-md mx-auto overflow-y-auto min-h-[360px]",children:i==="choose"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sign In"}),s.jsx("p",{className:"text-gray-600",children:"Enter your email or mobile number"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:l||c,onChange:O=>{O.stopPropagation();const I=O.target.value;x(""),I.includes("@")?(u(I),d("")):/^[0-9]{10}$/.test(I)||/^[0-9]*$/.test(I)&&I.length<=10?(d(I),u("")):/^[a-zA-Z0-9@._-]*$/.test(I)&&(u(I),d(""))},onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),O.stopPropagation(),(l||c)&&M())},placeholder:"Enter Email/Mobile number",className:`w-full px-4 py-4 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all ${b?"border-red-500 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:l?s.jsx(ht,{className:"h-5 w-5 text-gray-400"}):c?s.jsx(Wt,{className:"h-5 w-5 text-gray-400"}):null})]}),b&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:b}),v&&s.jsx("div",{className:"text-red-600 text-sm mb-3",children:v}),s.jsxs("div",{className:"text-xs text-gray-500",children:["By continuing, you agree to CS Store's"," ",s.jsx("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Use"})," ","and"," ",s.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]}),s.jsx("button",{onClick:()=>{(l||c)&&M()},disabled:!l&&!c||!!(l&&!E(l)),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-4 px-6 rounded-lg text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-lg",children:"Continue"}),w&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"text-gray-700 text-sm font-medium mt-4 block",children:"Enter OTP"}),s.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-full px-4 py-3 border-2 rounded-lg border-gray-200 focus:outline-none focus:border-blue-500",placeholder:"Enter 6-digit OTP"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("button",{type:"button",disabled:!P,onClick:M,className:`text-sm font-medium transition-colors ${P?"text-blue-600 hover:text-blue-700 cursor-pointer":"text-gray-400 cursor-not-allowed"}`,style:{background:"none",border:"none",padding:0},children:"Resend OTP"}),s.jsx("span",{className:"text-sm text-gray-500",children:P?"":`Resend in ${g}s`})]}),s.jsx("button",{onClick:C,disabled:h.length!==6||f,className:"w-full bg-blue-600 text-white py-3 rounded-lg disabled:opacity-50",children:f?"Verifying...":"Verify OTP"})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]}),s.jsxs("button",{onClick:R,className:"w-full border-2 border-gray-200 hover:border-gray-300 text-gray-700 font-medium py-4 px-6 rounded-lg transition-all flex items-center justify-center space-x-2",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{children:"Continue with Google"})]}),s.jsxs("div",{className:"text-center text-sm text-gray-600 mt-4",children:["New to CS Store?"," ",s.jsx("button",{onClick:()=>window.location.href="/signup",className:"text-blue-600 font-medium hover:underline",children:"create an account."})]})]})})]})]})})):(console.log("OtpLoginModal: Modal is closed, not rendering"),null)},aw=N.createContext(void 0),Dd=()=>{const e=N.useContext(aw);if(!e)throw new Error("useOtpModal must be used within an OtpModalProvider");return e},lA=({children:e})=>{const[t,r]=N.useState(!1),[n,a]=N.useState("/account/profile"),{isAuthenticated:i}=de(c=>c.auth),o=c=>{if(i){console.log("OtpModalContext: User is already authenticated, skipping modal");return}console.log("OtpModalContext: showOtpModal called with redirectPath:",c),a(c||"/account/profile"),requestAnimationFrame(()=>r(!0)),console.log("OtpModalContext: Modal should now be open")},l=()=>{r(!1)};N.useEffect(()=>{i&&t&&(console.log("OtpModalContext: User authenticated, closing modal"),l())},[i,t]);const d=t&&!i;return s.jsxs(aw.Provider,{value:{showOtpModal:o,hideOtpModal:l,isOtpModalOpen:d},children:[e,t&&s.jsx(ke.Suspense,{fallback:s.jsx(s.Fragment,{}),children:s.jsx(nw,{isOpen:!i,onClose:l,redirectTo:n})})]})},iw=N.createContext(void 0),cA=()=>{const e=N.useContext(iw);if(!e)throw new Error("useCurrency must be used within a CurrencyProvider");return e},dA={USD:"$",INR:"",EUR:"",GBP:""},uA=({children:e})=>{const[t,r]=N.useState(()=>typeof window<"u"&&localStorage.getItem("currency")||"USD"),n=i=>{r(i),localStorage.setItem("currency",i)},a=i=>`${dA[t]}${i.toFixed(2)}`;return s.jsx(iw.Provider,{value:{currency:t,setCurrency:n,formatPrice:a},children:e})},eg=({href:e,children:t,className:r=""})=>s.jsx("a",{href:e,className:`
        sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4
        bg-primary-600 text-white px-4 py-2 rounded-md z-skipLink
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500
        ${r}
      `,children:t}),ow=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Id=N.createContext({}),$d=N.createContext(null),Fd=typeof document<"u",mp=Fd?N.useLayoutEffect:N.useEffect,lw=N.createContext({strict:!1});function hA(e,t,r,n){const{visualElement:a}=N.useContext(Id),i=N.useContext(lw),o=N.useContext($d),l=N.useContext(ow).reducedMotion,d=N.useRef();n=n||i.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=d.current;N.useInsertionEffect(()=>{c&&c.update(r,o)});const u=N.useRef(!!window.HandoffAppearAnimations);return mp(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function ca(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mA(e,t,r){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ca(r)&&(r.current=n))},[t])}function po(e){return typeof e=="string"||Array.isArray(e)}function Bd(e){return typeof e=="object"&&typeof e.start=="function"}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pp=["initial",...fp];function Ud(e){return Bd(e.animate)||pp.some(t=>po(e[t]))}function cw(e){return!!(Ud(e)||e.variants)}function fA(e,t){if(Ud(e)){const{initial:r,animate:n}=e;return{initial:r===!1||po(r)?r:void 0,animate:po(n)?n:void 0}}return e.inherit!==!1?t:{}}function pA(e){const{initial:t,animate:r}=fA(e,N.useContext(Id));return N.useMemo(()=>({initial:t,animate:r}),[tg(t),tg(r)])}function tg(e){return Array.isArray(e)?e.join(" "):e}const sg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const e in sg)xo[e]={isEnabled:t=>sg[e].some(r=>!!t[r])};function xA(e){for(const t in e)xo[t]={...xo[t],...e[t]}}const xp=N.createContext({}),dw=N.createContext({}),gA=Symbol.for("motionComponentSymbol");function yA({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&xA(e);function i(l,d){let c;const u={...N.useContext(ow),...l,layoutId:vA(l)},{isStatic:h}=u,m=pA(l),f=n(l,h);if(!h&&Fd){m.visualElement=hA(a,f,u,t);const p=N.useContext(dw),v=N.useContext(lw).strict;m.visualElement&&(c=m.visualElement.loadFeatures(u,v,e,p))}return N.createElement(Id.Provider,{value:m},c&&m.visualElement?N.createElement(c,{visualElement:m.visualElement,...u}):null,r(a,l,mA(f,m.visualElement,d),f,h,m.visualElement))}const o=N.forwardRef(i);return o[gA]=a,o}function vA({layoutId:e}){const t=N.useContext(xp).id;return t&&e!==void 0?t+"-"+e:e}function bA(e){function t(n,a={}){return yA(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const jA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gp(e){return typeof e!="string"||e.includes("-")?!1:!!(jA.indexOf(e)>-1||/[A-Z]/.test(e))}const Rc={};function wA(e){Object.assign(Rc,e)}const Eo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vn=new Set(Eo);function uw(e,{layout:t,layoutId:r}){return Vn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Rc[e]||e==="opacity")}const Kt=e=>!!(e&&e.getVelocity),NA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SA=Eo.length;function kA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let i="";for(let o=0;o<SA;o++){const l=Eo[o];if(e[l]!==void 0){const d=NA[l]||l;i+=`${d}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):r&&n&&(i="none"),i}const hw=e=>t=>typeof t=="string"&&t.startsWith(e),mw=hw("--"),fm=hw("var(--"),CA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,PA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xr=(e,t,r)=>Math.min(Math.max(r,e),t),qn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_i={...qn,transform:e=>Xr(0,1,e)},ll={...qn,default:1},Di=e=>Math.round(e*1e5)/1e5,zd=/(-)?([\d]*\.?[\d])+/g,fw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,AA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function To(e){return typeof e=="string"}const Ro=e=>({test:t=>To(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=Ro("deg"),Ks=Ro("%"),oe=Ro("px"),EA=Ro("vh"),TA=Ro("vw"),rg={...Ks,parse:e=>Ks.parse(e)/100,transform:e=>Ks.transform(e*100)},ng={...qn,transform:Math.round},pw={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:ll,scaleX:ll,scaleY:ll,scaleZ:ll,skew:br,skewX:br,skewY:br,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:_i,originX:rg,originY:rg,originZ:oe,zIndex:ng,fillOpacity:_i,strokeOpacity:_i,numOctaves:ng};function yp(e,t,r,n){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let d=!1,c=!1,u=!0;for(const h in t){const m=t[h];if(mw(h)){i[h]=m;continue}const f=pw[h],p=PA(m,f);if(Vn.has(h)){if(d=!0,o[h]=p,!u)continue;m!==(f.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,l[h]=p):a[h]=p}if(t.transform||(d||n?a.transform=kA(e.transform,r,u,n):a.transform&&(a.transform="none")),c){const{originX:h="50%",originY:m="50%",originZ:f=0}=l;a.transformOrigin=`${h} ${m} ${f}`}}const vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xw(e,t,r){for(const n in t)!Kt(t[n])&&!uw(n,r)&&(e[n]=t[n])}function RA({transformTemplate:e},t,r){return N.useMemo(()=>{const n=vp();return yp(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function OA(e,t,r){const n=e.style||{},a={};return xw(a,n,e),Object.assign(a,RA(e,t,r)),e.transformValues?e.transformValues(a):a}function MA(e,t,r){const n={},a=OA(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const LA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Oc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||LA.has(e)}let gw=e=>!Oc(e);function _A(e){e&&(gw=t=>t.startsWith("on")?!Oc(t):e(t))}try{_A(require("@emotion/is-prop-valid").default)}catch{}function DA(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(gw(a)||r===!0&&Oc(a)||!t&&!Oc(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function ag(e,t,r){return typeof e=="string"?e:oe.transform(t+r*e)}function IA(e,t,r){const n=ag(t,e.x,e.width),a=ag(r,e.y,e.height);return`${n} ${a}`}const $A={offset:"stroke-dashoffset",array:"stroke-dasharray"},FA={offset:"strokeDashoffset",array:"strokeDasharray"};function BA(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?$A:FA;e[i.offset]=oe.transform(-n);const o=oe.transform(t),l=oe.transform(r);e[i.array]=`${o} ${l}`}function bp(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...c},u,h,m){if(yp(e,c,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:v}=e;f.transform&&(v&&(p.transform=f.transform),delete f.transform),v&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=IA(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&BA(f,o,l,d,!1)}const yw=()=>({...vp(),attrs:{}}),jp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UA(e,t,r,n){const a=N.useMemo(()=>{const i=yw();return bp(i,t,{enableHardwareAcceleration:!1},jp(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};xw(i,e.style,e),a.style={...i,...a.style}}return a}function zA(e=!1){return(r,n,a,{latestValues:i},o)=>{const d=(gp(r)?UA:MA)(n,i,o,r),u={...DA(n,typeof r=="string",e),...d,ref:a},{children:h}=n,m=N.useMemo(()=>Kt(h)?h.get():h,[h]);return N.createElement(r,{...u,children:m})}}const wp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function vw(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jw(e,t,r,n){vw(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(bw.has(a)?a:wp(a),t.attrs[a])}function Np(e,t){const{style:r}=e,n={};for(const a in r)(Kt(r[a])||t.style&&Kt(t.style[a])||uw(a,e))&&(n[a]=r[a]);return n}function ww(e,t){const r=Np(e,t);for(const n in e)if(Kt(e[n])||Kt(t[n])){const a=Eo.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function Sp(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function Nw(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mc=e=>Array.isArray(e),VA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qA=e=>Mc(e)?e[e.length-1]||0:e;function Ml(e){const t=Kt(e)?e.get():e;return VA(t)?t.toValue():t}function HA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:WA(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const Sw=e=>(t,r)=>{const n=N.useContext(Id),a=N.useContext($d),i=()=>HA(e,t,n,a);return r?i():Nw(i)};function WA(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=Ml(i[m]);let{initial:o,animate:l}=e;const d=Ud(e),c=cw(e);t&&c&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!Bd(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=Sp(e,f);if(!p)return;const{transitionEnd:v,transition:j,...w}=p;for(const y in w){let b=w[y];if(Array.isArray(b)){const x=u?b.length-1:0;b=b[x]}b!==null&&(a[y]=b)}for(const y in v)a[y]=v[y]}),a}const Xe=e=>e;class ig{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function KA(e){let t=new ig,r=new ig,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(d,c=!1,u=!1)=>{const h=u&&a,m=h?t:r;return c&&o.add(d),m.add(d)&&h&&a&&(n=t.order.length),d},cancel:d=>{r.remove(d),o.delete(d)},process:d=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let c=0;c<n;c++){const u=t.order[c];u(d),o.has(u)&&(l.schedule(u),e())}a=!1,i&&(i=!1,l.process(d))}};return l}const cl=["prepare","read","update","preRender","render","postRender"],QA=40;function GA(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=cl.reduce((h,m)=>(h[m]=KA(()=>r=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(h-a.timestamp,QA),1),a.timestamp=h,a.isProcessing=!0,cl.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},d=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:cl.reduce((h,m)=>{const f=i[m];return h[m]=(p,v=!1,j=!1)=>(r||d(),f.schedule(p,v,j)),h},{}),cancel:h=>cl.forEach(m=>i[m].cancel(h)),state:a,steps:i}}const{schedule:Oe,cancel:xr,state:ct,steps:Fu}=GA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),YA={useVisualState:Sw({scrapeMotionValuesFromProps:ww,createRenderState:yw,onMount:(e,t,{renderState:r,latestValues:n})=>{Oe.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{bp(r,n,{enableHardwareAcceleration:!1},jp(t.tagName),e.transformTemplate),jw(t,r)})}})},JA={useVisualState:Sw({scrapeMotionValuesFromProps:Np,createRenderState:vp})};function XA(e,{forwardMotionProps:t=!1},r,n){return{...gp(e)?YA:JA,preloadedFeatures:r,useRender:zA(t),createVisualElement:n,Component:e}}function ir(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const kw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Vd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ZA=e=>t=>kw(t)&&e(t,Vd(t));function lr(e,t,r,n){return ir(e,t,ZA(r),n)}const eE=(e,t)=>r=>t(e(r)),qr=(...e)=>e.reduce(eE);function Cw(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const og=Cw("dragHorizontal"),lg=Cw("dragVertical");function Pw(e){let t=!1;if(e==="y")t=lg();else if(e==="x")t=og();else{const r=og(),n=lg();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Aw(){const e=Pw(!0);return e?(e(),!1):!0}class an{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cg(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.type==="touch"||Aw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&Oe.update(()=>l[n](i,o))};return lr(e.current,r,a,{passive:!e.getProps()[n]})}class tE extends an{mount(){this.unmount=qr(cg(this.node,!0),cg(this.node,!1))}unmount(){}}class sE extends an{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qr(ir(this.node.current,"focus",()=>this.onFocus()),ir(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ew=(e,t)=>t?e===t?!0:Ew(e,t.parentElement):!1;function Bu(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Vd(r))}class rE extends an{constructor(){super(...arguments),this.removeStartListeners=Xe,this.removeEndListeners=Xe,this.removeAccessibleListeners=Xe,this.startPointerPress=(t,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),i=lr(window,"pointerup",(l,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();Oe.update(()=>{Ew(this.node.current,l.target)?c&&c(l,d):u&&u(l,d)})},{passive:!(n.onTap||n.onPointerUp)}),o=lr(window,"pointercancel",(l,d)=>this.cancelPress(l,d),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=qr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Bu("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&Oe.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=ir(this.node.current,"keyup",o),Bu("down",(l,d)=>{this.startPress(l,d)})},r=ir(this.node.current,"keydown",t),n=()=>{this.isPressing&&Bu("cancel",(i,o)=>this.cancelPress(i,o))},a=ir(this.node.current,"blur",n);this.removeAccessibleListeners=qr(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Oe.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Aw()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Oe.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=lr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ir(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pm=new WeakMap,Uu=new WeakMap,nE=e=>{const t=pm.get(e.target);t&&t(e)},aE=e=>{e.forEach(nE)};function iE({root:e,...t}){const r=e||document;Uu.has(r)||Uu.set(r,{});const n=Uu.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(aE,{root:e,...t})),n[a]}function oE(e,t,r){const n=iE(t);return pm.set(e,r),n.observe(e),()=>{pm.delete(e),n.unobserve(e)}}const lE={some:0,all:1};class cE extends an{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:lE[a]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=c?u:h;m&&m(d)};return oE(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(dE(t,r))&&this.startObserver()}unmount(){}}function dE({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const uE={inView:{Feature:cE},tap:{Feature:rE},focus:{Feature:sE},hover:{Feature:tE}};function Tw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function hE(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function mE(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function qd(e,t,r){const n=e.getProps();return Sp(n,t,r!==void 0?r:n.custom,hE(e),mE(e))}const fE="framerAppearId",pE="data-"+wp(fE);let kp=Xe;const Nn=e=>e*1e3,cr=e=>e/1e3,xE={current:!1},Rw=e=>Array.isArray(e)&&typeof e[0]=="number";function Ow(e){return!!(!e||typeof e=="string"&&Mw[e]||Rw(e)||Array.isArray(e)&&e.every(Ow))}const ji=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ji([0,.65,.55,1]),circOut:ji([.55,0,1,.45]),backIn:ji([.31,.01,.66,-.59]),backOut:ji([.33,1.53,.69,.99])};function Lw(e){if(e)return Rw(e)?ji(e):Array.isArray(e)?e.map(Lw):Mw[e]}function gE(e,t,r,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:d}={}){const c={[t]:r};d&&(c.offset=d);const u=Lw(l);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function yE(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const _w=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vE=1e-7,bE=12;function jE(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=_w(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>vE&&++l<bE);return o}function Oo(e,t,r,n){if(e===t&&r===n)return Xe;const a=i=>jE(i,0,1,e,r);return i=>i===0||i===1?i:_w(a(i),t,n)}const wE=Oo(.42,0,1,1),NE=Oo(0,0,.58,1),Dw=Oo(.42,0,.58,1),SE=e=>Array.isArray(e)&&typeof e[0]!="number",Iw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$w=e=>t=>1-e(1-t),Fw=e=>1-Math.sin(Math.acos(e)),Cp=$w(Fw),kE=Iw(Cp),Bw=Oo(.33,1.53,.69,.99),Pp=$w(Bw),CE=Iw(Pp),PE=e=>(e*=2)<1?.5*Pp(e):.5*(2-Math.pow(2,-10*(e-1))),AE={linear:Xe,easeIn:wE,easeInOut:Dw,easeOut:NE,circIn:Fw,circInOut:kE,circOut:Cp,backIn:Pp,backInOut:CE,backOut:Bw,anticipate:PE},dg=e=>{if(Array.isArray(e)){kp(e.length===4);const[t,r,n,a]=e;return Oo(t,r,n,a)}else if(typeof e=="string")return AE[e];return e},Ap=(e,t)=>r=>!!(To(r)&&AA.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Uw=(e,t,r)=>n=>{if(!To(n))return n;const[a,i,o,l]=n.match(zd);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},EE=e=>Xr(0,255,e),zu={...qn,transform:e=>Math.round(EE(e))},vn={test:Ap("rgb","red"),parse:Uw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+zu.transform(e)+", "+zu.transform(t)+", "+zu.transform(r)+", "+Di(_i.transform(n))+")"};function TE(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const xm={test:Ap("#"),parse:TE,transform:vn.transform},da={test:Ap("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ks.transform(Di(t))+", "+Ks.transform(Di(r))+", "+Di(_i.transform(n))+")"},Et={test:e=>vn.test(e)||xm.test(e)||da.test(e),parse:e=>vn.test(e)?vn.parse(e):da.test(e)?da.parse(e):xm.parse(e),transform:e=>To(e)?e:e.hasOwnProperty("red")?vn.transform(e):da.transform(e)},qe=(e,t,r)=>-r*e+r*t+e;function Vu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function RE({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,d=2*r-l;a=Vu(d,l,e+1/3),i=Vu(d,l,e),o=Vu(d,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const qu=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},OE=[xm,vn,da],ME=e=>OE.find(t=>t.test(e));function ug(e){const t=ME(e);let r=t.parse(e);return t===da&&(r=RE(r)),r}const zw=(e,t)=>{const r=ug(e),n=ug(t),a={...r};return i=>(a.red=qu(r.red,n.red,i),a.green=qu(r.green,n.green,i),a.blue=qu(r.blue,n.blue,i),a.alpha=qe(r.alpha,n.alpha,i),vn.transform(a))};function LE(e){var t,r;return isNaN(e)&&To(e)&&(((t=e.match(zd))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(fw))===null||r===void 0?void 0:r.length)||0)>0}const Vw={regex:CA,countKey:"Vars",token:"${v}",parse:Xe},qw={regex:fw,countKey:"Colors",token:"${c}",parse:Et.parse},Hw={regex:zd,countKey:"Numbers",token:"${n}",parse:qn.parse};function Hu(e,{regex:t,countKey:r,token:n,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(a)))}function Lc(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Hu(r,Vw),Hu(r,qw),Hu(r,Hw),r}function Ww(e){return Lc(e).values}function Kw(e){const{values:t,numColors:r,numVars:n,tokenised:a}=Lc(e),i=t.length;return o=>{let l=a;for(let d=0;d<i;d++)d<n?l=l.replace(Vw.token,o[d]):d<n+r?l=l.replace(qw.token,Et.transform(o[d])):l=l.replace(Hw.token,Di(o[d]));return l}}const _E=e=>typeof e=="number"?0:e;function DE(e){const t=Ww(e);return Kw(e)(t.map(_E))}const Zr={test:LE,parse:Ww,createTransformer:Kw,getAnimatableNone:DE},Qw=(e,t)=>r=>`${r>0?t:e}`;function Gw(e,t){return typeof e=="number"?r=>qe(e,t,r):Et.test(e)?zw(e,t):e.startsWith("var(")?Qw(e,t):Jw(e,t)}const Yw=(e,t)=>{const r=[...e],n=r.length,a=e.map((i,o)=>Gw(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}},IE=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Gw(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},Jw=(e,t)=>{const r=Zr.createTransformer(t),n=Lc(e),a=Lc(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?qr(Yw(n.values,a.values),r):Qw(e,t)},go=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},hg=(e,t)=>r=>qe(e,t,r);function $E(e){return typeof e=="number"?hg:typeof e=="string"?Et.test(e)?zw:Jw:Array.isArray(e)?Yw:typeof e=="object"?IE:hg}function FE(e,t,r){const n=[],a=r||$E(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Xe:t;l=qr(d,l)}n.push(l)}return n}function Xw(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(kp(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=FE(t,n,a),l=o.length,d=c=>{let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const h=go(e[u],e[u+1],c);return o[u](h)};return r?c=>d(Xr(e[0],e[i-1],c)):d}function BE(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=go(0,t,n);e.push(qe(r,1,a))}}function UE(e){const t=[0];return BE(t,e.length-1),t}function zE(e,t){return e.map(r=>r*t)}function VE(e,t){return e.map(()=>t||Dw).splice(0,e.length-1)}function _c({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=SE(n)?n.map(dg):dg(n),i={done:!1,value:t[0]},o=zE(r&&r.length===t.length?r:UE(t),e),l=Xw(o,t,{ease:Array.isArray(a)?a:VE(t,a)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}function Zw(e,t){return t?e*(1e3/t):0}const qE=5;function e1(e,t,r){const n=Math.max(t-qE,0);return Zw(r-e(n),t-n)}const Wu=.001,HE=.01,WE=10,KE=.05,QE=1;function GE({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,i,o=1-t;o=Xr(KE,QE,o),e=Xr(HE,WE,cr(e)),o<1?(a=c=>{const u=c*o,h=u*e,m=u-r,f=gm(c,o),p=Math.exp(-h);return Wu-m/f*p},i=c=>{const h=c*o*e,m=h*r+r,f=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-h),v=gm(Math.pow(c,2),o);return(-a(c)+Wu>0?-1:1)*((m-f)*p)/v}):(a=c=>{const u=Math.exp(-c*e),h=(c-r)*e+1;return-Wu+u*h},i=c=>{const u=Math.exp(-c*e),h=(r-c)*(e*e);return u*h});const l=5/e,d=JE(a,i,l);if(e=Nn(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const YE=12;function JE(e,t,r){let n=r;for(let a=1;a<YE;a++)n=n-e(n)/t(n);return n}function gm(e,t){return e*Math.sqrt(1-t*t)}const XE=["duration","bounce"],ZE=["stiffness","damping","mass"];function mg(e,t){return t.some(r=>e[r]!==void 0)}function eT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mg(e,ZE)&&mg(e,XE)){const r=GE(e);t={...t,...r,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function t1({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:d,mass:c,velocity:u,duration:h,isResolvedFromDuration:m}=eT(n),f=u?-cr(u):0,p=d/(2*Math.sqrt(l*c)),v=i-a,j=cr(Math.sqrt(l/c)),w=Math.abs(v)<5;r||(r=w?.01:2),t||(t=w?.005:.5);let y;if(p<1){const b=gm(j,p);y=x=>{const g=Math.exp(-p*j*x);return i-g*((f+p*j*v)/b*Math.sin(b*x)+v*Math.cos(b*x))}}else if(p===1)y=b=>i-Math.exp(-j*b)*(v+(f+j*v)*b);else{const b=j*Math.sqrt(p*p-1);y=x=>{const g=Math.exp(-p*j*x),S=Math.min(b*x,300);return i-g*((f+p*j*v)*Math.sinh(S)+b*v*Math.cosh(S))/b}}return{calculatedDuration:m&&h||null,next:b=>{const x=y(b);if(m)o.done=b>=h;else{let g=f;b!==0&&(p<1?g=e1(y,b,x):g=0);const S=Math.abs(g)<=r,P=Math.abs(i-x)<=t;o.done=S&&P}return o.value=o.done?i:x,o}}}function fg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:c=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=k=>l!==void 0&&k<l||d!==void 0&&k>d,p=k=>l===void 0?d:d===void 0||Math.abs(l-k)<Math.abs(d-k)?l:d;let v=r*t;const j=h+v,w=o===void 0?j:o(j);w!==j&&(v=w-h);const y=k=>-v*Math.exp(-k/n),b=k=>w+y(k),x=k=>{const E=y(k),A=b(k);m.done=Math.abs(E)<=c,m.value=m.done?w:A};let g,S;const P=k=>{f(m.value)&&(g=k,S=t1({keyframes:[m.value,p(m.value)],velocity:e1(b,k,m.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let E=!1;return!S&&g===void 0&&(E=!0,x(k),P(k)),g!==void 0&&k>g?S.next(k-g):(!E&&x(k),m)}}}const tT=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Oe.update(t,!0),stop:()=>xr(t),now:()=>ct.isProcessing?ct.timestamp:performance.now()}},pg=2e4;function xg(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<pg;)t+=r,n=e.next(t);return t>=pg?1/0:t}const sT={decay:fg,inertia:fg,tween:_c,keyframes:_c,spring:t1};function Dc({autoplay:e=!0,delay:t=0,driver:r=tT,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:h,...m}){let f=1,p=!1,v,j;const w=()=>{j=new Promise(q=>{v=q})};w();let y;const b=sT[a]||_c;let x;b!==_c&&typeof n[0]!="number"&&(x=Xw([0,100],n,{clamp:!1}),n=[0,100]);const g=b({...m,keyframes:n});let S;l==="mirror"&&(S=b({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let P="idle",k=null,E=null,A=null;g.calculatedDuration===null&&i&&(g.calculatedDuration=xg(g));const{calculatedDuration:T}=g;let M=1/0,C=1/0;T!==null&&(M=T+o,C=M*(i+1)-o);let R=0;const O=q=>{if(E===null)return;f>0&&(E=Math.min(E,q)),f<0&&(E=Math.min(q-C/f,E)),k!==null?R=k:R=Math.round(q-E)*f;const H=R-t*(f>=0?1:-1),X=f>=0?H<0:H>C;R=Math.max(H,0),P==="finished"&&k===null&&(R=C);let se=R,_=g;if(i){const J=R/M;let xe=Math.floor(J),he=J%1;!he&&J>=1&&(he=1),he===1&&xe--,xe=Math.min(xe,i+1);const we=!!(xe%2);we&&(l==="reverse"?(he=1-he,o&&(he-=o/M)):l==="mirror"&&(_=S));let et=Xr(0,1,he);R>C&&(et=l==="reverse"&&we?1:0),se=et*M}const V=X?{done:!1,value:n[0]}:_.next(se);x&&(V.value=x(V.value));let{done:Q}=V;!X&&T!==null&&(Q=f>=0?R>=C:R<=0);const ae=k===null&&(P==="finished"||P==="running"&&Q);return h&&h(V.value),ae&&$(),V},I=()=>{y&&y.stop(),y=void 0},F=()=>{P="idle",I(),v(),w(),E=A=null},$=()=>{P="finished",u&&u(),I(),v()},L=()=>{if(p)return;y||(y=r(O));const q=y.now();d&&d(),k!==null?E=q-k:(!E||P==="finished")&&(E=q),P==="finished"&&w(),A=E,k=null,P="running",y.start()};e&&L();const B={then(q,H){return j.then(q,H)},get time(){return cr(R)},set time(q){q=Nn(q),R=q,k!==null||!y||f===0?k=q:E=y.now()-q/f},get duration(){const q=g.calculatedDuration===null?xg(g):g.calculatedDuration;return cr(q)},get speed(){return f},set speed(q){q===f||!y||(f=q,B.time=cr(R))},get state(){return P},play:L,pause:()=>{P="paused",k=R},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),F())},cancel:()=>{A!==null&&O(A),F()},complete:()=>{P="finished"},sample:q=>(E=0,O(q))};return B}function rT(e){let t;return()=>(t===void 0&&(t=e()),t)}const nT=rT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dl=10,iT=2e4,oT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Ow(t.ease);function lT(e,t,{onUpdate:r,onComplete:n,...a}){if(!(nT()&&aT.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,d;const c=()=>{d=new Promise(y=>{l=y})};c();let{keyframes:u,duration:h=300,ease:m,times:f}=a;if(oT(t,a)){const y=Dc({...a,repeat:0,delay:0});let b={done:!1,value:u[0]};const x=[];let g=0;for(;!b.done&&g<iT;)b=y.sample(g),x.push(b.value),g+=dl;f=void 0,u=x,h=g-dl,m="linear"}const p=gE(e.owner.current,t,u,{...a,duration:h,ease:m,times:f});a.syncStart&&(p.startTime=ct.isProcessing?ct.timestamp:document.timeline?document.timeline.currentTime:performance.now());const v=()=>p.cancel(),j=()=>{Oe.update(v),l(),c()};return p.onfinish=()=>{e.set(yE(u,a)),n&&n(),j()},{then(y,b){return d.then(y,b)},attachTimeline(y){return p.timeline=y,p.onfinish=null,Xe},get time(){return cr(p.currentTime||0)},set time(y){p.currentTime=Nn(y)},get speed(){return p.playbackRate},set speed(y){p.playbackRate=y},get duration(){return cr(h)},play:()=>{o||(p.play(),xr(v))},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:y}=p;if(y){const b=Dc({...a,autoplay:!1});e.setWithVelocity(b.sample(y-dl).value,b.sample(y).value,dl)}j()},complete:()=>p.finish(),cancel:j}}function cT({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Xe,pause:Xe,stop:Xe,then:i=>(i(),Promise.resolve()),cancel:Xe,complete:Xe});return t?Dc({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const dT={type:"spring",stiffness:500,damping:25,restSpeed:10},uT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hT={type:"keyframes",duration:.8},mT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fT=(e,{keyframes:t})=>t.length>2?hT:Vn.has(e)?e.startsWith("scale")?uT(t[1]):dT:mT,ym=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url(")),pT=new Set(["brightness","contrast","saturate","opacity"]);function xT(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(zd)||[];if(!n)return e;const a=r.replace(n,"");let i=pT.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const gT=/([a-z-]*)\(.*?\)/g,vm={...Zr,getAnimatableNone:e=>{const t=e.match(gT);return t?t.map(xT).join(" "):e}},yT={...pw,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:vm,WebkitFilter:vm},Ep=e=>yT[e];function s1(e,t){let r=Ep(e);return r!==vm&&(r=Zr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const r1=e=>/^0[^.\s]+$/.test(e);function vT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||r1(e)}function bT(e,t,r,n){const a=ym(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),vT(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(l=i[c]);if(a&&d.length&&l)for(let c=0;c<d.length;c++){const u=d[c];i[u]=s1(t,l)}return i}function jT({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function n1(e,t){return e[t]||e.default||e}const Tp=(e,t,r,n={})=>a=>{const i=n1(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Nn(o);const d=bT(t,e,r,i),c=d[0],u=d[d.length-1],h=ym(e,c),m=ym(e,u);let f={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:p=>{t.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(jT(i)||(f={...f,...fT(e,f)}),f.duration&&(f.duration=Nn(f.duration)),f.repeatDelay&&(f.repeatDelay=Nn(f.repeatDelay)),!h||!m||xE.current||i.type===!1)return cT(f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=lT(t,e,f);if(p)return p}return Dc(f)};function Ic(e){return!!(Kt(e)&&e.add)}const a1=e=>/^\-?\d*\.?\d+$/.test(e);function Rp(e,t){e.indexOf(t)===-1&&e.push(t)}function Op(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Mp{constructor(){this.subscriptions=[]}add(t){return Rp(this.subscriptions,t),()=>Op(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wT=e=>!isNaN(parseFloat(e));class NT{constructor(t,r={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=ct;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=wT(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Mp);const n=this.events[t].add(r);return t==="change"?()=>{n(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Zw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new NT(e,t)}const i1=e=>t=>t.test(e),ST={test:e=>e==="auto",parse:e=>e},o1=[qn,oe,Ks,br,TA,EA,ST],ci=e=>o1.find(i1(e)),kT=[...o1,Et,Zr],CT=e=>kT.find(i1(e));function PT(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ia(r))}function AT(e,t){const r=qd(e,t);let{transitionEnd:n={},transition:a={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=qA(i[o]);PT(e,o,l)}}function ET(e,t,r){var n,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const d=i[l],c=t[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(a=(n=r[d])!==null&&n!==void 0?n:e.readValue(d))!==null&&a!==void 0?a:t[d]),u!=null&&(typeof u=="string"&&(a1(u)||r1(u))?u=parseFloat(u):!CT(u)&&Zr.test(c)&&(u=s1(d,c)),e.addValue(d,Ia(u,{owner:e})),r[d]===void 0&&(r[d]=u),u!==null&&e.setBaseTarget(d,u))}}function TT(e,t){return t?(t[e]||t.default||t).from:void 0}function RT(e,t,r){const n={};for(const a in e){const i=TT(a,t);if(i!==void 0)n[a]=i;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function OT({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function l1(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const m=e.getValue(h),f=l[h];if(!m||f===void 0||u&&OT(u,h))continue;const p={delay:r,elapsed:0,...i};if(window.HandoffAppearAnimations&&!m.hasAnimated){const j=e.getProps()[pE];j&&(p.elapsed=window.HandoffAppearAnimations(j,h,m,Oe),p.syncStart=!0)}m.start(Tp(h,m,f,e.shouldReduceMotion&&Vn.has(h)?{type:!1}:p));const v=m.animation;Ic(d)&&(d.add(h),v.then(()=>d.remove(h))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&AT(e,o)}),c}function bm(e,t,r={}){const n=qd(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(l1(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=a;return MT(e,t,c+d,u,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,c]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>c())}else return Promise.all([i(),o(r.delay)])}function MT(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,d=a===1?(c=0)=>c*n:(c=0)=>l-c*n;return Array.from(e.variantChildren).sort(LT).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(bm(c,t,{...i,delay:r+d(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function LT(e,t){return e.sortNodePosition(t)}function _T(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>bm(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=bm(e,t,r);else{const a=typeof t=="function"?qd(e,t,r.custom):t;n=Promise.all(l1(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const DT=[...fp].reverse(),IT=fp.length;function $T(e){return t=>Promise.all(t.map(({animation:r,options:n})=>_T(e,r,n)))}function FT(e){let t=$T(e);const r=UT();let n=!0;const a=(d,c)=>{const u=qd(e,c);if(u){const{transition:h,transitionEnd:m,...f}=u;d={...d,...f,...m}}return d};function i(d){t=d(e)}function o(d,c){const u=e.getProps(),h=e.getVariantContext(!0)||{},m=[],f=new Set;let p={},v=1/0;for(let w=0;w<IT;w++){const y=DT[w],b=r[y],x=u[y]!==void 0?u[y]:h[y],g=po(x),S=y===c?b.isActive:null;S===!1&&(v=w);let P=x===h[y]&&x!==u[y]&&g;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),b.protectedKeys={...p},!b.isActive&&S===null||!x&&!b.prevProp||Bd(x)||typeof x=="boolean")continue;const k=BT(b.prevProp,x);let E=k||y===c&&b.isActive&&!P&&g||w>v&&g;const A=Array.isArray(x)?x:[x];let T=A.reduce(a,{});S===!1&&(T={});const{prevResolvedValues:M={}}=b,C={...M,...T},R=O=>{E=!0,f.delete(O),b.needsAnimating[O]=!0};for(const O in C){const I=T[O],F=M[O];p.hasOwnProperty(O)||(I!==F?Mc(I)&&Mc(F)?!Tw(I,F)||k?R(O):b.protectedKeys[O]=!0:I!==void 0?R(O):f.add(O):I!==void 0&&f.has(O)?R(O):b.protectedKeys[O]=!0)}b.prevProp=x,b.prevResolvedValues=T,b.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(E=!1),E&&!P&&m.push(...A.map(O=>({animation:O,options:{type:y,...d}})))}if(f.size){const w={};f.forEach(y=>{const b=e.getBaseTarget(y);b!==void 0&&(w[y]=b)}),m.push({animation:w})}let j=!!m.length;return n&&u.initial===!1&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(m):Promise.resolve()}function l(d,c,u){var h;if(r[d].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(d,c)}),r[d].isActive=c;const m=o(u,d);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function BT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Tw(t,e):!1}function on(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UT(){return{animate:on(!0),whileInView:on(),whileHover:on(),whileTap:on(),whileDrag:on(),whileFocus:on(),exit:on()}}class zT extends an{constructor(t){super(t),t.animationState||(t.animationState=FT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Bd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let VT=0;class qT extends an{constructor(){super(...arguments),this.id=VT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const HT={animation:{Feature:zT},exit:{Feature:qT}},gg=(e,t)=>Math.abs(e-t);function WT(e,t){const r=gg(e.x,t.x),n=gg(e.y,t.y);return Math.sqrt(r**2+n**2)}class c1{constructor(t,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Qu(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=WT(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:m}=c,{timestamp:f}=ct;this.history.push({...m,timestamp:f});const{onStart:p,onMove:v}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Ku(u,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:m}=this.handlers,f=Qu(c.type==="pointercancel"?this.lastMoveEventInfo:Ku(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,f),m&&m(c,f)},!kw(t))return;this.handlers=r,this.transformPagePoint=n;const a=Vd(t),i=Ku(a,this.transformPagePoint),{point:o}=i,{timestamp:l}=ct;this.history=[{...o,timestamp:l}];const{onSessionStart:d}=r;d&&d(t,Qu(i,this.history)),this.removeListeners=qr(lr(window,"pointermove",this.handlePointerMove),lr(window,"pointerup",this.handlePointerUp),lr(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function Ku(e,t){return t?{point:t(e.point)}:e}function yg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qu({point:e},t){return{point:e,delta:yg(e,d1(t)),offset:yg(e,KT(t)),velocity:QT(t,.1)}}function KT(e){return e[0]}function d1(e){return e[e.length-1]}function QT(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=d1(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Nn(t)));)r--;if(!n)return{x:0,y:0};const i=cr(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rs(e){return e.max-e.min}function jm(e,t=0,r=.01){return Math.abs(e-t)<=r}function vg(e,t,r,n=.5){e.origin=n,e.originPoint=qe(t.min,t.max,e.origin),e.scale=rs(r)/rs(t),(jm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qe(r.min,r.max,e.origin)-e.originPoint,(jm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ii(e,t,r,n){vg(e.x,t.x,r.x,n?n.originX:void 0),vg(e.y,t.y,r.y,n?n.originY:void 0)}function bg(e,t,r){e.min=r.min+t.min,e.max=e.min+rs(t)}function GT(e,t,r){bg(e.x,t.x,r.x),bg(e.y,t.y,r.y)}function jg(e,t,r){e.min=t.min-r.min,e.max=e.min+rs(t)}function $i(e,t,r){jg(e.x,t.x,r.x),jg(e.y,t.y,r.y)}function YT(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?qe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?qe(r,e,n.max):Math.min(e,r)),e}function wg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function JT(e,{top:t,left:r,bottom:n,right:a}){return{x:wg(e.x,r,a),y:wg(e.y,t,n)}}function Ng(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function XT(e,t){return{x:Ng(e.x,t.x),y:Ng(e.y,t.y)}}function ZT(e,t){let r=.5;const n=rs(e),a=rs(t);return a>n?r=go(t.min,t.max-n,e.min):n>a&&(r=go(e.min,e.max-a,t.min)),Xr(0,1,r)}function e9(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const wm=.35;function t9(e=wm){return e===!1?e=0:e===!0&&(e=wm),{x:Sg(e,"left","right"),y:Sg(e,"top","bottom")}}function Sg(e,t,r){return{min:kg(e,t),max:kg(e,r)}}function kg(e,t){return typeof e=="number"?e:e[t]||0}const Cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ua=()=>({x:Cg(),y:Cg()}),Pg=()=>({min:0,max:0}),tt=()=>({x:Pg(),y:Pg()});function Fs(e){return[e("x"),e("y")]}function u1({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function s9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function r9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Gu(e){return e===void 0||e===1}function Nm({scale:e,scaleX:t,scaleY:r}){return!Gu(e)||!Gu(t)||!Gu(r)}function hn(e){return Nm(e)||h1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function h1(e){return Ag(e.x)||Ag(e.y)}function Ag(e){return e&&e!=="0%"}function $c(e,t,r){const n=e-r,a=t*n;return r+a}function Eg(e,t,r,n,a){return a!==void 0&&(e=$c(e,a,n)),$c(e,r,n)+t}function Sm(e,t=0,r=1,n,a){e.min=Eg(e.min,t,r,n,a),e.max=Eg(e.max,t,r,n,a)}function m1(e,{x:t,y:r}){Sm(e.x,t.translate,t.scale,t.originPoint),Sm(e.y,r.translate,r.scale,r.originPoint)}function n9(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ha(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,m1(e,o)),n&&hn(i.latestValues)&&ha(e,i.latestValues))}t.x=Tg(t.x),t.y=Tg(t.y)}function Tg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Nr(e,t){e.min=e.min+t,e.max=e.max+t}function Rg(e,t,[r,n,a]){const i=t[a]!==void 0?t[a]:.5,o=qe(e.min,e.max,i);Sm(e,t[r],t[n],o,t.scale)}const a9=["x","scaleX","originX"],i9=["y","scaleY","originY"];function ha(e,t){Rg(e.x,t,a9),Rg(e.y,t,i9)}function f1(e,t){return u1(r9(e.getBoundingClientRect(),t))}function o9(e,t,r){const n=f1(e,r),{scroll:a}=t;return a&&(Nr(n.x,a.offset.x),Nr(n.y,a.offset.y)),n}const l9=new WeakMap;class c9{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{this.stopAnimation(),r&&this.snapToCursor(Vd(d,"page").point)},i=(d,c)=>{const{drag:u,dragPropagation:h,onDragStart:m}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pw(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fs(p=>{let v=this.getAxisMotionValue(p).get()||0;if(Ks.test(v)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[p];w&&(v=rs(w)*(parseFloat(v)/100))}}this.originPoint[p]=v}),m&&Oe.update(()=>m(d,c),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(d,c)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:m,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:p}=c;if(h&&this.currentDirection===null){this.currentDirection=d9(p),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",c.point,p),this.updateAxis("y",c.point,p),this.visualElement.render(),f&&f(d,c)},l=(d,c)=>this.stop(d,c);this.panSession=new c1(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Oe.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ul(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=YT(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},a=this.constraints;t&&ca(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=JT(n.layoutBox,t):this.constraints=!1,this.elastic=t9(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Fs(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=e9(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ca(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=o9(n,a.root,this.visualElement.getTransformPagePoint());let o=XT(a.layout.layoutBox,i);if(r){const l=r(s9(o));this.hasMutatedConstraints=!!l,l&&(o=u1(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=Fs(u=>{if(!ul(u,r,this.currentDirection))return;let h=d&&d[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,p={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Tp(t,n,0,r))}stopAnimation(){Fs(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fs(r=>{const{drag:n}=this.getProps();if(!ul(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-qe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ca(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fs(o=>{const l=this.getAxisMotionValue(o);if(l){const d=l.get();a[o]=ZT({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fs(o=>{if(!ul(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:c}=this.constraints[o];l.set(qe(d,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;l9.set(this.visualElement,this);const t=this.visualElement.current,r=lr(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();ca(d)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=ir(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fs(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=d[u].translate,h.set(h.get()+d[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=wm,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ul(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function d9(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class u9 extends an{constructor(t){super(t),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new c9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Og=e=>(t,r)=>{e&&Oe.update(()=>e(t,r))};class h9 extends an{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(t){this.session=new c1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Og(t),onStart:Og(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Oe.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=lr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function m9(){const e=N.useContext($d);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=N.useId();return N.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const di={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const r=Mg(e,t.target.x),n=Mg(e,t.target.y);return`${r}% ${n}%`}},f9={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Zr.parse(e);if(a.length>5)return n;const i=Zr.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,d=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=d;const c=qe(l,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class p9 extends ke.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;wA(x9),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function p1(e){const[t,r]=m9(),n=N.useContext(xp);return ke.createElement(p9,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(dw),isPresent:t,safeToRemove:r})}const x9={borderRadius:{...di,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:di,borderTopRightRadius:di,borderBottomLeftRadius:di,borderBottomRightRadius:di,boxShadow:f9},x1=["TopLeft","TopRight","BottomLeft","BottomRight"],g9=x1.length,Lg=e=>typeof e=="string"?parseFloat(e):e,_g=e=>typeof e=="number"||oe.test(e);function y9(e,t,r,n,a,i){a?(e.opacity=qe(0,r.opacity!==void 0?r.opacity:1,v9(n)),e.opacityExit=qe(t.opacity!==void 0?t.opacity:1,0,b9(n))):i&&(e.opacity=qe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<g9;o++){const l=`border${x1[o]}Radius`;let d=Dg(t,l),c=Dg(r,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||_g(d)===_g(c)?(e[l]=Math.max(qe(Lg(d),Lg(c),n),0),(Ks.test(c)||Ks.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||r.rotate)&&(e.rotate=qe(t.rotate||0,r.rotate||0,n))}function Dg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const v9=g1(0,.5,Cp),b9=g1(.5,.95,Xe);function g1(e,t,r){return n=>n<e?0:n>t?1:r(go(e,t,n))}function Ig(e,t){e.min=t.min,e.max=t.max}function os(e,t){Ig(e.x,t.x),Ig(e.y,t.y)}function $g(e,t,r,n,a){return e-=t,e=$c(e,1/r,n),a!==void 0&&(e=$c(e,1/a,n)),e}function j9(e,t=0,r=1,n=.5,a,i=e,o=e){if(Ks.test(t)&&(t=parseFloat(t),t=qe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=qe(i.min,i.max,n);e===i&&(l-=t),e.min=$g(e.min,t,r,l,a),e.max=$g(e.max,t,r,l,a)}function Fg(e,t,[r,n,a],i,o){j9(e,t[r],t[n],t[a],t.scale,i,o)}const w9=["x","scaleX","originX"],N9=["y","scaleY","originY"];function Bg(e,t,r,n){Fg(e.x,t,w9,r?r.x:void 0,n?n.x:void 0),Fg(e.y,t,N9,r?r.y:void 0,n?n.y:void 0)}function Ug(e){return e.translate===0&&e.scale===1}function y1(e){return Ug(e.x)&&Ug(e.y)}function S9(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function v1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zg(e){return rs(e.x)/rs(e.y)}class k9{constructor(){this.members=[]}add(t){Rp(this.members,t),t.scheduleRender()}remove(t){if(Op(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vg(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:d,rotateX:c,rotateY:u}=r;d&&(n+=`rotate(${d}deg) `),c&&(n+=`rotateX(${c}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const C9=(e,t)=>e.depth-t.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(t){Rp(this.children,t),this.isDirty=!0}remove(t){Op(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(C9),this.isDirty=!1,this.children.forEach(t)}}function A9(e,t){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(xr(n),e(i-t))};return Oe.read(n,!0),()=>xr(n)}function E9(e){window.MotionDebug&&window.MotionDebug.record(e)}function T9(e){return e instanceof SVGElement&&e.tagName!=="svg"}function R9(e,t,r){const n=Kt(e)?e:Ia(e);return n.start(Tp("",n,t,r)),n.animation}const qg=["","X","Y","Z"],Hg=1e3;let O9=0;const mn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function b1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=O9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{mn.totalNodes=mn.resolvedTargetDeltas=mn.recalculatedProjection=0,this.nodes.forEach(_9),this.nodes.forEach(B9),this.nodes.forEach(U9),this.nodes.forEach(D9),E9(mn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Mp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=T9(o),this.instance=o;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||d)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=A9(m,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Kg))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||W9,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=u.getProps(),y=!this.targetLayout||!v1(this.targetLayout,p)||f,b=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const x={...n1(v,"layout"),onPlay:j,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else m||Kg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wg);return}this.isUpdating||this.nodes.forEach($9),this.isUpdating=!1,this.nodes.forEach(F9),this.nodes.forEach(M9),this.nodes.forEach(L9),this.clearAllSnapshots();const l=performance.now();ct.delta=Xr(0,1e3/60,l-ct.timestamp),ct.timestamp=l,ct.isProcessing=!0,Fu.update.process(ct),Fu.preRender.process(ct),Fu.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(I9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){Oe.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!y1(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(l||hn(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),K9(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return tt();const l=o.measureViewportBox(),{scroll:d}=this.root;return d&&(Nr(l.x,d.offset.x),Nr(l.y,d.offset.y)),l}removeElementScroll(o){const l=tt();os(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){os(l,o);const{scroll:m}=this.root;m&&(Nr(l.x,-m.offset.x),Nr(l.y,-m.offset.y))}Nr(l.x,u.offset.x),Nr(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const d=tt();os(d,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ha(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hn(u.latestValues)&&ha(d,u.latestValues)}return hn(this.latestValues)&&ha(d,this.latestValues),d}removeTransform(o){const l=tt();os(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!hn(c.latestValues))continue;Nm(c.latestValues)&&c.updateSnapshot();const u=tt(),h=c.measurePageBox();os(u,h),Bg(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hn(this.latestValues)&&Bg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),$i(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),m1(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),$i(this.relativeTargetOrigin,this.target,f.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||h1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;os(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;n9(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=ua(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ua(),this.projectionDeltaWithTransform=ua());const v=this.projectionTransform;Ii(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Vg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),mn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},h=ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=tt(),f=d?d.source:void 0,p=this.layout?this.layout.source:void 0,v=f!==p,j=this.getStack(),w=!j||j.members.length<=1,y=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(H9));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const g=x/1e3;Qg(h.x,o.x,g),Qg(h.y,o.y,g),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($i(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q9(this.relativeTarget,this.relativeTargetOrigin,m,g),b&&S9(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=tt()),os(b,this.relativeTarget)),v&&(this.animationValues=u,y9(u,c,this.latestValues,g,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=g},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Ll.hasAnimatedSinceResize=!0,this.currentAnimation=R9(0,Hg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=o;if(!(!l||!d||!c)){if(this!==o&&this.layout&&c&&j1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||tt();const h=rs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+h;const m=rs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+m}os(l,d),ha(l,u),Ii(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k9),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(l=!0),!l)return;const c={};for(let u=0;u<qg.length;u++){const h="rotate"+qg[u];d[h]&&(c[h]=d[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var l,d;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ml(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ml(o.pointerEvents)||""),this.hasProjected&&!hn(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Vg(this.projectionDeltaWithTransform,this.treeScale,m),u&&(c.transform=u(m,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?c.opacity=h===this?(d=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Rc){if(m[v]===void 0)continue;const{correct:j,applyTo:w}=Rc[v],y=c.transform==="none"?m[v]:j(m[v],h);if(w){const b=w.length;for(let x=0;x<b;x++)c[w[x]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?Ml(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Wg),this.root.sharedNodes.clear()}}}function M9(e){e.updateLayout()}function L9(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Fs(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=rs(m);m.min=n[h].min,m.max=m.min+f}):j1(i,r.layoutBox,n)&&Fs(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=rs(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=ua();Ii(l,n,r.layoutBox);const d=ua();o?Ii(d,e.applyTransform(a,!0),r.measuredBox):Ii(d,n,r.layoutBox);const c=!y1(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const p=tt();$i(p,r.layoutBox,m.layoutBox);const v=tt();$i(v,n,f.layoutBox),v1(p,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _9(e){mn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function D9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function I9(e){e.clearSnapshot()}function Wg(e){e.clearMeasurements()}function $9(e){e.isLayoutDirty=!1}function F9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function B9(e){e.resolveTargetDelta()}function U9(e){e.calcProjection()}function z9(e){e.resetRotation()}function V9(e){e.removeLeadSnapshot()}function Qg(e,t,r){e.translate=qe(t.translate,0,r),e.scale=qe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Gg(e,t,r,n){e.min=qe(t.min,r.min,n),e.max=qe(t.max,r.max,n)}function q9(e,t,r,n){Gg(e.x,t.x,r.x,n),Gg(e.y,t.y,r.y,n)}function H9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W9={duration:.45,ease:[.4,0,.1,1]},Yg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Jg=Yg("applewebkit/")&&!Yg("chrome/")?Math.round:Xe;function Xg(e){e.min=Jg(e.min),e.max=Jg(e.max)}function K9(e){Xg(e.x),Xg(e.y)}function j1(e,t,r){return e==="position"||e==="preserve-aspect"&&!jm(zg(t),zg(r),.2)}const Q9=b1({attachResizeListener:(e,t)=>ir(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yu={current:void 0},w1=b1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yu.current){const e=new Q9({});e.mount(window),e.setOptions({layoutScroll:!0}),Yu.current=e}return Yu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G9={pan:{Feature:h9},drag:{Feature:u9,ProjectionNode:w1,MeasureLayout:p1}},Y9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function J9(e){const t=Y9.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function km(e,t,r=1){const[n,a]=J9(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return a1(o)?parseFloat(o):o}else return fm(a)?km(a,t,r+1):a}function X9(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const i=a.get();if(!fm(i))return;const o=km(i,n);o&&a.set(o)});for(const a in t){const i=t[a];if(!fm(i))continue;const o=km(i,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const Z9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N1=e=>Z9.has(e),eR=e=>Object.keys(e).some(N1),Zg=e=>e===qn||e===oe,ey=(e,t)=>parseFloat(e.split(", ")[t]),ty=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return ey(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?ey(i[1],e):0}},tR=new Set(["x","y","z"]),sR=Eo.filter(e=>!tR.has(e));function rR(e){const t=[];return sR.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const $a={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ty(4,13),y:ty(5,14)};$a.translateX=$a.x;$a.translateY=$a.y;const nR=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(c=>{l[c]=$a[c](n,i)}),t.render();const d=t.measureViewportBox();return r.forEach(c=>{const u=t.getValue(c);u&&u.jump(l[c]),e[c]=$a[c](d,i)}),e},aR=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(N1);let i=[],o=!1;const l=[];if(a.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=r[d],h=ci(u);const m=t[d];let f;if(Mc(m)){const p=m.length,v=m[0]===null?1:0;u=m[v],h=ci(u);for(let j=v;j<p&&m[j]!==null;j++)f?kp(ci(m[j])===f):f=ci(m[j])}else f=ci(m);if(h!==f)if(Zg(h)&&Zg(f)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof m=="string"?t[d]=parseFloat(m):Array.isArray(m)&&f===oe&&(t[d]=m.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(u===0||m===0)?u===0?c.set(f.transform(u)):t[d]=h.transform(m):(o||(i=rR(e),o=!0),l.push(d),n[d]=n[d]!==void 0?n[d]:t[d],c.jump(m))}),l.length){const d=l.indexOf("height")>=0?window.pageYOffset:null,c=nR(t,e,l);return i.length&&i.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),Fd&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:n}}else return{target:t,transitionEnd:n}};function iR(e,t,r,n){return eR(t)?aR(e,t,r,n):{target:t,transitionEnd:n}}const oR=(e,t,r,n)=>{const a=X9(e,t,n);return t=a.target,n=a.transitionEnd,iR(e,t,r,n)},Cm={current:null},S1={current:!1};function lR(){if(S1.current=!0,!!Fd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cm.current=e.matches;e.addListener(t),t()}else Cm.current=!1}function cR(e,t,r){const{willChange:n}=t;for(const a in t){const i=t[a],o=r[a];if(Kt(i))e.addValue(a,i),Ic(n)&&n.add(a);else if(Kt(o))e.addValue(a,Ia(i,{owner:e})),Ic(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,Ia(l!==void 0?l:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const sy=new WeakMap,k1=Object.keys(xo),dR=k1.length,ry=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uR=pp.length;class hR{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:l,renderState:d}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Ud(r),this.isVariantNode=cw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{});for(const h in u){const m=u[h];l[h]!==void 0&&Kt(m)&&(m.set(l[h],!1),Ic(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,sy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),S1.current||lR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sy.delete(this.current),this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Vn.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,i){let o,l;for(let d=0;d<dR;d++){const c=k1[d],{isEnabled:u,Feature:h,ProjectionNode:m,MeasureLayout:f}=xo[c];m&&(o=m),u(r)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),f&&(l=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:f}=r;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||h&&ca(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ry.length;n++){const a=ry[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=cR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<uR;n++){const a=pp[n],i=this.props[a];(po(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ia(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=Sp(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Kt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Mp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class C1 extends hR{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},i){let o=RT(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),i){ET(this,n,o);const l=oR(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function mR(e){return window.getComputedStyle(e)}class fR extends C1{readValueFromInstance(t,r){if(Vn.has(r)){const n=Ep(r);return n&&n.default||0}else{const n=mR(t),a=(mw(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return f1(t,r)}build(t,r,n,a){yp(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Np(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Kt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){vw(t,r,n,a)}}class pR extends C1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vn.has(r)){const n=Ep(r);return n&&n.default||0}return r=bw.has(r)?r:wp(r),t.getAttribute(r)}measureInstanceViewportBox(){return tt()}scrapeMotionValuesFromProps(t,r){return ww(t,r)}build(t,r,n,a){bp(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){jw(t,r,n,a)}mount(t){this.isSVGTag=jp(t.tagName),super.mount(t)}}const xR=(e,t)=>gp(e)?new pR(t,{enableHardwareAcceleration:!1}):new fR(t,{enableHardwareAcceleration:!0}),gR={layout:{ProjectionNode:w1,MeasureLayout:p1}},yR={...HT,...uE,...G9,...gR},D=bA((e,t)=>XA(e,t,yR,xR));function P1(){const e=N.useRef(!1);return mp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function vR(){const e=P1(),[t,r]=N.useState(0),n=N.useCallback(()=>{e.current&&r(t+1)},[t]);return[N.useCallback(()=>Oe.postRender(n),[n]),t]}class bR extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jR({children:e,isPresent:t}){const r=N.useId(),n=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:d}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),N.createElement(bR,{isPresent:t,childRef:n,sizeRef:a},N.cloneElement(e,{ref:n}))}const Ju=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=Nw(wR),d=N.useId(),c=N.useMemo(()=>({id:d,initial:t,isPresent:r,custom:a,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[r]);return N.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[r]),N.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=N.createElement(jR,{isPresent:r},e)),N.createElement($d.Provider,{value:c},e)};function wR(){return new Map}function NR(e){return N.useEffect(()=>()=>e(),[])}const Gn=e=>e.key||"";function SR(e,t){e.forEach(r=>{const n=Gn(r);t.set(n,r)})}function kR(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const Fa=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=N.useContext(xp).forceRender||vR()[0],d=P1(),c=kR(e);let u=c;const h=N.useRef(new Map).current,m=N.useRef(u),f=N.useRef(new Map).current,p=N.useRef(!0);if(mp(()=>{p.current=!1,SR(c,f),m.current=u}),NR(()=>{p.current=!0,f.clear(),h.clear()}),p.current)return N.createElement(N.Fragment,null,u.map(y=>N.createElement(Ju,{key:Gn(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},y)));u=[...u];const v=m.current.map(Gn),j=c.map(Gn),w=v.length;for(let y=0;y<w;y++){const b=v[y];j.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((y,b)=>{if(j.indexOf(b)!==-1)return;const x=f.get(b);if(!x)return;const g=v.indexOf(b);let S=y;if(!S){const P=()=>{f.delete(b),h.delete(b);const k=m.current.findIndex(E=>E.key===b);if(m.current.splice(k,1),!h.size){if(m.current=c,d.current===!1)return;l(),n&&n()}};S=N.createElement(Ju,{key:Gn(x),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:i,mode:o},x),h.set(b,S)}u.splice(g,0,S)}),u=u.map(y=>{const b=y.key;return h.has(b)?y:N.createElement(Ju,{key:Gn(y),isPresent:!0,presenceAffectsLayout:i,mode:o},y)}),N.createElement(N.Fragment,null,h.size?u:u.map(y=>N.cloneElement(y)))},CR=({id:e,type:t,title:r,message:n,duration:a=5e3,action:i,onClose:o})=>{const[l,d]=N.useState(!0);N.useEffect(()=>{if(a>0){const f=setTimeout(()=>{d(!1),setTimeout(()=>o(e),300)},a);return()=>clearTimeout(f)}},[a,e,o]);const c=()=>{d(!1),setTimeout(()=>o(e),300)},u=()=>{switch(t){case"success":return{bg:"bg-success-50",border:"border-success-200",icon:"text-success-600",iconBg:"bg-success-100"};case"error":return{bg:"bg-error-50",border:"border-error-200",icon:"text-error-600",iconBg:"bg-error-100"};case"warning":return{bg:"bg-warning-50",border:"border-warning-200",icon:"text-warning-600",iconBg:"bg-warning-100"};case"info":return{bg:"bg-info-50",border:"border-info-200",icon:"text-info-600",iconBg:"bg-info-100"};default:return{bg:"bg-secondary-50",border:"border-secondary-200",icon:"text-secondary-600",iconBg:"bg-secondary-100"}}},h=()=>{switch(t){case"success":return s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},m=u();return s.jsx(D.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`
        max-w-sm w-full ${m.bg} ${m.border} border rounded-lg shadow-lg
        pointer-events-auto overflow-hidden
      `,role:"alert","aria-live":"polite","aria-atomic":"true",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`flex-shrink-0 ${m.iconBg} rounded-full p-1`,children:s.jsx("div",{className:m.icon,children:h()})}),s.jsxs("div",{className:"ml-3 w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),n&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n}),i&&s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:i.onClick,className:"text-sm font-medium text-primary-600 hover:text-primary-500 focus:outline-none focus:underline",children:i.label})})]}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:s.jsx("button",{onClick:c,className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500","aria-label":"Close notification",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})},PR=({toasts:e,onClose:t})=>s.jsx("div",{className:"fixed top-4 right-4 z-toast space-y-4","aria-live":"polite","aria-label":"Notifications",children:s.jsx(Fa,{children:e.map(r=>s.jsx(CR,{...r,onClose:t},r.id))})}),Ts=()=>{const[e,t]=N.useState([]),r=(d,c,u,h)=>{const f={id:Math.random().toString(36).substr(2,9),type:d,title:c,message:u,duration:h==null?void 0:h.duration,action:h==null?void 0:h.action,onClose:p=>{t(v=>v.filter(j=>j.id!==p))}};t(p=>[...p,f])};return{toasts:e,success:(d,c,u)=>r("success",d,c,u),error:(d,c,u)=>r("error",d,c,u),warning:(d,c,u)=>r("warning",d,c,u),info:(d,c,u)=>r("info",d,c,u),removeToast:d=>{t(c=>c.filter(u=>u.id!==d))}}},AR=({children:e})=>{const{toasts:t,removeToast:r}=Ts();return s.jsxs(s.Fragment,{children:[e,typeof document<"u"&&nd.createPortal(s.jsx(PR,{toasts:t,onClose:r}),document.body)]})},ER=()=>{const e=ts(),t=de(f=>f.cart),{user:r,isAuthenticated:n}=de(f=>f.auth),{t:a}=Qa(),i=r==null?void 0:r.isAdmin,o=(r==null?void 0:r.role)==="delivery",l=e.pathname.startsWith("/admin"),d=e.pathname.startsWith("/delivery"),c=[{path:"/admin",label:"Dashboard",icon:ho,ariaLabel:"Admin dashboard"},{path:"/admin-profile",label:"Profile",icon:Be,ariaLabel:"Admin profile"}],u=[{path:"/delivery",label:"Dashboard",icon:Vr,ariaLabel:"Delivery dashboard"},{path:"/delivery-profile",label:"Account",icon:Be,ariaLabel:"View your account"}],h=[{path:"/",label:a("nav.home"),icon:ip,ariaLabel:"Navigate to home page"},{path:"/categories",label:a("nav.categories"),icon:J3,ariaLabel:"Browse product categories"},{path:"/account",label:a("nav.account"),icon:Be,ariaLabel:"View your account"},{path:"/cart",label:a("nav.cart"),icon:Vt,ariaLabel:`View cart with ${t.itemCount} items`}];let m;return i&&l?m=c:o&&d?m=[]:o?m=u:m=h,!n&&!o?null:s.jsx(D.nav,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-0 left-0 right-0 bg-white shadow-md flex justify-around py-2 border-t z-40",role:"navigation","aria-label":"Main navigation",children:m.map(f=>{const p=e.pathname===f.path,v=f.path==="/cart"&&n&&t.itemCount>0,j=f.icon;return s.jsxs(ce,{to:f.path,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${p?"text-blue-600":"text-gray-600 hover:text-blue-600"}`,"aria-label":f.ariaLabel,"aria-current":p?"page":void 0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),window.location.href=f.path)},children:[s.jsxs("div",{className:"relative",children:[s.jsx(j,{className:`h-6 w-6 ${p?"text-blue-600":"text-gray-600"}`,"aria-hidden":"true"}),v&&s.jsx(D.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-semibold","aria-label":`${t.itemCount} items in cart`,children:t.itemCount})]}),s.jsx("span",{className:"text-xs font-medium mt-1",children:f.label})]},f.path)})})},Lp=()=>{console.log(" === LOCALSTORAGE AUDIT START ===");const e=["auth","accessToken","refreshToken","token","user","userId","user_id","currentUser","userProfile","addresses","saved_addresses","cart","cartData","userCart","autofillAddress","selectedAddress","defaultAddress"],t={};e.forEach(r=>{const n=localStorage.getItem(r);if(n)try{t[r]=JSON.parse(n),console.log(` FOUND ${r}:`,t[r])}catch{t[r]=n,console.log(` FOUND ${r} (string):`,n)}});for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(n&&(n.includes("user")||n.includes("auth")||n.includes("token"))&&!e.includes(n)){const a=localStorage.getItem(n);console.log(` SUSPICIOUS KEY FOUND: ${n}:`,a),t[n]=a}}return console.log(" === LOCALSTORAGE AUDIT END ==="),t},TR=()=>{console.log(" NUCLEAR CLEAR: Removing ALL localStorage data...");const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&e.push(r)}e.forEach(t=>{console.log(` NUCLEAR: Removing ${t}`),localStorage.removeItem(t)}),sessionStorage.clear(),console.log(" NUCLEAR CLEAR: Complete")},RR=()=>{var r,n,a,i;console.log(" === API HEADERS DEBUG ===");const e=localStorage.getItem("auth");if(e)try{const o=JSON.parse(e);console.log(" Auth data found in localStorage:",{hasUser:!!o.user,userId:(r=o.user)==null?void 0:r.id,hasAccessToken:!!((n=o.tokens)!=null&&n.accessToken),tokenPreview:((i=(a=o.tokens)==null?void 0:a.accessToken)==null?void 0:i.substring(0,20))+"...",isAuthenticated:o.isAuthenticated})}catch{console.log(" Invalid auth data format")}else console.log(" No auth data in localStorage");const t=localStorage.getItem("accessToken");t&&console.log(" Separate accessToken found:",t.substring(0,20)+"..."),console.log(" === API HEADERS DEBUG END ===")},OR=()=>{console.log(" Starting localStorage monitoring...");const e=localStorage.setItem,t=localStorage.removeItem;localStorage.setItem=function(r,n){return console.log(` localStorage.setItem: ${r} =`,n),e.call(this,r,n)},localStorage.removeItem=function(r){return console.log(` localStorage.removeItem: ${r}`),t.call(this,r)},console.log(" localStorage monitoring active")},A1=()=>{console.log(" === CONTAMINATION CHECK ===");const e=localStorage.getItem("auth");if(e)return console.log(" WARNING: Auth data exists when it should be clean!",e),!0;const t=["accessToken","user","userId","cart","addresses"];let r=!1;return t.forEach(n=>{localStorage.getItem(n)&&(console.log(` CONTAMINATION: ${n} exists when it should be clean!`),r=!0)}),r||console.log(" No contamination detected"),console.log(" === CONTAMINATION CHECK END ==="),r};typeof window<"u"&&(window.storageDebug={audit:Lp,nuclear:TR,headers:RR,monitor:OR,contamination:A1},console.log(" Storage debug utilities available on window.storageDebug"));const E1=()=>{const e=ft(),t=ne();return async()=>{var a;console.log(" LOGOUT: Starting AGGRESSIVE logout process..."),typeof window<"u"&&localStorage.setItem("isLoggingOut","true"),console.log(" PRE-LOGOUT AUDIT:"),Lp();try{console.log(" SECURE LOGOUT: Calling protected backend logout endpoint...");const i=localStorage.getItem("auth"),o=localStorage.getItem("accessToken");let l=null;if(i)try{l=(a=JSON.parse(i).tokens)==null?void 0:a.refreshToken}catch{console.warn("Could not parse auth data for refresh token")}if(!o)console.warn(" No access token found, cannot call secure logout endpoint");else{const d=await fetch("http://localhost:5001/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({refreshToken:l})});if(d.ok){const c=await d.json();console.log(" SECURE LOGOUT: Backend session revoked successfully",{tokensRevoked:c.tokensRevoked,message:c.message})}else d.status===401?console.warn(" SECURE LOGOUT: Token already invalid/expired, continuing cleanup"):console.warn(" SECURE LOGOUT: Backend logout failed, continuing with client cleanup")}}catch(i){console.warn(" SECURE LOGOUT: Backend error (continuing with client cleanup):",i)}console.log(" AGGRESSIVE: Clearing all localStorage keys...");const n=["auth","accessToken","refreshToken","token","user","userId","user_id","currentUser","userProfile","addresses","saved_addresses","cart","cartData","userCart","autofillAddress","selectedAddress","defaultAddress","isLoggingOut"];n.forEach(i=>{localStorage.getItem(i)&&(console.log(` REMOVING localStorage key: ${i}`),localStorage.removeItem(i))}),console.log(" AGGRESSIVE: Clearing sessionStorage...");try{sessionStorage.clear()}catch(i){console.warn("Could not clear sessionStorage:",i)}e(On()),e(Oj()),console.log(" AGGRESSIVE: Clearing RTK Query cache..."),e(Ka.util.resetApiState()),setTimeout(()=>{var l;const o=(((l=e.getState)==null?void 0:l.call(e))||{}).api;console.log(" RTK Query state after reset:",{queries:Object.keys((o==null?void 0:o.queries)||{}),mutations:Object.keys((o==null?void 0:o.mutations)||{}),totalQueries:Object.keys((o==null?void 0:o.queries)||{}).length})},10),setTimeout(()=>{n.forEach(i=>localStorage.removeItem(i)),console.log(" DOUBLE-CHECK: Re-cleared localStorage keys")},100),setTimeout(()=>{console.log(" POST-LOGOUT CONTAMINATION CHECK:"),A1()?console.error(" CRITICAL: Contamination still detected after logout!"):console.log(" Clean state confirmed")},150),console.log(" LOGOUT: Executing GUARANTEED redirect to break auth loop..."),setTimeout(()=>{console.log(" LOGOUT: FORCE REDIRECT - Breaking any auth loops"),window.location.href="/"},100),t("/",{replace:!0}),console.log(" AGGRESSIVE LOGOUT: Complete state cleanup finished")}},MR=()=>{const e=ft();return()=>{console.log(" USER SWITCH: AGGRESSIVE cleaning for new user..."),console.log(" PRE-SWITCH AUDIT:"),Lp(),console.log(" PRE-LOGIN: Clearing all localStorage keys..."),["auth","accessToken","refreshToken","token","user","userId","user_id","currentUser","userProfile","addresses","saved_addresses","cart","cartData","userCart","autofillAddress","selectedAddress","defaultAddress"].forEach(n=>{localStorage.getItem(n)&&(console.log(` PRE-LOGIN REMOVING: ${n}`),localStorage.removeItem(n))});try{sessionStorage.clear()}catch(n){console.warn("Could not clear sessionStorage:",n)}e(Oj()),e(Ka.util.resetApiState()),console.log(" USER SWITCH: AGGRESSIVE cleanup completed for new user")}},LR=(e,t=15)=>{if(!e)return"User";const r=e.trim().split(" ")[0];return r.length>t?r.substring(0,t)+"...":r},_R=(e,t=15)=>LR(e,t),hl="https://res.cloudinary.com/demo/image/upload/sample.jpg";function en({image:e,size:t="small",alt:r="Product image",className:n="",priority:a=!1,debug:i=!1,productId:o}){var k;const l=e!=null&&e.publicId?e:e!=null&&e._doc?e._doc:e||{},d=l.variants||{},c=l.formats||{},u=l.metadata||{};console.group(` OptimizedImage Debug: ${o}`),console.log("Received image:",e),console.log("Fixed img object:",l),console.log("Variants:",d),console.log("Selected variant:",d[t]),console.log("Formats:",c),console.log("Metadata:",u),console.groupEnd();const h=(...E)=>{i&&console.log(`[OptimizedImage] product=${o||"unknown"}`,...E)},m=N.useRef(null),[f,p]=N.useState(a),[v,j]=N.useState(!1);N.useEffect(()=>{h("incoming image object:",e),h("fixed img object:",l),h("variants:",d),h("variants.small:",d.small),h("variants.thumb:",d.thumb),h("formats:",c),h("metadata:",u)},[e]);const w=E=>{if(!l)return hl;let A=d[E]||null;return!A&&c&&(A=c.webp||c.avif||c.jpg||null),A||hl},y=w(t),b=w("thumb");N.useEffect(()=>{if(a)return;m.current;const E=m.current||document.querySelector(`img[data-optim-product="${o||""}"]`);if(!E){p(!0);return}const A=new IntersectionObserver(T=>{T.forEach(M=>{M.isIntersecting&&(p(!0),A.disconnect())})},{rootMargin:"100px",threshold:.01});return A.observe(E),()=>A.disconnect()},[a,m.current]);const g={aspectRatio:((k=e==null?void 0:e.metadata)==null?void 0:k.aspectRatio)||1,minWidth:1,minHeight:1,overflow:"hidden",display:"block",backgroundColor:"#f3f4f6"};N.useEffect(()=>{n&&/w-|h-/.test(n)&&h("Warning: className may override layout width/height:",n)},[n]);const S=E=>{h("image loaded:",E.target.src),j(!0)},P=E=>{console.error("[OptimizedImage] image load error, falling back to placeholder",E.target.src),E.target.src=hl};return(!l||!l.variants&&!l.formats&&!l.publicId)&&h("Invalid/empty image object detected  will use placeholder:",l),!e||!e.variants?(console.error(" Missing image or variants for product:",o,e),s.jsx("div",{style:{background:"#eee",padding:20},children:"No Image"})):s.jsx("div",{style:g,className:`optimized-image-root ${n}`,"data-productid":o,children:f?s.jsxs("picture",{children:[(c==null?void 0:c.avif)&&s.jsx("source",{type:"image/avif",srcSet:c.avif}),(c==null?void 0:c.webp)&&s.jsx("source",{type:"image/webp",srcSet:c.webp}),s.jsx("img",{ref:m,"data-optim-product":o||"",src:y,srcSet:b?`${b} 150w, ${y} 600w`:void 0,sizes:"(max-width: 600px) 150px, 300px",loading:a?"eager":"lazy",alt:r||"",onLoad:S,onError:P,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",opacity:v?1:0,transition:"opacity 300ms ease-in-out"}})]}):s.jsx("div",{style:{width:"100%",height:"100%"},"aria-hidden":!0,children:s.jsx("img",{ref:m,"data-optim-product":o||"",src:b||hl,alt:"",style:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(6px)"}})})})}const DR=({suggestions:e,searchQuery:t,onClose:r,isLoading:n=!1})=>{const a=ne(),i=o=>{a(`/product/${o}`),r()};return!t||t.length<1?null:s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-md shadow-lg z-50 overflow-hidden",children:n?s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):e.length>0?s.jsx(s.Fragment,{children:e.map(o=>{var l;return s.jsxs("div",{onClick:()=>i(o._id),className:"flex items-center px-4 py-2.5 hover:bg-gray-100 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3",children:s.jsx(en,{image:((l=o.images)==null?void 0:l[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"thumb",alt:o.name,className:"w-full h-full",productId:o._id,debug:!1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",children:o.name}),s.jsxs("div",{className:"text-xs text-blue-600 mt-0.5",children:["in ",o.category]})]})]},o._id)})}):s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("p",{className:"mt-2 text-sm font-medium",children:"No suggestions found"}),s.jsx("p",{className:"mt-1 text-xs",children:"Try searching with different keywords"})]})})},ui=new Map,ny={521235:{city:"Tiruvuru",district:"NTR"},521236:{city:"Tiruvuru",district:"NTR"},521237:{city:"Tiruvuru",district:"NTR"},521238:{city:"Tiruvuru",district:"NTR"},521239:{city:"Tiruvuru",district:"NTR"},521240:{city:"Tiruvuru",district:"NTR"},521230:{city:"Mylavaram",district:"NTR"},521231:{city:"Mylavaram",district:"NTR"},521232:{city:"Mylavaram",district:"NTR"},521233:{city:"Mylavaram",district:"NTR"},521234:{city:"Mylavaram",district:"NTR"},520001:{city:"Vijayawada",district:"NTR"},520002:{city:"Vijayawada",district:"NTR"},520003:{city:"Vijayawada",district:"NTR"},520004:{city:"Vijayawada",district:"NTR"},520005:{city:"Vijayawada",district:"NTR"},520006:{city:"Vijayawada",district:"NTR"},520007:{city:"Vijayawada",district:"NTR"},520008:{city:"Vijayawada",district:"NTR"},520009:{city:"Vijayawada",district:"NTR"},520010:{city:"Vijayawada",district:"NTR"},520011:{city:"Vijayawada",district:"NTR"},520012:{city:"Vijayawada",district:"NTR"},520013:{city:"Vijayawada",district:"NTR"},520014:{city:"Vijayawada",district:"NTR"},520015:{city:"Vijayawada",district:"NTR"},520016:{city:"Vijayawada",district:"NTR"},520017:{city:"Vijayawada",district:"NTR"},520018:{city:"Vijayawada",district:"NTR"},520019:{city:"Vijayawada",district:"NTR"},520020:{city:"Vijayawada",district:"NTR"},521001:{city:"Machilipatnam",district:"Krishna"},521002:{city:"Machilipatnam",district:"Krishna"},521003:{city:"Machilipatnam",district:"Krishna"},521004:{city:"Machilipatnam",district:"Krishna"},521005:{city:"Machilipatnam",district:"Krishna"},521006:{city:"Machilipatnam",district:"Krishna"},521007:{city:"Machilipatnam",district:"Krishna"},521008:{city:"Machilipatnam",district:"Krishna"},521009:{city:"Machilipatnam",district:"Krishna"},521010:{city:"Machilipatnam",district:"Krishna"},521301:{city:"Gudivada",district:"NTR"},521302:{city:"Gudivada",district:"NTR"},521303:{city:"Gudivada",district:"NTR"},521304:{city:"Gudivada",district:"NTR"},521305:{city:"Gudivada",district:"NTR"},521306:{city:"Gudivada",district:"NTR"},521307:{city:"Gudivada",district:"NTR"},521308:{city:"Gudivada",district:"NTR"},521309:{city:"Gudivada",district:"NTR"},521310:{city:"Gudivada",district:"NTR"},521201:{city:"Nuzvid",district:"NTR"},521202:{city:"Nuzvid",district:"NTR"},521203:{city:"Nuzvid",district:"NTR"},521204:{city:"Nuzvid",district:"NTR"},521205:{city:"Nuzvid",district:"NTR"},521206:{city:"Nuzvid",district:"NTR"},521207:{city:"Nuzvid",district:"NTR"},521208:{city:"Nuzvid",district:"NTR"},521209:{city:"Nuzvid",district:"NTR"},521210:{city:"Nuzvid",district:"NTR"},521175:{city:"Jaggayyapet",district:"NTR"},521176:{city:"Jaggayyapet",district:"NTR"},521177:{city:"Jaggayyapet",district:"NTR"},521178:{city:"Jaggayyapet",district:"NTR"},521179:{city:"Jaggayyapet",district:"NTR"},521180:{city:"Jaggayyapet",district:"NTR"},521165:{city:"Vuyyuru",district:"NTR"},521166:{city:"Vuyyuru",district:"NTR"},521167:{city:"Vuyyuru",district:"NTR"},521168:{city:"Vuyyuru",district:"NTR"},521169:{city:"Vuyyuru",district:"NTR"},521170:{city:"Vuyyuru",district:"NTR"},521121:{city:"Pedana",district:"Krishna"},521122:{city:"Pedana",district:"Krishna"},521123:{city:"Pedana",district:"Krishna"},521124:{city:"Pedana",district:"Krishna"},521125:{city:"Pedana",district:"Krishna"},521126:{city:"Pedana",district:"Krishna"},521131:{city:"Avanigadda",district:"Krishna"},521132:{city:"Avanigadda",district:"Krishna"},521133:{city:"Avanigadda",district:"Krishna"},521134:{city:"Avanigadda",district:"Krishna"},521135:{city:"Avanigadda",district:"Krishna"},521136:{city:"Avanigadda",district:"Krishna"},521141:{city:"Pamarru",district:"Krishna"},521142:{city:"Pamarru",district:"Krishna"},521143:{city:"Pamarru",district:"Krishna"},521144:{city:"Pamarru",district:"Krishna"},521145:{city:"Pamarru",district:"Krishna"},521146:{city:"Pamarru",district:"Krishna"},521151:{city:"Bantumilli",district:"Krishna"},521152:{city:"Bantumilli",district:"Krishna"},521153:{city:"Bantumilli",district:"Krishna"},521154:{city:"Bantumilli",district:"Krishna"},521155:{city:"Bantumilli",district:"Krishna"},521156:{city:"Bantumilli",district:"Krishna"},521161:{city:"Kaikalur",district:"Krishna"},521162:{city:"Kaikalur",district:"Krishna"},521163:{city:"Kaikalur",district:"Krishna"},521164:{city:"Kaikalur",district:"Krishna"}},IR=async e=>{const t=e.replace(/\s/g,"");if(!/^\d{6}$/.test(t))return null;if(ui.has(t))return ui.get(t);try{const a=await $R(t);if(a)return ui.set(t,a),a}catch(a){console.warn("Pincode API failed, using fallback validation:",a)}const r=FR(t);if(r)return ui.set(t,r),r;const n={pincode:t,city:"",state:"",district:"",isDeliverable:!1,source:"fallback"};return ui.set(t,n),n},$R=async e=>{try{const r=await(await fetch(`https://api.postalpincode.in/pincode/${e}`)).json();if(r&&r[0]&&r[0].Status==="Success"&&r[0].PostOffice){const n=r[0].PostOffice,a=n[0],i=a.State,o=a.District;let l=o;for(const c of n){if(c.Block&&c.Block.trim()){const u=c.Block.trim();if(u!==o){l=u;break}}if(c.Name&&c.Name.trim()){const u=c.Name.trim();if(!u.toLowerCase().includes("post office")&&!u.toLowerCase().includes("head post office")&&!u.toLowerCase().includes("sub post office")&&u!==o&&!u.toLowerCase().includes("district")){l=u;break}}}return(!l||l===o)&&(l=o),ny[e]&&(l=ny[e].city),{pincode:e,city:l,state:i,district:o,isDeliverable:i==="Andhra Pradesh"||i==="Telangana",source:"api"}}}catch(t){console.error("Error fetching pincode from API:",t)}return null},FR=e=>{const t=parseInt(e),r=[{min:515e3,max:515999,state:"Andhra Pradesh",region:"Anantapur"},{min:516e3,max:516999,state:"Andhra Pradesh",region:"Kadapa"},{min:517e3,max:517999,state:"Andhra Pradesh",region:"Chittoor"},{min:518e3,max:518999,state:"Andhra Pradesh",region:"Kurnool"},{min:52e4,max:520999,state:"Andhra Pradesh",region:"NTR"},{min:521e3,max:521999,state:"Andhra Pradesh",region:"Krishna"},{min:522e3,max:522999,state:"Andhra Pradesh",region:"Guntur"},{min:523e3,max:523999,state:"Andhra Pradesh",region:"Prakasam"},{min:524e3,max:524999,state:"Andhra Pradesh",region:"Nellore"},{min:53e4,max:530999,state:"Andhra Pradesh",region:"Visakhapatnam"},{min:533e3,max:533999,state:"Andhra Pradesh",region:"East Godavari"},{min:534e3,max:534999,state:"Andhra Pradesh",region:"West Godavari"},{min:535e3,max:535999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:531e3,max:531999,state:"Andhra Pradesh",region:"Srikakulam"},{min:527e3,max:527999,state:"Andhra Pradesh",region:"Nellore"},{min:528e3,max:528999,state:"Andhra Pradesh",region:"Nellore"},{min:529e3,max:529999,state:"Andhra Pradesh",region:"Nellore"},{min:532e3,max:532999,state:"Andhra Pradesh",region:"Srikakulam"},{min:536e3,max:536999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:537e3,max:537999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:538e3,max:538999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:539e3,max:539999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:54e4,max:540999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:541e3,max:541999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:542e3,max:542999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:543e3,max:543999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:544e3,max:544999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:545e3,max:545999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:546e3,max:546999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:547e3,max:547999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:548e3,max:548999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:549e3,max:549999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:55e4,max:550999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:551e3,max:551999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:552e3,max:552999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:553e3,max:553999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:554e3,max:554999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:555e3,max:555999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:556e3,max:556999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:557e3,max:557999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:558e3,max:558999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:559e3,max:559999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:56e4,max:560999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:561e3,max:561999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:562e3,max:562999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:563e3,max:563999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:564e3,max:564999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:565e3,max:565999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:566e3,max:566999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:567e3,max:567999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:568e3,max:568999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:569e3,max:569999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:57e4,max:570999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:571e3,max:571999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:572e3,max:572999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:573e3,max:573999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:574e3,max:574999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:575e3,max:575999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:576e3,max:576999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:577e3,max:577999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:578e3,max:578999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:579e3,max:579999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:58e4,max:580999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:581e3,max:581999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:582e3,max:582999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:583e3,max:583999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:584e3,max:584999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:585e3,max:585999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:586e3,max:586999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:587e3,max:587999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:588e3,max:588999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:589e3,max:589999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:59e4,max:590999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:591e3,max:591999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:592e3,max:592999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:593e3,max:593999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:594e3,max:594999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:595e3,max:595999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:596e3,max:596999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:597e3,max:597999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:598e3,max:598999,state:"Andhra Pradesh",region:"Vizianagaram"},{min:599e3,max:599999,state:"Andhra Pradesh",region:"Vizianagaram"}],n=[{min:5e5,max:500999,state:"Telangana",region:"Hyderabad"},{min:501e3,max:501999,state:"Telangana",region:"Ranga Reddy"},{min:502e3,max:502999,state:"Telangana",region:"Medak"},{min:503e3,max:503999,state:"Telangana",region:"Nizamabad"},{min:504e3,max:504999,state:"Telangana",region:"Adilabad"},{min:505e3,max:505999,state:"Telangana",region:"Karimnagar"},{min:506e3,max:506999,state:"Telangana",region:"Warangal"},{min:507e3,max:507999,state:"Telangana",region:"Khammam"},{min:508e3,max:508999,state:"Telangana",region:"Nalgonda"},{min:509e3,max:509999,state:"Telangana",region:"Mahbubnagar"},{min:51e4,max:510999,state:"Telangana",region:"Hyderabad"},{min:511e3,max:511999,state:"Telangana",region:"Hyderabad"},{min:512e3,max:512999,state:"Telangana",region:"Hyderabad"},{min:513e3,max:513999,state:"Telangana",region:"Hyderabad"},{min:514e3,max:514999,state:"Telangana",region:"Hyderabad"}];for(const a of r)if(t>=a.min&&t<=a.max)return{pincode:e,city:`${a.region} City`,state:a.state,district:a.region,isDeliverable:!0,source:"fallback"};for(const a of n)if(t>=a.min&&t<=a.max)return{pincode:e,city:`${a.region} City`,state:a.state,district:a.region,isDeliverable:!0,source:"fallback"};return null},BR=e=>e?e.isDeliverable?"Deliverable to this pincode":"Not deliverable to this pincode":"Please enter a valid 6-digit pincode",Fi=e=>{const t=parseInt(e),r=t>=515e3&&t<=515999||t>=516e3&&t<=516999||t>=517e3&&t<=517999||t>=518e3&&t<=518999||t>=52e4&&t<=520999||t>=521e3&&t<=521999||t>=522e3&&t<=522999||t>=523e3&&t<=523999||t>=524e3&&t<=524999||t>=525e3&&t<=525999||t>=526e3&&t<=526999||t>=527e3&&t<=527999||t>=528e3&&t<=528999||t>=529e3&&t<=529999||t>=53e4&&t<=530999||t>=531e3&&t<=531999||t>=532e3&&t<=532999||t>=533e3&&t<=533999||t>=534e3&&t<=534999||t>=535e3&&t<=535999||t>=536e3&&t<=536999||t>=537e3&&t<=537999||t>=538e3&&t<=538999||t>=539e3&&t<=539999||t>=54e4&&t<=540999||t>=541e3&&t<=541999||t>=542e3&&t<=542999||t>=543e3&&t<=543999||t>=544e3&&t<=544999||t>=545e3&&t<=545999||t>=546e3&&t<=546999||t>=547e3&&t<=547999||t>=548e3&&t<=548999||t>=549e3&&t<=549999||t>=55e4&&t<=550999||t>=551e3&&t<=551999||t>=552e3&&t<=552999||t>=553e3&&t<=553999||t>=554e3&&t<=554999||t>=555e3&&t<=555999||t>=556e3&&t<=556999||t>=557e3&&t<=557999||t>=558e3&&t<=558999||t>=559e3&&t<=559999||t>=56e4&&t<=560999||t>=561e3&&t<=561999||t>=562e3&&t<=562999||t>=563e3&&t<=563999||t>=564e3&&t<=564999||t>=565e3&&t<=565999||t>=566e3&&t<=566999||t>=567e3&&t<=567999||t>=568e3&&t<=568999||t>=569e3&&t<=569999||t>=57e4&&t<=570999||t>=571e3&&t<=571999||t>=572e3&&t<=572999||t>=573e3&&t<=573999||t>=574e3&&t<=574999||t>=575e3&&t<=575999||t>=576e3&&t<=576999||t>=577e3&&t<=577999||t>=578e3&&t<=578999||t>=579e3&&t<=579999||t>=58e4&&t<=580999||t>=581e3&&t<=581999||t>=582e3&&t<=582999||t>=583e3&&t<=583999||t>=584e3&&t<=584999||t>=585e3&&t<=585999||t>=586e3&&t<=586999||t>=587e3&&t<=587999||t>=588e3&&t<=588999||t>=589e3&&t<=589999||t>=59e4&&t<=590999||t>=591e3&&t<=591999||t>=592e3&&t<=592999||t>=593e3&&t<=593999||t>=594e3&&t<=594999||t>=595e3&&t<=595999||t>=596e3&&t<=596999||t>=597e3&&t<=597999||t>=598e3&&t<=598999||t>=599e3&&t<=599999,n=t>=5e5&&t<=500999||t>=501e3&&t<=501999||t>=502e3&&t<=502999||t>=503e3&&t<=503999||t>=504e3&&t<=504999||t>=505e3&&t<=505999||t>=506e3&&t<=506999||t>=507e3&&t<=507999||t>=508e3&&t<=508999||t>=509e3&&t<=509999||t>=51e4&&t<=510999||t>=511e3&&t<=511999||t>=512e3&&t<=512999||t>=513e3&&t<=513999||t>=514e3&&t<=514999;return r||n},UR=({isOpen:e,onClose:t,onAddressSelect:r,addresses:n,defaultAddressId:a})=>{const i=ne(),[o,l]=N.useState(!1),[d,c]=N.useState(""),u=m=>{r(m),t()},h=async()=>{l(!0),c("");try{if(!navigator.geolocation){c("Geolocation is not supported by your browser"),l(!1);return}navigator.geolocation.getCurrentPosition(async m=>{const{latitude:f,longitude:p}=m.coords;try{const j=await(await fetch(`/api/location/reverse-geocode?lat=${f}&lng=${p}`)).json();if(j.success&&j.data&&j.data.pincode){const w=j.data.pincode;if(!Fi(w)){c(`Delivery not available for pincode ${w}. Please enter a different address.`),l(!1);return}const b={addressLine:j.data.address||"",city:j.data.city||"",state:j.data.state||"",pincode:w,lat:f,lng:p};localStorage.setItem("autofillAddress",JSON.stringify(b)),t(),i("/addresses")}else c("Could not determine your location. Please try again or enter address manually.")}catch(v){console.error("Reverse geocoding failed:",v),c("Failed to detect your location. Please try again or enter address manually.")}l(!1)},m=>{let f="Could not access your location. ";switch(m.code){case m.PERMISSION_DENIED:f+="Please allow location access and try again.";break;case m.POSITION_UNAVAILABLE:f+="Location information is unavailable.";break;case m.TIMEOUT:f+="Location request timed out.";break;default:f+="Please enter address manually.";break}c(f),l(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}catch(m){console.error("Location detection failed:",m),c("Failed to detect your location. Please try again or enter address manually."),l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Choose your location"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(gt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Saved Addresses"}),n.length>0?s.jsx("div",{className:"space-y-2",children:n.map(m=>s.jsx("div",{onClick:()=>u(m.id),className:`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md ${a===m.id?"border-blue-200 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ct,{className:`h-5 w-5 flex-shrink-0 ${a===m.id?"text-blue-600":"text-gray-400"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.label}),s.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[m.city,", ",m.state," - ",m.pincode]})]}),a===m.id&&s.jsx(Ss,{className:"h-5 w-5 text-blue-600"})]})},m.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ct,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No saved addresses yet"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add a new location below to get started"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[s.jsx("button",{onClick:h,disabled:o,className:"w-full p-4 bg-white border-2 border-gray-300 hover:border-blue-500 hover:bg-blue-50 text-gray-700 hover:text-blue-700 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Detecting your location..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(um,{className:"w-5 h-5"}),s.jsx("span",{children:"Use My Current Location"})]})}),d&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:d})}),s.jsxs("button",{onClick:()=>{t(),i("/addresses")},className:"w-full p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.jsx("span",{children:"Add New Address"})]})]})]})})}):null},zR=({isVisible:e,productName:t,productImage:r,onClose:n})=>{const[a,i]=N.useState(!1);return N.useEffect(()=>{if(e){i(!0);const o=setTimeout(()=>{n()},4e3);return()=>clearTimeout(o)}else{const o=setTimeout(()=>{i(!1)},300);return()=>clearTimeout(o)}},[e,n]),a?s.jsx("div",{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ease-in-out ${e?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm mx-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ae,{className:"h-6 w-6 text-green-600"})}),r&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:r,alt:t,className:"h-12 w-12 object-cover rounded-md border border-gray-200"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Added to cart"}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:t})]}),s.jsx("button",{onClick:n,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close notification",children:s.jsx(gt,{className:"h-4 w-4"})})]})})}):null},VR=({isVisible:e,productName:t,productImage:r,currentCartCount:n,cartTotal:a=0,onClose:i})=>{N.useEffect(()=>{if(e){const d=setTimeout(()=>{i()},5e3);return()=>clearTimeout(d)}},[e,i]);const o=2e3,l=d=>d>=o?" Your order qualifies for FREE Delivery!":`Add ${o-d} more for FREE Delivery`;return s.jsx(Fa,{children:e&&s.jsxs(D.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-lg",role:"alert","aria-live":"polite",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-green-100 rounded-full p-2",children:s.jsx(Ae,{className:"h-6 w-6 text-green-600"})})}),r&&s.jsx("div",{className:"flex-shrink-0 hidden sm:block",children:s.jsx("img",{src:r,alt:t,className:"h-12 w-12 object-cover rounded-md border border-gray-200 shadow-sm"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:" Added to cart"}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{children:""}),s.jsx(Vt,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:[n," item",n!==1?"s":""]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",a]})]})]}),s.jsx("p",{className:"text-sm text-gray-700 truncate max-w-xs sm:max-w-md",children:t}),s.jsxs("div",{className:"md:hidden flex items-center space-x-2 text-xs text-gray-500 mt-1",children:[s.jsx(Vt,{className:"h-3 w-3"}),s.jsxs("span",{children:[n," item",n!==1?"s":""]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",a]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"hidden lg:block text-right",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:l(a)}),a>=o&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated delivery: Tomorrow"})]}),s.jsx("button",{onClick:i,className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100","aria-label":"Close notification",children:s.jsx(gt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"lg:hidden border-t border-gray-100 py-2",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:l(a)}),a>=o&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Estimated delivery: Tomorrow"})]})]}),s.jsx(D.div,{initial:{scaleX:1},animate:{scaleX:0},transition:{duration:5,ease:"linear"},className:"absolute bottom-0 left-0 right-0 h-0.5 bg-green-500 origin-left"})]})})},T1=N.createContext(null),qR=({children:e,triggerCartConfirmation:t,triggerGlobalConfirmation:r})=>s.jsx(T1.Provider,{value:{triggerCartConfirmation:t,triggerGlobalConfirmation:r},children:e}),_p=()=>{const e=N.useContext(T1);if(!e)throw new Error("useCartFeedback must be used within a CartFeedbackProvider");return e},_l=({children:e,title:t="CS Store",description:r="E-commerce platform",hideBottomNav:n=!1})=>{var Up,zp;const a=ts(),i=n||a.pathname==="/cart",[o,l]=N.useState(""),[d,c]=N.useState(!1),[u,h]=N.useState(""),[m,f]=N.useState(!1),[p,v]=N.useState(!1),[j,w]=N.useState(!1),[y,b]=N.useState(!1),[x,g]=N.useState(!1),S=ts(),P=ne(),k=ft(),E=de(ie=>ie.auth),A=E1(),{data:T,refetch:M}=rp(void 0,{skip:!E.isAuthenticated}),{data:C}=Un(void 0,{skip:!E.isAuthenticated}),[R]=qj(),O=(T==null?void 0:T.addresses)||[],I=(T==null?void 0:T.defaultAddressId)||null,F=O.find(ie=>ie.id===I),$=de(ie=>ie.cart),{error:L}=Ts(),[B,q]=N.useState(!1),[H,X]=N.useState({isVisible:!1,productName:"",productImage:""}),[se,_]=N.useState({isVisible:!1,productName:"",productImage:"",cartCount:0,cartTotal:0}),V=(ie,pt)=>{X({isVisible:!0,productName:ie,productImage:pt||""}),q(!0),setTimeout(()=>q(!1),600)},Q=(ie,pt,Ls,_N)=>{_({isVisible:!0,productName:ie,productImage:pt||"",cartCount:Ls||$.itemCount||0,cartTotal:_N||$.total||0}),q(!0),setTimeout(()=>q(!1),600)},ae=()=>{X(ie=>({...ie,isVisible:!1}))},J=()=>{_(ie=>({...ie,isVisible:!1}))},xe=()=>{o.trim()?P(`/search?q=${encodeURIComponent(o.trim())}`):L("Please enter a product name to search")},{showOtpModal:he}=Dd(),we=(Up=E.user)==null?void 0:Up.isAdmin,et=((zp=E.user)==null?void 0:zp.role)==="delivery",Qt=S.pathname.startsWith("/admin"),Gt=S.pathname.startsWith("/delivery");if(N.useEffect(()=>{document.title=t;const ie=document.querySelector('meta[name="description"]');ie&&ie.setAttribute("content",r)},[t,r]),Gt)return s.jsx("main",{id:"main-content",children:e});N.useEffect(()=>{if(S.pathname==="/search"){const pt=new URLSearchParams(S.search).get("q");pt&&pt!==o&&l(pt)}},[S.pathname,S.search]),N.useEffect(()=>{const ie=setTimeout(()=>{h(o)},300);return()=>clearTimeout(ie)},[o]);const{data:z,isLoading:Z}=GC({q:u},{skip:u.trim().length===0}),re=z||[];N.useEffect(()=>(window.clearSearchBar=()=>{l("")},window.updateSearchQuery=ie=>{l(ie)},()=>{delete window.clearSearchBar,delete window.updateSearchQuery}),[]),N.useEffect(()=>{const ie=pt=>{const Ls=pt.target;m&&!Ls.closest(".login-dropdown")&&f(!1),p&&!Ls.closest(".profile-dropdown")&&v(!1),y&&!Ls.closest(".more-dropdown")&&b(!1),p&&!Ls.closest(".profile-dropdown")&&!Ls.closest(".admin-dropdown")&&v(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[m,p,y]);const me=()=>{S.pathname==="/"?window.location.reload():P("/")},at=()=>{P("/account")},Ue=()=>{f(!m)},ze=ie=>{ie(),f(!1)},Os=()=>{j?(w(!1),v(!1)):(w(!0),v(!0))},G=()=>{j||v(!0)},le=()=>{j||v(!1)};N.useEffect(()=>{const ie=pt=>{j&&(pt.target.closest(".profile-dropdown")||(w(!1),v(!1)))};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[j]);const ue=ie=>{ie(),v(!1)},pe=async()=>{try{console.log("[Logout] dispatching logout, currentPath:",window.location.pathname),v(!1),k(On());try{localStorage.removeItem("auth"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("isLoggingOut")}catch(ie){console.warn("logout: failed to clean localStorage",ie)}try{console.log("[Logout] attempting SPA navigate to /"),P("/",{replace:!0}),setTimeout(()=>{window.location.pathname!=="/"&&(console.log("[Logout] SPA navigate failed, using fallback"),window.location.assign("/"))},120)}catch(ie){console.warn("SPA navigate failed, falling back to location.assign",ie),window.location.assign("/")}}catch(ie){console.error("Logout failed:",ie),window.location.assign("/")}},ge=()=>{b(!y)},Te=()=>{g(!0)},Ms=async ie=>{try{await R(ie).unwrap(),await M();const pt=O.find(Ls=>Ls.id===ie);pt&&L(`Location updated to ${pt.city}, ${pt.state}`)}catch(pt){console.error("Error updating default address:",pt),L("Failed to update location. Please try again.")}},It=ie=>{ie(),b(!1)},Hn=()=>{o.trim()?xe():P("/search")},Wn=()=>{P("/cart")};return s.jsxs(AR,{children:[s.jsx("style",{children:`
        /*  MAGICAL STAR GLOW ANIMATION */
        @keyframes sparkle {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          50% {
            transform: scale(1) rotate(180deg);
            opacity: 1;
          }
          100% {
            transform: scale(0) rotate(360deg);
            opacity: 0;
          }
        }
        
        /* Amazon-Style Professional Cart Pulse Animation */
        .cart-pulse-active {
          animation: cart-jiggle-flash 0.6s ease-in-out;
        }
        
        /* Cart icon color flash during pulse */
        .cart-pulse-active .cart-icon {
          animation: cart-icon-flash 0.6s ease-in-out;
        }
        
        /* Jiggle + Glow Animation */
        @keyframes cart-jiggle-flash {
          0% {
            transform: scale(1) translateX(0);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
          15% {
            transform: scale(1.05) translateX(-2px);
            box-shadow: 0 0 12px rgba(34, 197, 94, 0.4), 0 0 20px rgba(34, 197, 94, 0.2);
          }
          30% {
            transform: scale(1.05) translateX(2px);
            box-shadow: 0 0 16px rgba(34, 197, 94, 0.6), 0 0 28px rgba(34, 197, 94, 0.3);
          }
          45% {
            transform: scale(1.05) translateX(-1px);
            box-shadow: 0 0 12px rgba(34, 197, 94, 0.4), 0 0 20px rgba(34, 197, 94, 0.2);
          }
          60% {
            transform: scale(1.02) translateX(1px);
            box-shadow: 0 0 8px rgba(34, 197, 94, 0.3), 0 0 15px rgba(34, 197, 94, 0.15);
          }
          100% {
            transform: scale(1) translateX(0);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }
        }
        
        /* Cart Icon Color Flash - Works for both blue and gray icons */
        @keyframes cart-icon-flash {
          0% {
            color: currentColor; /* Preserve original color */
          }
          25% {
            color: rgb(34, 197, 94) !important; /* Bright green flash */
          }
          50% {
            color: rgb(34, 197, 94) !important; /* Hold green */
          }
          75% {
            color: rgb(16, 185, 129) !important; /* Slightly darker green */
          }
          100% {
            color: currentColor; /* Back to original color */
          }
        }
      `}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(eg,{href:"#main-content",children:"Skip to main content"}),s.jsx(eg,{href:"#navigation",children:"Skip to navigation"}),s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("header",{id:"navigation",className:"bg-white shadow-sm border-b border-gray-200 z-sticky",role:"banner",children:s.jsx("div",{className:"w-full px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:me,className:"flex items-center space-x-2 text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors","aria-label":"CS Store Home",children:s.jsx("span",{children:"CS Store"})}),S.pathname!=="/"&&S.pathname!=="/checkout"&&!S.pathname.startsWith("/admin")&&s.jsxs("button",{onClick:Te,className:"hidden md:flex items-center space-x-2 text-sm text-gray-600 px-4 hover:bg-gray-50 rounded-lg py-2 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ct,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"font-medium",children:"Deliver to"})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-gray-800 font-medium",children:[s.jsx("span",{children:F?`${F.name||"User"}, ${F.city}`:"Add Address"}),s.jsx(wa,{className:"h-3 w-3"})]})]})]}),Qt?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Dashboard"})}):S.pathname!=="/account"&&S.pathname!=="/categories"&&!Gt?s.jsx("div",{className:"flex-1 max-w-4xl mx-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search for Products, Brands and More",value:o,onChange:ie=>{l(ie.target.value),c(!0)},onFocus:()=>{o.length>=1&&re.length>0&&c(!0)},onBlur:()=>{setTimeout(()=>c(!1),200)},onKeyDown:ie=>{ie.key==="Enter"?(xe(),c(!1)):ie.key==="Escape"&&c(!1)},className:"w-full px-4 py-3 h-12 pr-12 border border-gray-300 bg-white text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"}),s.jsx("button",{onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),xe(),c(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200 cursor-pointer",type:"button","aria-label":"Search",children:s.jsx(Jr,{className:"h-5 w-5"})}),d&&o.length>=1&&s.jsx(DR,{suggestions:re,searchQuery:o,onClose:()=>{c(!1),l("")},isLoading:Z})]})}):null,S.pathname==="/categories"&&!we&&!et?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:Hn,className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-full transition-all duration-200 shadow-sm hover:shadow-md hover:scale-110","aria-label":"Search products",children:s.jsx(Jr,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("button",{onClick:Wn,className:`relative p-3 bg-blue-100 hover:bg-blue-200 rounded-full transition-all duration-200 shadow-sm hover:shadow-md hover:scale-110 ${B?"cart-pulse-active":""}`,"aria-label":`View cart with ${$.itemCount??0} items`,children:[s.jsx(Vt,{className:"h-5 w-5 text-blue-600 cart-icon"}),E.isAuthenticated&&$.itemCount>0&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg",children:$.itemCount>99?"99+":$.itemCount})]})]}):we&&Qt?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>P("/admin-profile"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Profile"}),s.jsx("button",{onClick:async()=>{await A()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})]}):et&&Gt?s.jsx("div",{className:"flex items-center space-x-2"}):s.jsx("div",{className:"flex items-center space-x-8",children:E.isAuthenticated?s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"relative profile-dropdown",onMouseEnter:G,onMouseLeave:le,children:[s.jsxs("button",{onClick:Os,className:"flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1","aria-label":"Account",children:[s.jsx(Be,{className:"h-6 w-6"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:_R(C==null?void 0:C.name)||"Account"}),s.jsx(wa,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${p?"rotate-180":"rotate-0"}`,strokeWidth:2.5})]})]}),p&&s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>ue(at),className:"w-full text-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"My Profile"}),s.jsx("button",{onClick:()=>ue(()=>P("/orders")),className:"w-full text-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"My Orders"}),s.jsx("button",{onClick:()=>ue(()=>P("/addresses")),className:"w-full text-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"My Addresses"}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsx("button",{onClick:()=>ue(pe),className:"w-full text-center px-3 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 rounded",children:"Logout"})]})})})]}),s.jsxs("button",{onClick:Wn,className:`relative flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1 ${B?"cart-pulse-active":""}`,"aria-label":`View cart with ${$.itemCount??0} items`,children:[s.jsx(Vt,{className:"h-6 w-6 cart-icon"}),s.jsx("span",{className:"text-xs font-medium",children:"Cart"}),$.itemCount>0&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-bold",children:$.itemCount>99?"99+":$.itemCount})]}),s.jsxs("div",{className:"relative more-dropdown",children:[s.jsxs("button",{onClick:ge,className:"flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1","aria-label":"More options",children:[s.jsx(Jx,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:"More"})]}),y&&s.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx("button",{onClick:()=>It(()=>P("/notification-preferences")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Notification Preferences"}),s.jsx("button",{onClick:()=>It(()=>P("/customer-care")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"24x7 Customer Care"}),s.jsxs("button",{onClick:()=>It(()=>{P("/download-app")}),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),s.jsx("span",{children:"Download App"})]}),s.jsx("div",{className:"border-t border-gray-200 my-1"}),s.jsx("button",{onClick:()=>It(()=>P("/about-us")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"About Us"}),s.jsx("button",{onClick:()=>It(()=>P("/careers")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Careers"}),s.jsx("button",{onClick:()=>It(()=>P("/contact-us")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Contact Us"}),s.jsx("div",{className:"border-t border-gray-200 my-1"}),s.jsx("button",{onClick:()=>It(()=>P("/become-seller")),className:"w-full text-left px-4 py-2 text-sm text-orange-600 hover:bg-orange-50 transition-colors duration-200 font-medium",children:"Become a Seller"})]})})]})]}):s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"relative login-dropdown",children:[s.jsxs("button",{onClick:Ue,className:"flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1","aria-label":"Login",children:[s.jsx(Be,{className:"h-6 w-6"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-xs font-medium",children:"Login"}),s.jsx(wa,{className:"h-3 w-3"})]})]}),m&&s.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Welcome"}),s.jsx("p",{className:"text-sm text-gray-600",children:"To access account and manage orders"})]}),s.jsx("button",{onClick:()=>{f(!1),he("/account/profile")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 mb-2",children:"LOGIN / SIGNUP"}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>{f(!1),he("/account/profile")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"Profile"}),s.jsx("button",{onClick:()=>{f(!1),he("/account/orders")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"Orders"}),s.jsx("button",{onClick:()=>{f(!1),he("/account/gift-cards")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"Gift Cards"}),s.jsx("button",{onClick:()=>{f(!1),he("/account/rewards")},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"Rewards"}),s.jsx("button",{onClick:()=>ze(()=>P("/help-support")),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 rounded",children:"Help & Support"})]})]})})]}),s.jsxs("button",{onClick:Wn,className:`relative flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1 ${B?"cart-pulse-active":""}`,"aria-label":"View cart",children:[s.jsx(Vt,{className:"h-6 w-6 cart-icon"}),s.jsx("span",{className:"text-xs font-medium",children:"Cart"})]}),s.jsxs("button",{onClick:()=>P("/become-seller"),className:"flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1","aria-label":"Become a Seller",children:[s.jsx(zP,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:"Become a Seller"})]}),s.jsxs("div",{className:"relative more-dropdown",children:[s.jsxs("button",{onClick:ge,className:"flex flex-col items-center space-y-1 text-gray-700 hover:text-blue-600 transition-colors duration-200 px-2 py-1","aria-label":"More options",children:[s.jsx(Jx,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:"More"})]}),y&&s.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx("button",{onClick:()=>It(()=>P("/notification-preferences")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Notification Preferences"}),s.jsx("button",{onClick:()=>It(()=>P("/customer-care")),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"24x7 Customer Care"}),s.jsxs("button",{onClick:()=>It(()=>{P("/download-app")}),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),s.jsx("span",{children:"Download App"})]})]})})]})]})})]})})}),s.jsx("main",{id:"main-content",className:`flex-1 z-base ${E.isAuthenticated||et?"pb-16":"pb-4"}`,role:"main",tabIndex:-1,children:s.jsx(qR,{triggerCartConfirmation:V,triggerGlobalConfirmation:Q,children:e})}),!i&&s.jsx(ER,{})]}),s.jsx(UR,{isOpen:x,onClose:()=>g(!1),onAddressSelect:Ms,addresses:O,defaultAddressId:I}),s.jsx(zR,{isVisible:H.isVisible,productName:H.productName,productImage:H.productImage,onClose:ae}),s.jsx(VR,{isVisible:se.isVisible,productName:se.productName,productImage:se.productImage,currentCartCount:se.cartCount,cartTotal:se.cartTotal,onClose:J})]})]})},At=({children:e,requireAuth:t=!0,redirectTo:r})=>{const{isAuthenticated:n}=de(i=>i.auth),a=ts();return console.log("[ProtectedRoute] isAuthenticated:",n,"path:",a.pathname),t&&!n?r?s.jsx(nr,{to:r,replace:!0}):s.jsx(nr,{to:"/login",replace:!0}):s.jsx(s.Fragment,{children:e})};class HR extends N.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Global Error Boundary caught an error:",t,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const WR=({products:e,className:t=""})=>{const[r,n]=N.useState(0),[a,i]=N.useState(!0),o=ne(),l=()=>{if(e.length<=4)return 0;const j=4,w=e.length;return Math.max(0,w-j)};N.useEffect(()=>{if(!a||e.length<=4)return;const j=setInterval(()=>{n(w=>{const y=l();return w>=y?0:w+1})},3e3);return()=>clearInterval(j)},[a,e.length,r]);const d=()=>{const j=l();r<j&&n(w=>w+1)},c=()=>{r>0&&n(j=>j-1)},u=r===0,h=r>=l(),m=j=>{if(!j.id){console.error("Product ID is missing:",j);return}try{o(`/product/${j.id}`)}catch(w){console.error("Navigation error:",w),o("/products")}},f=()=>{i(!1)},p=()=>{i(!0)};if(!e||e.length===0)return null;const v=()=>{if(e.length<=4)return 0;const j=e.length,w=4,y=l();return r>=y?-((j-w)/j*100):-(r/j*100)};return s.jsxs("div",{className:`relative w-full ${t}`,onMouseEnter:f,onMouseLeave:p,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-neutral-900 mb-2",children:" Top Selling"}),s.jsx("p",{className:"text-sm sm:text-base text-neutral-600",children:"Most popular products this week"})]}),e.length>4&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D.button,{whileHover:u?{}:{scale:1.1,rotate:-5,boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)",transition:{duration:.3,ease:"easeOut"}},whileTap:u?{}:{scale:.95,transition:{duration:.1}},onClick:c,disabled:u,className:`p-3 rounded-lg shadow-flipkart transition-all duration-300 ${u?"bg-neutral-100 border border-neutral-200 cursor-not-allowed":"bg-white border border-neutral-300 hover:shadow-flipkart-hover hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50"}`,"aria-label":"Previous products",children:s.jsx(C3,{className:`h-4 w-4 ${u?"text-neutral-400":"text-neutral-600"}`})}),s.jsx(D.button,{whileHover:h?{}:{scale:1.1,rotate:5,boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)",transition:{duration:.3,ease:"easeOut"}},whileTap:h?{}:{scale:.95,transition:{duration:.1}},onClick:d,disabled:h,className:`p-3 rounded-lg shadow-flipkart transition-all duration-300 ${h?"bg-neutral-100 border border-neutral-200 cursor-not-allowed":"bg-white border border-neutral-300 hover:shadow-flipkart-hover hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50"}`,"aria-label":"Next products",children:s.jsx(Rr,{className:`h-4 w-4 ${h?"text-neutral-400":"text-neutral-600"}`})})]})]}),s.jsx("div",{className:"relative overflow-hidden",children:s.jsx(D.div,{className:"flex space-x-4",animate:{x:`${v()}%`},transition:{duration:.8,ease:[.25,.46,.45,.94],type:"spring",stiffness:100,damping:20},children:e.map((j,w)=>{var y;return s.jsxs(D.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:w*.15,duration:.6,ease:[.25,.46,.45,.94],type:"spring",stiffness:120,damping:15},whileHover:{scale:1.08,y:-8,rotateY:2,transition:{duration:.3,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},onClick:()=>m(j),className:"flex-shrink-0 w-48 sm:w-52 md:w-56 lg:w-60 bg-white rounded-lg shadow-flipkart hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden group",role:"button",tabIndex:0,onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),m(j))},children:[s.jsxs("div",{className:"relative h-28 sm:h-32 overflow-hidden",children:[s.jsx(en,{image:{variants:{micro:j.image,thumb:j.image,small:j.image,medium:j.image,large:j.image,original:j.image}},size:"thumb",alt:j.name,className:"w-full h-full",productId:(y=j.id)==null?void 0:y.toString(),debug:!1}),s.jsx(D.div,{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-10 transition-all duration-300",whileHover:{scale:1.15},transition:{duration:.3}}),s.jsx(D.div,{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent",initial:{opacity:0},whileHover:{opacity:1,transition:{duration:.3,ease:"easeOut"}}}),s.jsx(D.div,{className:"absolute top-2 left-2",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{delay:w*.1+.3,duration:.5,type:"spring",stiffness:200,damping:15},whileHover:{scale:1.1,rotate:5,transition:{duration:.2}},children:s.jsx(D.div,{className:"bg-gradient-to-r from-secondary-500 to-orange-500 text-white px-2 py-1 rounded-md text-xs font-bold shadow-flipkart",whileHover:{boxShadow:"0 8px 25px rgba(255, 140, 0, 0.4)",transition:{duration:.3}},children:" Top"})})]}),s.jsxs(D.div,{className:"p-3 sm:p-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:w*.1+.4,duration:.4,ease:"easeOut"},children:[s.jsx(D.h3,{className:"font-semibold text-neutral-900 text-xs sm:text-sm line-clamp-2 group-hover:text-primary-600 transition-colors duration-300",whileHover:{scale:1.02,transition:{duration:.2}},children:j.name}),s.jsx(D.p,{className:"text-xs text-neutral-500 mt-2 capitalize font-medium",whileHover:{color:"#f97316",transition:{duration:.2}},children:j.category})]})]},j.id)})})}),e.length>4&&s.jsx(D.div,{className:"flex justify-center mt-4 space-x-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:Array.from({length:Math.ceil(e.length/4)}).map((j,w)=>{const y=w*4,b=l(),x=r===y,g=y>b;return s.jsx(D.button,{onClick:()=>{y<=b&&n(y)},disabled:g,whileHover:g?{}:{scale:1.3,transition:{duration:.2}},whileTap:g?{}:{scale:.9,transition:{duration:.1}},className:`h-2 rounded-full transition-all duration-300 ${x?"bg-gradient-to-r from-blue-500 to-indigo-600 w-6 shadow-lg":g?"bg-gray-200 w-2 cursor-not-allowed":"bg-gray-300 hover:bg-gradient-to-r hover:from-blue-400 hover:to-indigo-500 w-2 hover:w-4"}`,"aria-label":`Go to slide ${w+1}`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6+w*.1,duration:.3,type:"spring",stiffness:200}},w)})})]})};function R1(e,t){return function(){return e.apply(t,arguments)}}const{toString:KR}=Object.prototype,{getPrototypeOf:Dp}=Object,{iterator:Hd,toStringTag:O1}=Symbol,Wd=(e=>t=>{const r=KR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Rs=e=>(e=e.toLowerCase(),t=>Wd(t)===e),Kd=e=>t=>typeof t===e,{isArray:Ya}=Array,Ba=Kd("undefined");function Mo(e){return e!==null&&!Ba(e)&&e.constructor!==null&&!Ba(e.constructor)&&qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const M1=Rs("ArrayBuffer");function QR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&M1(e.buffer),t}const GR=Kd("string"),qt=Kd("function"),L1=Kd("number"),Lo=e=>e!==null&&typeof e=="object",YR=e=>e===!0||e===!1,Dl=e=>{if(Wd(e)!=="object")return!1;const t=Dp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(O1 in e)&&!(Hd in e)},JR=e=>{if(!Lo(e)||Mo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XR=Rs("Date"),ZR=Rs("File"),eO=Rs("Blob"),tO=Rs("FileList"),sO=e=>Lo(e)&&qt(e.pipe),rO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qt(e.append)&&((t=Wd(e))==="formdata"||t==="object"&&qt(e.toString)&&e.toString()==="[object FormData]"))},nO=Rs("URLSearchParams"),[aO,iO,oO,lO]=["ReadableStream","Request","Response","Headers"].map(Rs),cO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _o(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ya(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Mo(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function _1(e,t){if(Mo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D1=e=>!Ba(e)&&e!==bn;function Pm(){const{caseless:e,skipUndefined:t}=D1(this)&&this||{},r={},n=(a,i)=>{const o=e&&_1(r,i)||i;Dl(r[o])&&Dl(a)?r[o]=Pm(r[o],a):Dl(a)?r[o]=Pm({},a):Ya(a)?r[o]=a.slice():(!t||!Ba(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&_o(arguments[a],n);return r}const dO=(e,t,r,{allOwnKeys:n}={})=>(_o(t,(a,i)=>{r&&qt(a)?e[i]=R1(a,r):e[i]=a},{allOwnKeys:n}),e),uO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hO=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mO=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Dp(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fO=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},pO=e=>{if(!e)return null;if(Ya(e))return e;let t=e.length;if(!L1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dp(Uint8Array)),gO=(e,t)=>{const n=(e&&e[Hd]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},yO=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vO=Rs("HTMLFormElement"),bO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),ay=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jO=Rs("RegExp"),I1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_o(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},wO=e=>{I1(e,(t,r)=>{if(qt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(qt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NO=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Ya(e)?n(e):n(String(e).split(t)),r},SO=()=>{},kO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function CO(e){return!!(e&&qt(e.append)&&e[O1]==="FormData"&&e[Hd])}const PO=e=>{const t=new Array(10),r=(n,a)=>{if(Lo(n)){if(t.indexOf(n)>=0)return;if(Mo(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Ya(n)?[]:{};return _o(n,(o,l)=>{const d=r(o,a+1);!Ba(d)&&(i[l]=d)}),t[a]=void 0,i}}return n};return r(e,0)},AO=Rs("AsyncFunction"),EO=e=>e&&(Lo(e)||qt(e))&&qt(e.then)&&qt(e.catch),$1=((e,t)=>e?setImmediate:t?((r,n)=>(bn.addEventListener("message",({source:a,data:i})=>{a===bn&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qt(bn.postMessage)),TO=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||$1,RO=e=>e!=null&&qt(e[Hd]),U={isArray:Ya,isArrayBuffer:M1,isBuffer:Mo,isFormData:rO,isArrayBufferView:QR,isString:GR,isNumber:L1,isBoolean:YR,isObject:Lo,isPlainObject:Dl,isEmptyObject:JR,isReadableStream:aO,isRequest:iO,isResponse:oO,isHeaders:lO,isUndefined:Ba,isDate:XR,isFile:ZR,isBlob:eO,isRegExp:jO,isFunction:qt,isStream:sO,isURLSearchParams:nO,isTypedArray:xO,isFileList:tO,forEach:_o,merge:Pm,extend:dO,trim:cO,stripBOM:uO,inherits:hO,toFlatObject:mO,kindOf:Wd,kindOfTest:Rs,endsWith:fO,toArray:pO,forEachEntry:gO,matchAll:yO,isHTMLForm:vO,hasOwnProperty:ay,hasOwnProp:ay,reduceDescriptors:I1,freezeMethods:wO,toObjectSet:NO,toCamelCase:bO,noop:SO,toFiniteNumber:kO,findKey:_1,global:bn,isContextDefined:D1,isSpecCompliantForm:CO,toJSONObject:PO,isAsyncFn:AO,isThenable:EO,setImmediate:$1,asap:TO,isIterable:RO};function fe(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}U.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const F1=fe.prototype,B1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B1[e]={value:e}});Object.defineProperties(fe,B1);Object.defineProperty(F1,"isAxiosError",{value:!0});fe.from=(e,t,r,n,a,i)=>{const o=Object.create(F1);U.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return fe.call(o,l,d,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const OO=null;function Am(e){return U.isPlainObject(e)||U.isArray(e)}function U1(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function iy(e,t,r){return e?e.concat(t).map(function(a,i){return a=U1(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function MO(e){return U.isArray(e)&&!e.some(Am)}const LO=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function Qd(e,t,r){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!U.isUndefined(j[v])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(a))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(U.isDate(p))return p.toISOString();if(U.isBoolean(p))return p.toString();if(!d&&U.isBlob(p))throw new fe("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(p)||U.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,j){let w=p;if(p&&!j&&typeof p=="object"){if(U.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(U.isArray(p)&&MO(p)||(U.isFileList(p)||U.endsWith(v,"[]"))&&(w=U.toArray(p)))return v=U1(v),w.forEach(function(b,x){!(U.isUndefined(b)||b===null)&&t.append(o===!0?iy([v],x,i):o===null?v:v+"[]",c(b))}),!1}return Am(p)?!0:(t.append(iy(j,v,i),c(p)),!1)}const h=[],m=Object.assign(LO,{defaultVisitor:u,convertValue:c,isVisitable:Am});function f(p,v){if(!U.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(p),U.forEach(p,function(w,y){(!(U.isUndefined(w)||w===null)&&a.call(t,w,U.isString(y)?y.trim():y,v,m))===!0&&f(w,v?v.concat(y):[y])}),h.pop()}}if(!U.isObject(e))throw new TypeError("data must be an object");return f(e),t}function oy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ip(e,t){this._pairs=[],e&&Qd(e,this,t)}const z1=Ip.prototype;z1.append=function(t,r){this._pairs.push([t,r])};z1.toString=function(t){const r=t?function(n){return t.call(this,n,oy)}:oy;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function _O(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function V1(e,t,r){if(!t)return e;const n=r&&r.encode||_O;U.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=U.isURLSearchParams(t)?t.toString():new Ip(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ly{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(n){n!==null&&t(n)})}}const q1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DO=typeof URLSearchParams<"u"?URLSearchParams:Ip,IO=typeof FormData<"u"?FormData:null,$O=typeof Blob<"u"?Blob:null,FO={isBrowser:!0,classes:{URLSearchParams:DO,FormData:IO,Blob:$O},protocols:["http","https","file","blob","url","data"]},$p=typeof window<"u"&&typeof document<"u",Em=typeof navigator=="object"&&navigator||void 0,BO=$p&&(!Em||["ReactNative","NativeScript","NS"].indexOf(Em.product)<0),UO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zO=$p&&window.location.href||"http://localhost",VO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$p,hasStandardBrowserEnv:BO,hasStandardBrowserWebWorkerEnv:UO,navigator:Em,origin:zO},Symbol.toStringTag,{value:"Module"})),kt={...VO,...FO};function qO(e,t){return Qd(e,new kt.classes.URLSearchParams,{visitor:function(r,n,a,i){return kt.isNode&&U.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function HO(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WO(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function H1(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&U.isArray(a)?a.length:o,d?(U.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!U.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&U.isArray(a[o])&&(a[o]=WO(a[o])),!l)}if(U.isFormData(e)&&U.isFunction(e.entries)){const r={};return U.forEachEntry(e,(n,a)=>{t(HO(n),a,r,0)}),r}return null}function KO(e,t,r){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Do={transitional:q1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=U.isObject(t);if(i&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return a?JSON.stringify(H1(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qO(t,this.formSerializer).toString();if((l=U.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Qd(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),KO(t)):t}],transformResponse:[function(t){const r=this.transitional||Do.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?fe.from(l,fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],e=>{Do.headers[e]={}});const QO=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GO=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&QO[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},cy=Symbol("internals");function hi(e){return e&&String(e).trim().toLowerCase()}function Il(e){return e===!1||e==null?e:U.isArray(e)?e.map(Il):String(e)}function YO(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const JO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xu(e,t,r,n,a){if(U.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!U.isString(t)){if(U.isString(n))return t.indexOf(n)!==-1;if(U.isRegExp(n))return n.test(t)}}function XO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ZO(e,t){const r=U.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Ht=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,d,c){const u=hi(d);if(!u)throw new Error("header name must be a non-empty string");const h=U.findKey(a,u);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||d]=Il(l))}const o=(l,d)=>U.forEach(l,(c,u)=>i(c,u,d));if(U.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(U.isString(t)&&(t=t.trim())&&!JO(t))o(GO(t),r);else if(U.isObject(t)&&U.isIterable(t)){let l={},d,c;for(const u of t){if(!U.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?U.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=hi(t),t){const n=U.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return YO(a);if(U.isFunction(r))return r.call(this,a,n);if(U.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=hi(t),t){const n=U.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Xu(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=hi(o),o){const l=U.findKey(n,o);l&&(!r||Xu(n,n[l],l,r))&&(delete n[l],a=!0)}}return U.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Xu(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return U.forEach(this,(a,i)=>{const o=U.findKey(n,i);if(o){r[o]=Il(a),delete r[i];return}const l=t?XO(i):String(i).trim();l!==i&&delete r[i],r[l]=Il(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return U.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&U.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[cy]=this[cy]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=hi(o);n[l]||(ZO(a,o),n[l]=!0)}return U.isArray(t)?t.forEach(i):i(t),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Ht.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});U.freezeMethods(Ht);function Zu(e,t){const r=this||Do,n=t||r,a=Ht.from(n.headers);let i=n.data;return U.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function W1(e){return!!(e&&e.__CANCEL__)}function Ja(e,t,r){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,r),this.name="CanceledError"}U.inherits(Ja,fe,{__CANCEL__:!0});function K1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new fe("Request failed with status code "+r.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function eM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tM(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[i];o||(o=c),r[a]=d,n[a]=c;let h=i,m=0;for(;h!==a;)m+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(m*1e3/f):void 0}}function sM(e,t){let r=0,n=1e3/t,a,i;const o=(c,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?o(c,u):(a=c,i||(i=setTimeout(()=>{i=null,o(a)},n-h)))},()=>a&&o(a)]}const Fc=(e,t,r=3)=>{let n=0;const a=tM(50,250);return sM(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,c=a(d),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},dy=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uy=e=>(...t)=>U.asap(()=>e(...t)),rM=kt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,kt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,nM=kt.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];U.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),U.isString(n)&&o.push("path="+n),U.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Q1(e,t,r){let n=!aM(t);return e&&(n||r==!1)?iM(e,t):t}const hy=e=>e instanceof Ht?{...e}:e;function Ln(e,t){t=t||{};const r={};function n(c,u,h,m){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:m},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function a(c,u,h,m){if(U.isUndefined(u)){if(!U.isUndefined(c))return n(void 0,c,h,m)}else return n(c,u,h,m)}function i(c,u){if(!U.isUndefined(u))return n(void 0,u)}function o(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,h)=>a(hy(c),hy(u),h,!0)};return U.forEach(Object.keys({...e,...t}),function(u){const h=d[u]||a,m=h(e[u],t[u],u);U.isUndefined(m)&&h!==l||(r[u]=m)}),r}const G1=e=>{const t=Ln({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ht.from(o),t.url=V1(Q1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),U.isFormData(r)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(U.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,h])=>{c.includes(u.toLowerCase())&&o.set(u,h)})}}if(kt.hasStandardBrowserEnv&&(n&&U.isFunction(n)&&(n=n(t)),n||n!==!1&&rM(t.url))){const d=a&&i&&nM.read(i);d&&o.set(a,d)}return t},oM=typeof XMLHttpRequest<"u",lM=oM&&function(e){return new Promise(function(r,n){const a=G1(e);let i=a.data;const o=Ht.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=a,u,h,m,f,p;function v(){f&&f(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function w(){if(!j)return;const b=Ht.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),g={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:b,config:e,request:j};K1(function(P){r(P),v()},function(P){n(P),v()},g),j=null}"onloadend"in j?j.onloadend=w:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(w)},j.onabort=function(){j&&(n(new fe("Request aborted",fe.ECONNABORTED,e,j)),j=null)},j.onerror=function(x){const g=x&&x.message?x.message:"Network Error",S=new fe(g,fe.ERR_NETWORK,e,j);S.event=x||null,n(S),j=null},j.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const g=a.transitional||q1;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),n(new fe(x,g.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&U.forEach(o.toJSON(),function(x,g){j.setRequestHeader(g,x)}),U.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),l&&l!=="json"&&(j.responseType=a.responseType),c&&([m,p]=Fc(c,!0),j.addEventListener("progress",m)),d&&j.upload&&([h,f]=Fc(d),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(u=b=>{j&&(n(!b||b.type?new Ja(null,e,j):b),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=eM(a.url);if(y&&kt.protocols.indexOf(y)===-1){n(new fe("Unsupported protocol "+y+":",fe.ERR_BAD_REQUEST,e));return}j.send(i||null)})},cM=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(c){if(!a){a=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof fe?u:new Ja(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>U.asap(l),d}},dM=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},uM=async function*(e,t){for await(const r of hM(e))yield*dM(r,t)},hM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},my=(e,t,r,n)=>{const a=uM(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){l(),d.close();return}let h=u.byteLength;if(r){let m=i+=h;r(m)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},fy=64*1024,{isFunction:ml}=U,mM=(({Request:e,Response:t})=>({Request:e,Response:t}))(U.global),{ReadableStream:py,TextEncoder:xy}=U.global,gy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fM=e=>{e=U.merge.call({skipUndefined:!0},mM,e);const{fetch:t,Request:r,Response:n}=e,a=t?ml(t):typeof fetch=="function",i=ml(r),o=ml(n);if(!a)return!1;const l=a&&ml(py),d=a&&(typeof xy=="function"?(p=>v=>p.encode(v))(new xy):async p=>new Uint8Array(await new r(p).arrayBuffer())),c=i&&l&&gy(()=>{let p=!1;const v=new r(kt.origin,{body:new py,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),u=o&&l&&gy(()=>U.isReadableStream(new n("").body)),h={stream:u&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(v,j)=>{let w=v&&v[p];if(w)return w.call(v);throw new fe(`Response type '${p}' is not supported`,fe.ERR_NOT_SUPPORT,j)})});const m=async p=>{if(p==null)return 0;if(U.isBlob(p))return p.size;if(U.isSpecCompliantForm(p))return(await new r(kt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(U.isArrayBufferView(p)||U.isArrayBuffer(p))return p.byteLength;if(U.isURLSearchParams(p)&&(p=p+""),U.isString(p))return(await d(p)).byteLength},f=async(p,v)=>{const j=U.toFiniteNumber(p.getContentLength());return j??m(v)};return async p=>{let{url:v,method:j,data:w,signal:y,cancelToken:b,timeout:x,onDownloadProgress:g,onUploadProgress:S,responseType:P,headers:k,withCredentials:E="same-origin",fetchOptions:A}=G1(p),T=t||fetch;P=P?(P+"").toLowerCase():"text";let M=cM([y,b&&b.toAbortSignal()],x),C=null;const R=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let O;try{if(S&&c&&j!=="get"&&j!=="head"&&(O=await f(k,w))!==0){let q=new r(v,{method:"POST",body:w,duplex:"half"}),H;if(U.isFormData(w)&&(H=q.headers.get("content-type"))&&k.setContentType(H),q.body){const[X,se]=dy(O,Fc(uy(S)));w=my(q.body,fy,X,se)}}U.isString(E)||(E=E?"include":"omit");const I=i&&"credentials"in r.prototype,F={...A,signal:M,method:j.toUpperCase(),headers:k.normalize().toJSON(),body:w,duplex:"half",credentials:I?E:void 0};C=i&&new r(v,F);let $=await(i?T(C,A):T(v,F));const L=u&&(P==="stream"||P==="response");if(u&&(g||L&&R)){const q={};["status","statusText","headers"].forEach(_=>{q[_]=$[_]});const H=U.toFiniteNumber($.headers.get("content-length")),[X,se]=g&&dy(H,Fc(uy(g),!0))||[];$=new n(my($.body,fy,X,()=>{se&&se(),R&&R()}),q)}P=P||"text";let B=await h[U.findKey(h,P)||"text"]($,p);return!L&&R&&R(),await new Promise((q,H)=>{K1(q,H,{data:B,headers:Ht.from($.headers),status:$.status,statusText:$.statusText,config:p,request:C})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,p,C),{cause:I.cause||I}):fe.from(I,I&&I.code,p,C)}}},pM=new Map,Y1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,d,c,u=pM;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:fM(t)),u=c;return c};Y1();const Tm={http:OO,xhr:lM,fetch:{get:Y1}};U.forEach(Tm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yy=e=>`- ${e}`,xM=e=>U.isFunction(e)||e===null||e===!1,J1={getAdapter:(e,t)=>{e=U.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!xM(n)&&(a=Tm[(l=String(n)).toLowerCase()],a===void 0))throw new fe(`Unknown adapter '${l}'`);if(a&&(U.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(yy).join(`
`):" "+yy(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Tm};function eh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ja(null,e)}function vy(e){return eh(e),e.headers=Ht.from(e.headers),e.data=Zu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),J1.getAdapter(e.adapter||Do.adapter,e)(e).then(function(n){return eh(e),n.data=Zu.call(e,e.transformResponse,n),n.headers=Ht.from(n.headers),n},function(n){return W1(n)||(eh(e),n&&n.response&&(n.response.data=Zu.call(e,e.transformResponse,n.response),n.response.headers=Ht.from(n.response.headers))),Promise.reject(n)})}const X1="1.12.2",Gd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const by={};Gd.transitional=function(t,r,n){function a(i,o){return"[Axios v"+X1+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new fe(a(o," has been removed"+(r?" in "+r:"")),fe.ERR_DEPRECATED);return r&&!by[o]&&(by[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Gd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function gM(e,t,r){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new fe("option "+i+" must be "+d,fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}}const $l={assertOptions:gM,validators:Gd},Ds=$l.validators;let Sn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ly,response:new ly}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ln(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&$l.assertOptions(n,{silentJSONParsing:Ds.transitional(Ds.boolean),forcedJSONParsing:Ds.transitional(Ds.boolean),clarifyTimeoutError:Ds.transitional(Ds.boolean)},!1),a!=null&&(U.isFunction(a)?r.paramsSerializer={serialize:a}:$l.assertOptions(a,{encode:Ds.function,serialize:Ds.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$l.assertOptions(r,{baseUrl:Ds.spelling("baseURL"),withXsrfToken:Ds.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&U.merge(i.common,i[r.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Ht.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,h=0,m;if(!d){const p=[vy.bind(this),void 0];for(p.unshift(...l),p.push(...c),m=p.length,u=Promise.resolve(r);h<m;)u=u.then(p[h++],p[h++]);return u}m=l.length;let f=r;for(;h<m;){const p=l[h++],v=l[h++];try{f=p(f)}catch(j){v.call(this,j);break}}try{u=vy.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,m=c.length;h<m;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Ln(this.defaults,t);const r=Q1(t.baseURL,t.url,t.allowAbsoluteUrls);return V1(r,t.params,t.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(t){Sn.prototype[t]=function(r,n){return this.request(Ln(n||{},{method:t,url:r,data:(n||{}).data}))}});U.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Ln(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Sn.prototype[t]=r(),Sn.prototype[t+"Form"]=r(!0)});let yM=class Z1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Ja(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Z1(function(a){t=a}),cancel:t}}};function vM(e){return function(r){return e.apply(null,r)}}function bM(e){return U.isObject(e)&&e.isAxiosError===!0}const Rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rm).forEach(([e,t])=>{Rm[t]=e});function eN(e){const t=new Sn(e),r=R1(Sn.prototype.request,t);return U.extend(r,Sn.prototype,t,{allOwnKeys:!0}),U.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return eN(Ln(e,a))},r}const Ye=eN(Do);Ye.Axios=Sn;Ye.CanceledError=Ja;Ye.CancelToken=yM;Ye.isCancel=W1;Ye.VERSION=X1;Ye.toFormData=Qd;Ye.AxiosError=fe;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=vM;Ye.isAxiosError=bM;Ye.mergeConfig=Ln;Ye.AxiosHeaders=Ht;Ye.formToJSON=e=>H1(U.isHTMLForm(e)?new FormData(e):e);Ye.getAdapter=J1.getAdapter;Ye.HttpStatusCode=Rm;Ye.default=Ye;const{Axios:N_,AxiosError:S_,CanceledError:k_,isCancel:C_,CancelToken:P_,VERSION:A_,all:E_,Cancel:T_,isAxiosError:R_,spread:O_,toFormData:M_,AxiosHeaders:L_,HttpStatusCode:__,formToJSON:D_,getAdapter:I_,mergeConfig:$_}=Ye,tN="http://localhost:5001",Bc=Ye.create({baseURL:tN,withCredentials:!0});Bc.interceptors.request.use(e=>{var n,a;const r=(a=(n=Cc.getState().auth)==null?void 0:n.tokens)==null?void 0:a.accessToken;return r&&(e.headers.Authorization=`Bearer ${r}`),e});Bc.interceptors.response.use(e=>e,async e=>{var t,r;if(((t=e==null?void 0:e.response)==null?void 0:t.status)===401)try{const n=await Ye.post(`${tN}/api/auth/refresh`);if((r=n.data)!=null&&r.accessToken)return Cc.dispatch({type:"auth/setTokens",payload:{accessToken:n.data.accessToken,refreshToken:n.data.refreshToken||null}}),e.config.headers.Authorization=`Bearer ${n.data.accessToken}`,Bc.request(e.config)}catch{console.log("Auto-logout: refresh token failed"),Cc.dispatch({type:"auth/logout"}),window.location.href="/login"}return Promise.reject(e)});function sN(){async function e(){var t;try{const r=await Bc.post("/api/auth/refresh");return(t=r.data)!=null&&t.accessToken?(localStorage.setItem("accessToken",r.data.accessToken),!0):!1}catch{return!1}}return{refreshToken:e}}const Om={biscuit:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",laddu:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",chocolate:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",default:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k="},jy={biscuit:["#FF6B6B","#FF8E8E","#FFB1B1"],laddu:["#4ECDC4","#7EDDD6","#A8E6E1"],chocolate:["#8B4513","#A0522D","#CD853F"],default:["#95A5A6","#BDC3C7","#D5DBDB"]},Se=(e="default",t="Product",r=300,n=300)=>{const a=jy[e]||jy.default,i=a[Math.floor(Math.random()*a.length)],o=`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${n}">
    <rect width="100%" height="100%" fill="${i}"/>
    <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16">${t}</text>
  </svg>`;return{src:`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(o)))}`,lqip:Om[e]||Om.default,alt:`${t} - ${e}`,width:r,height:n}};Se("biscuit","Parle-G Original",300,300),Se("biscuit","Monaco Salted",300,300),Se("biscuit","Good Day Cashew",300,300),Se("biscuit","Marie Gold",300,300),Se("biscuit","Oreo Original",300,300),Se("biscuit","Bourbon Chocolate",300,300),Se("biscuit","Cream Biscuits",300,300),Se("biscuit","Digestive Biscuits",300,300),Se("biscuit","Coconut Biscuits",300,300),Se("biscuit","Butter Biscuits",300,300),Se("laddu","Besan Laddu",300,300),Se("laddu","Rava Laddu",300,300),Se("laddu","Coconut Laddu",300,300),Se("laddu","Motichoor Laddu",300,300),Se("laddu","Kaju Laddu",300,300),Se("laddu","Badam Laddu",300,300),Se("laddu","Pista Laddu",300,300),Se("laddu","Dry Fruit Laddu",300,300),Se("laddu","Til Laddu",300,300),Se("laddu","Gur Laddu",300,300),Se("chocolate","Milk Chocolate Bar",300,300),Se("chocolate","Dark Chocolate Bar",300,300),Se("chocolate","White Chocolate Bar",300,300),Se("chocolate","Chocolate Truffles",300,300),Se("chocolate","Chocolate Coins",300,300),Se("chocolate","Chocolate Balls",300,300),Se("chocolate","Chocolate Cookies",300,300),Se("chocolate","Chocolate Biscuits",300,300),Se("chocolate","Chocolate Wafers",300,300),Se("chocolate","Chocolate Cream",300,300);const jM=(e="Image",t=300,r=300,n="FF6B6B",a="4ECDC4")=>{const i=`<svg xmlns="http://www.w3.org/2000/svg" width="${t}" height="${r}">
    <defs>
      <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#${n};stop-opacity:1" />
        <stop offset="100%" style="stop-color:#${a};stop-opacity:1" />
      </linearGradient>
    </defs>
    <rect width="100%" height="100%" fill="url(#grad)"/>
    <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16">${e}</text>
  </svg>`;return{src:`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(i)))}`,lqip:Om.default}},wy=()=>{var b;const e=ne(),t=ft(),r=de(x=>x.auth),[n,a]=N.useState("all");console.log(" HomePage rendering - Auth state:",{isAuthenticated:r.isAuthenticated,user:r.user,hasTokens:!!(r.tokens.accessToken&&r.tokens.refreshToken)});const{data:i,isLoading:o,error:l,refetch:d}=sp({limit:100});N.useEffect(()=>{var x,g;if(console.log("[HomePage] productsData loaded:",(x=i==null?void 0:i.products)==null?void 0:x.length,"products"),((g=i==null?void 0:i.products)==null?void 0:g.length)>0){const S=i.products[0];if(console.log("[HomePage] first product sample:",S),console.log("[HomePage] first product images structure:",S.images),S.images&&S.images.length>0){const P=S.images[0];console.log("[HomePage] first image object:",P),console.log("[HomePage] first image keys:",Object.keys(P||{})),console.log("[HomePage] has variants:","variants"in P),console.log("[HomePage] has formats:","formats"in P),console.log("[HomePage] has metadata:","metadata"in P),P.variants&&(console.log("[HomePage] variants keys:",Object.keys(P.variants)),console.log("[HomePage] variants.small:",P.variants.small)),P.formats&&(console.log("[HomePage] formats keys:",Object.keys(P.formats)),console.log("[HomePage] formats.avif:",P.formats.avif)),P.metadata&&(console.log("[HomePage] metadata keys:",Object.keys(P.metadata)),console.log("[HomePage] metadata.aspectRatio:",P.metadata.aspectRatio))}}},[i]);const[c]=Ld(),{success:u,error:h}=Ts(),{showOtpModal:m}=Dd(),{refreshToken:f}=sN();N.useEffect(()=>{(async()=>{var g;if(r.isAuthenticated&&((g=r.tokens)!=null&&g.accessToken))try{const S=JSON.parse(atob(r.tokens.accessToken.split(".")[1])),P=Math.floor(Date.now()/1e3);S.exp<P&&(console.log(" Access token expired, attempting to refresh..."),await f()||console.log(" Token refresh failed, user will be logged out"))}catch{console.log(" Invalid token format, attempting to refresh..."),await f()||console.log(" Token refresh failed, user will be logged out")}})()},[r.isAuthenticated,(b=r.tokens)==null?void 0:b.accessToken,t,f]),N.useEffect(()=>{if(r.isAuthenticated)return;if(new URLSearchParams(window.location.search).get("showLogin")==="true"){m("/account/profile");const S=window.location.pathname;window.history.replaceState({},"",S)}},[m,r.isAuthenticated]);const p=N.useMemo(()=>!(i!=null&&i.products)||i.products.length===0?[]:[...i.products].sort(()=>Math.random()-.5).slice(0,8).map(g=>{var S,P,k,E,A,T,M,C,R,O;return{_id:g._id||g.id,id:g._id||g.id,name:g.name,image:((k=(P=(S=g.images)==null?void 0:S[0])==null?void 0:P.variants)==null?void 0:k.small)||((T=(A=(E=g.images)==null?void 0:E[0])==null?void 0:A.variants)==null?void 0:T.thumb)||((C=(M=g.images)==null?void 0:M[0])==null?void 0:C.thumb)||((O=(R=g.images)==null?void 0:R[0])==null?void 0:O.full)||"/placeholder-product.svg",category:g.category}}),[i==null?void 0:i.products]),v=N.useMemo(()=>!(i!=null&&i.products)||i.products.length===0?[]:[...i.products].sort(()=>Math.random()-.5).slice(0,6).map(g=>{var S,P,k,E,A,T,M,C,R,O;return{id:g._id||g.id,name:g.name,image:((k=(P=(S=g.images)==null?void 0:S[0])==null?void 0:P.variants)==null?void 0:k.small)||((T=(A=(E=g.images)==null?void 0:E[0])==null?void 0:A.variants)==null?void 0:T.thumb)||((C=(M=g.images)==null?void 0:M[0])==null?void 0:C.thumb)||((O=(R=g.images)==null?void 0:R[0])==null?void 0:O.full)||"/placeholder-product.svg",category:g.category,price:g.price,mrp:g.mrp||g.price*1.2,discountedPrice:g.price,originalPrice:g.mrp?g.mrp:g.price*1.2,discount:g.mrp?Math.round((g.mrp-g.price)/g.mrp*100):20}}),[i==null?void 0:i.products]),j=N.useMemo(()=>!(i!=null&&i.products)||i.products.length===0?[]:i.products.slice(0,12).map(x=>({...x,_id:x._id||x.id,id:x._id||x.id,mrp:x.mrp||0,discount:x.mrp&&x.mrp>x.price?Math.round((x.mrp-x.price)/x.mrp*100):0})),[i==null?void 0:i.products]);N.useEffect(()=>{const x=()=>{document.hidden||d()},g=()=>{d()};return document.addEventListener("visibilitychange",x),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",x),window.removeEventListener("focus",g)}},[d]);const w=x=>{a(x)},y=async(x,g)=>{var S,P,k,E,A,T,M,C,R,O;if(g.stopPropagation(),!r.isAuthenticated){e("/login");return}try{t(Od({id:x._id||x.id,name:x.name,price:x.price,quantity:1,image:((k=(P=(S=x.images)==null?void 0:S[0])==null?void 0:P.variants)==null?void 0:k.small)||((T=(A=(E=x.images)==null?void 0:E[0])==null?void 0:A.variants)==null?void 0:T.thumb)||((C=(M=x.images)==null?void 0:M[0])==null?void 0:C.thumb)||((O=(R=x.images)==null?void 0:R[0])==null?void 0:O.full)||"/placeholder-product.svg"}));const I=await c({productId:x._id||x.id,quantity:1});I&&"data"in I&&I.data&&t(Md({items:I.data.cart.items,total:I.data.cart.total,itemCount:I.data.cart.itemCount})),u("Added to Cart",`${x.name} has been added to your cart.`)}catch(I){console.error("Error adding to cart:",I),h("Failed to add to cart","Please try again.")}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]})}):l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Products"}),s.jsx("p",{className:"text-gray-600 mb-4",children:l&&"message"in l?l.message:"Something went wrong while loading products."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsxs("div",{className:"sr-only",children:[s.jsx("h1",{children:"CS Store - Online Shopping for Electronics, Fashion & More"}),s.jsx("h2",{children:"Welcome to CS Store"}),s.jsx("p",{children:"CS Store is your one-stop destination for online shopping. Discover amazing deals on electronics, fashion, home & garden, and more. We offer fast delivery, secure payments, and excellent customer service."}),s.jsx("h3",{children:"Shop by Category"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Electronics - Latest smartphones, laptops, gadgets and more"}),s.jsx("li",{children:"Fashion - Trendy clothing, shoes, accessories for men and women"})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-secondary-50 via-orange-50 to-yellow-50 py-8 px-4 shadow-flipkart relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-orange-200 to-red-200 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-pink-200 to-orange-200 rounded-full blur-2xl"})]}),s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(WR,{products:p})})]}),!r.isAuthenticated&&s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Browse Categories"}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-7xl mx-auto",children:[s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("chocolates"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="chocolates"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Premium chocolates & more"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Chocolates"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 99"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]}),s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("biscuits"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="biscuits"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Crunchy & crispy"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Biscuits"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 49"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]}),s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("ladoos"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="ladoos"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Traditional sweets"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Festive Ladoos"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 199"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]}),s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("cakes"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="cakes"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Fresh baked daily"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Birthday Cakes"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 299"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]}),s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("hot_snacks"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="hot_snacks"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Spicy & tangy"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Hot Snacks"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 99"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]}),s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w("beverages"),className:`relative bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-8 text-white overflow-hidden group min-h-[200px] ${n==="beverages"?"ring-4 ring-orange-300":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-base opacity-90 mb-3",children:"Refreshing drinks"}),s.jsx("div",{className:"text-2xl font-bold mb-3",children:"Beverages"}),s.jsx("div",{className:"text-lg opacity-90",children:"From 29"})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 text-8xl opacity-20 group-hover:opacity-30 transition-opacity",children:""})]})]})]})}),!r.isAuthenticated&&s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Featured Products"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:j.map(x=>{var g;return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden group cursor-pointer",onClick:()=>e(`/product/${x._id||x.id}`),children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx(en,{image:((g=x.images)==null?void 0:g[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"small",alt:x.name,className:"w-full h-full group-hover:scale-105 transition-transform duration-300",productId:x._id||x.id,debug:!1}),x.discount>0&&s.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[x.discount,"% OFF"]}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 group-hover:bg-opacity-0 transition-opacity duration-300"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1 truncate",children:x.name}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:x.category}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",x.price.toFixed(2)]}),x.mrp&&x.mrp>x.price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",x.mrp.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center text-yellow-500",children:[s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx("span",{className:"ml-1 text-sm text-gray-600",children:"4.5"})]})]}),s.jsx("button",{onClick:S=>{if(S.stopPropagation(),!r.isAuthenticated){e("/login");return}y(x,S)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors duration-300 font-semibold",children:"Add to Cart"})]})]},x._id||x.id)})})]})}),!r.isAuthenticated&&s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-red-50 via-orange-50 to-yellow-50 py-8 px-4 shadow-lg relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-red-200 to-orange-200 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-yellow-200 to-red-200 rounded-full blur-2xl"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:" Top Deals"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Limited time offers - Don't miss out!"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map((x,g)=>{var S;return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:g*.1},className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 overflow-hidden group cursor-pointer",onClick:()=>e(`/product/${x.id}`),children:[s.jsxs("div",{className:"relative h-56 overflow-hidden",children:[s.jsx(en,{image:((S=x.images)==null?void 0:S[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"small",alt:x.name,className:"w-full h-full",productId:x.id,debug:!1}),x.discount>0&&s.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:[x.discount,"% OFF"]})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:x.name}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:x.category}),s.jsxs("div",{className:"flex items-baseline space-x-2 mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",x.discountedPrice.toFixed(2)]}),x.originalPrice>x.discountedPrice&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",x.originalPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("div",{className:"flex text-yellow-400",children:[s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx(ot,{className:"h-4 w-4 text-gray-300"})]}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"4.5"})]}),s.jsx("button",{onClick:P=>{if(P.stopPropagation(),!r.isAuthenticated){e("/login");return}y(x,P)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors duration-300 font-semibold",children:"Add to Cart"})]})]},x.id)})})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-16",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"For better experience, download the CS Store now"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Get the best shopping experience with our mobile app"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsx("button",{onClick:()=>e("/download-app"),className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:"Download App"}),s.jsx("button",{onClick:()=>e("/download-app"),className:"bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white hover:text-blue-600 transition-colors",children:"Learn More"})]}),s.jsxs("div",{className:"mt-8 flex justify-center space-x-8 text-blue-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),s.jsx("div",{className:"text-sm",children:"App Store Rating"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"1M+"}),s.jsx("div",{className:"text-sm",children:"Downloads"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),s.jsx("div",{className:"text-sm",children:"Support"})]})]})]})})}),s.jsxs("footer",{className:"bg-gray-900 text-white mt-16",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"ABOUT"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/contact-us",className:"hover:text-orange-400 transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(ce,{to:"/about-us",className:"hover:text-orange-400 transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx(ce,{to:"/careers",className:"hover:text-orange-400 transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx(ce,{to:"/cs-store-stories",className:"hover:text-orange-400 transition-colors",children:"CS Store Stories"})}),s.jsx("li",{children:s.jsx(ce,{to:"/corporate-information",className:"hover:text-orange-400 transition-colors",children:"Corporate Information"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"HELP"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/payment",className:"hover:text-orange-400 transition-colors",children:"Payments"})}),s.jsx("li",{children:s.jsx(ce,{to:"/shipping",className:"hover:text-orange-400 transition-colors",children:"Shipping"})}),s.jsx("li",{children:s.jsx(ce,{to:"/cancellation",className:"hover:text-orange-400 transition-colors",children:"Cancellation & Returns"})}),s.jsx("li",{children:s.jsx(ce,{to:"/faq",className:"hover:text-orange-400 transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx(ce,{to:"/report-infringement",className:"hover:text-orange-400 transition-colors",children:"Report Infringement"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"CONSUMER POLICY"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/terms",className:"hover:text-orange-400 transition-colors",children:"Terms Of Use"})}),s.jsx("li",{children:s.jsx(ce,{to:"/security",className:"hover:text-orange-400 transition-colors",children:"Security"})}),s.jsx("li",{children:s.jsx(ce,{to:"/privacy",className:"hover:text-orange-400 transition-colors",children:"Privacy"})}),s.jsx("li",{children:s.jsx(ce,{to:"/sitemap",className:"hover:text-orange-400 transition-colors",children:"Sitemap"})}),s.jsx("li",{children:s.jsx(ce,{to:"/grievance",className:"hover:text-orange-400 transition-colors",children:"Grievance Redressal"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Mail Us:"}),s.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["CS Store Internet Private Limited,",s.jsx("br",{}),"Buildings Alyssa, Begonia & Clove Embassy Tech Village,",s.jsx("br",{}),"Outer Ring Road, Devarabeesanahalli Village,",s.jsx("br",{}),"Bengaluru, 560103,",s.jsx("br",{}),"Karnataka, India"]}),s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Registered Office Address:"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["CS Store Internet Private Limited,",s.jsx("br",{}),"Buildings Alyssa, Begonia & Clove Embassy Tech Village,",s.jsx("br",{}),"Outer Ring Road, Devarabeesanahalli Village,",s.jsx("br",{}),"Bengaluru, 560103,",s.jsx("br",{}),"Karnataka, India",s.jsx("br",{}),"CIN : U51109KA2012PTC066107",s.jsx("br",{}),"Telephone:"," ",s.jsx("a",{href:"tel:044-45614700",className:"hover:text-orange-400",children:"044-45614700"})]})]})]})}),s.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 pb-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[s.jsxs("div",{className:"flex space-x-6 mb-4 md:mb-0",children:[s.jsx(ce,{to:"/seller",className:"hover:text-orange-400",children:"Become a Seller"}),s.jsx(ce,{to:"/advertise",className:"hover:text-orange-400",children:"Advertise"}),s.jsx(ce,{to:"/gift-cards",className:"hover:text-orange-400",children:"Gift Cards"}),s.jsx(ce,{to:"/help",className:"hover:text-orange-400",children:"Help Center"})]}),s.jsx("div",{className:"mb-4 md:mb-0",children:" 2023-2024 CS Store.com"}),s.jsx("div",{children:s.jsx("img",{src:jM("Banner",1200,300).src,alt:"Payment Methods",className:"h-6"})})]})})]})]})};function Ny(e){return e?e!=null&&e.variants?e.variants.thumb||e.variants.small||e.variants.micro||e.variants.medium||e.variants.original||"/placeholder-product.svg":typeof e=="object"?e.thumb||e.full||"/placeholder-product.svg":typeof e=="string"?!e.startsWith("http")&&!e.startsWith("/")?`http://localhost:5001/uploads/${e}`:e.startsWith("/uploads")?`http://localhost:5001${e}`:e:"/placeholder-product.svg":"/placeholder-product.svg"}function kn(e){var t;return((t=e==null?void 0:e.images)==null?void 0:t.length)>0?Ny(e.images[0]):e!=null&&e.image?Ny(e.image):"/placeholder-product.svg"}function rN(e,t="/placeholder-product.svg"){const r=e.currentTarget;r.src!==t&&(r.src=t)}function Rt({width:e="100%",height:t="1rem",className:r=""}){return s.jsx("div",{className:`bg-gray-200 rounded-lg animate-pulse ${r}`,style:{width:typeof e=="number"?`${e}px`:e,height:typeof t=="number"?`${t}px`:t,backgroundImage:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"}})}const nN=document.createElement("style");nN.textContent=`
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
`;document.head.appendChild(nN);function wM(){return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx(Rt,{height:"200px",className:"w-full"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(Rt,{height:"1.25rem",className:"w-3/4"}),s.jsx(Rt,{height:"1rem",className:"w-1/4"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Rt,{height:"0.75rem",className:"w-full"}),s.jsx(Rt,{height:"0.75rem",className:"w-5/6"})]}),s.jsx(Rt,{height:"2.5rem",className:"w-full mt-4"})]})]})}const NM=()=>{var b;const e=ne(),t=ft(),r=de(x=>x.auth),[n,a]=N.useState("all"),[i,o]=N.useState("price_low_high");console.log(" DashboardPage rendering - Auth state:",{isAuthenticated:r.isAuthenticated,user:r.user,hasTokens:!!(r.tokens.accessToken&&r.tokens.refreshToken)});const[l]=Ld(),{success:d,error:c}=Ts(),{refreshToken:u}=sN(),{triggerGlobalConfirmation:h}=_p();N.useEffect(()=>{(async()=>{var g;if(r.isAuthenticated&&((g=r.tokens)!=null&&g.accessToken))try{const S=JSON.parse(atob(r.tokens.accessToken.split(".")[1])),P=Math.floor(Date.now()/1e3);S.exp<P&&(console.log(" Access token expired, attempting to refresh..."),await u()||console.log(" Token refresh failed, user will be logged out"))}catch{console.log(" Invalid token format, attempting to refresh..."),await u()||console.log(" Token refresh failed, user will be logged out")}})()},[r.isAuthenticated,(b=r.tokens)==null?void 0:b.accessToken,t,u]);const{data:m,isLoading:f,error:p,refetch:v}=sp({limit:100}),j=N.useMemo(()=>{if(!(m!=null&&m.products)||m.products.length===0)return[];let x=m.products;return n!=="all"&&(x=m.products.filter(S=>S.category===n)),x=[...x].sort(()=>Math.random()-.5),[...x].sort((S,P)=>{switch(i){case"price_low_high":return S.price-P.price;case"price_high_low":return P.price-S.price;case"name_a_z":return S.name.localeCompare(P.name);case"name_z_a":return P.name.localeCompare(S.name);case"newest":return new Date(P.createdAt).getTime()-new Date(S.createdAt).getTime();case"oldest":return new Date(S.createdAt).getTime()-new Date(P.createdAt).getTime();default:return 0}}).map(S=>({...S,mrp:S.mrp||0,discount:S.mrp&&S.mrp>S.price?Math.round((S.mrp-S.price)/S.mrp*100):0}))},[m==null?void 0:m.products,n,i]),w=[{id:"all",name:"For You"},{id:"chocolates",name:"Chocolates"},{id:"biscuits",name:"Biscuits"},{id:"ladoos",name:"Ladoos"},{id:"cakes",name:"Cakes"},{id:"hot_snacks",name:"Hot Snacks"}];N.useEffect(()=>{const x=()=>{document.hidden||v()},g=()=>{v()};return document.addEventListener("visibilitychange",x),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",x),window.removeEventListener("focus",g)}},[v]);const y=async(x,g)=>{if(g.stopPropagation(),!r.isAuthenticated){e("/login");return}try{t(Od({id:x._id||x.id,name:x.name,price:x.price,quantity:1,image:kn(x)}));const S=await l({productId:x._id||x.id,quantity:1});S&&"data"in S&&S.data&&t(Md({items:S.data.cart.items,total:S.data.cart.total,itemCount:S.data.cart.itemCount}));const P=kn(x),k=S&&"data"in S&&S.data?S.data.cart.itemCount:1,E=S&&"data"in S&&S.data?S.data.cart.total:x.price;h(x.name,P,k,E),d("Added to Cart",`${x.name} has been added to your cart.`)}catch(S){console.error("Error adding to cart:",S),c("Failed to add to cart","Please try again.")}};return f?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]})}):p?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Products"}),s.jsx("p",{className:"text-gray-600 mb-4",children:p&&"message"in p?p.message:"Something went wrong while loading products."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsxs("div",{className:"sr-only",children:[s.jsx("h1",{children:"CS Store - Online Shopping for Electronics, Fashion & More"}),s.jsx("h2",{children:"Welcome to CS Store"}),s.jsx("p",{children:"CS Store is your one-stop destination for online shopping. Discover amazing deals on electronics, fashion, home & garden, and more. We offer fast delivery, secure payments, and excellent customer service."}),s.jsx("h3",{children:"Shop by Category"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Electronics - Latest smartphones, laptops, gadgets and more"}),s.jsx("li",{children:"Fashion - Trendy clothing, shoes, accessories for men and women"})]})]}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-8 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-8",children:[s.jsx("div",{className:"flex flex-wrap gap-4",children:w.map(x=>s.jsx("button",{onClick:()=>a(x.id),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${n===x.id?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x.name},x.id))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),s.jsxs("select",{value:i,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"price_low_high",children:"Price: Low to High"}),s.jsx("option",{value:"price_high_low",children:"Price: High to Low"}),s.jsx("option",{value:"name_a_z",children:"Name: A to Z"}),s.jsx("option",{value:"name_z_a",children:"Name: Z to A"}),s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]}),f?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:Array.from({length:8}).map((x,g)=>s.jsx(wM,{},g))}):j.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:j.map(x=>s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:()=>e(`/product/${x._id||x.id}`),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden group cursor-pointer",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:kn(x),alt:x.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:g=>rN(g)}),x.mrp&&x.mrp>x.price&&s.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[Math.round((x.mrp-x.price)/x.mrp*100),"% OFF"]}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 group-hover:bg-opacity-0 transition-opacity duration-300"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1 truncate",children:x.name}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:x.category}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",x.price.toFixed(2)]}),x.mrp&&x.mrp>x.price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",x.mrp.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center text-yellow-500",children:[s.jsx(ot,{className:"h-4 w-4 fill-current"}),s.jsx("span",{className:"ml-1 text-sm text-gray-600",children:"4.5"})]})]}),s.jsx("button",{onClick:g=>{if(g.stopPropagation(),!r.isAuthenticated){e("/login");return}y(x,g)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors duration-300 font-semibold",children:"Add to Cart"})]})]},x._id||x.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:n!=="all"?"Try adjusting your filter criteria.":"No products are available at the moment."}),n!=="all"&&s.jsx("button",{onClick:()=>a("all"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]})]})}),s.jsxs("footer",{className:"bg-gray-900 text-white mt-16",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"ABOUT"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/contact-us",className:"hover:text-orange-400 transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(ce,{to:"/about-us",className:"hover:text-orange-400 transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx(ce,{to:"/careers",className:"hover:text-orange-400 transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx(ce,{to:"/cs-store-stories",className:"hover:text-orange-400 transition-colors",children:"CS Store Stories"})}),s.jsx("li",{children:s.jsx(ce,{to:"/corporate-information",className:"hover:text-orange-400 transition-colors",children:"Corporate Information"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"HELP"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/payment",className:"hover:text-orange-400 transition-colors",children:"Payments"})}),s.jsx("li",{children:s.jsx(ce,{to:"/shipping",className:"hover:text-orange-400 transition-colors",children:"Shipping"})}),s.jsx("li",{children:s.jsx(ce,{to:"/cancellation",className:"hover:text-orange-400 transition-colors",children:"Cancellation & Returns"})}),s.jsx("li",{children:s.jsx(ce,{to:"/faq",className:"hover:text-orange-400 transition-colors",children:"FAQ"})}),s.jsx("li",{children:s.jsx(ce,{to:"/report-infringement",className:"hover:text-orange-400 transition-colors",children:"Report Infringement"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"CONSUMER POLICY"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ce,{to:"/terms",className:"hover:text-orange-400 transition-colors",children:"Terms Of Use"})}),s.jsx("li",{children:s.jsx(ce,{to:"/security",className:"hover:text-orange-400 transition-colors",children:"Security"})}),s.jsx("li",{children:s.jsx(ce,{to:"/privacy",className:"hover:text-orange-400 transition-colors",children:"Privacy"})}),s.jsx("li",{children:s.jsx(ce,{to:"/sitemap",className:"hover:text-orange-400 transition-colors",children:"Sitemap"})}),s.jsx("li",{children:s.jsx(ce,{to:"/grievance",className:"hover:text-orange-400 transition-colors",children:"Grievance Redressal"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Mail Us:"}),s.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["CS Store Internet Private Limited,",s.jsx("br",{}),"Buildings Alyssa, Begonia & Clove Embassy Tech Village,",s.jsx("br",{}),"Outer Ring Road, Devarabeesanahalli Village,",s.jsx("br",{}),"Bengaluru, 560103,",s.jsx("br",{}),"Karnataka, India"]}),s.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Registered Office Address:"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["CS Store Internet Private Limited,",s.jsx("br",{}),"Buildings Alyssa, Begonia & Clove Embassy Tech Village,",s.jsx("br",{}),"Outer Ring Road, Devarabeesanahalli Village,",s.jsx("br",{}),"Bengaluru, 560103,",s.jsx("br",{}),"Karnataka, India",s.jsx("br",{}),"CIN : U51109KA2012PTC066107",s.jsx("br",{}),"Telephone:"," ",s.jsx("a",{href:"tel:044-45614700",className:"hover:text-orange-400",children:"044-45614700"})]})]})]})}),s.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 pb-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[s.jsxs("div",{className:"flex space-x-6 mb-4 md:mb-0",children:[s.jsx(ce,{to:"/seller",className:"hover:text-orange-400",children:"Become a Seller"}),s.jsx(ce,{to:"/advertise",className:"hover:text-orange-400",children:"Advertise"}),s.jsx(ce,{to:"/gift-cards",className:"hover:text-orange-400",children:"Gift Cards"}),s.jsx(ce,{to:"/help",className:"hover:text-orange-400",children:"Help Center"})]}),s.jsx("div",{className:"mb-4 md:mb-0",children:" 2023-2024 CS Store.com"}),s.jsx("div",{children:s.jsx("div",{className:"text-sm text-gray-400",children:"Secure Payments Available"})})]})})]})]})},SM=N.memo(({product:e,onQuickView:t})=>{var p;const r=ft(),n=ne(),a=de(v=>v.auth),[i,{isLoading:o}]=Ld(),{success:l,error:d}=Ts(),[c,u]=N.useState(!1),{triggerGlobalConfirmation:h}=_p(),m=async()=>{var v,j,w,y,b,x,g,S,P,k,E,A,T,M,C,R,O,I;if(e.stock!==0){if(!a.isAuthenticated){u(!0);return}try{r(Od({id:e._id,name:e.name,price:e.price,image:((w=(j=(v=e.images)==null?void 0:v[0])==null?void 0:j.variants)==null?void 0:w.small)||((x=(b=(y=e.images)==null?void 0:y[0])==null?void 0:b.variants)==null?void 0:x.thumb)||"/placeholder-product.svg",quantity:1}));const F=await i({productId:e._id,quantity:1}).unwrap();F.cart&&r(Md({items:F.cart.items,total:F.cart.total,itemCount:F.cart.itemCount}));const $=((P=(S=(g=e.images)==null?void 0:g[0])==null?void 0:S.variants)==null?void 0:P.small)||((A=(E=(k=e.images)==null?void 0:k[0])==null?void 0:E.variants)==null?void 0:A.thumb)||"/placeholder-product.svg",L=((T=F.cart)==null?void 0:T.itemCount)||1,B=((M=F.cart)==null?void 0:M.total)||e.price;h(e.name,$,L,B),l(` Successfully added ${e.name} to cart`)}catch(F){console.error("Failed to add to cart:",F),((C=F==null?void 0:F.data)==null?void 0:C.error)==="Access token required"||(F==null?void 0:F.status)===401?u(!0):((R=F==null?void 0:F.data)==null?void 0:R.error)==="Product not found"||(F==null?void 0:F.status)===404?d("Product Not Found","This product is no longer available."):((O=F==null?void 0:F.data)==null?void 0:O.error)==="Insufficient stock"||((I=F==null?void 0:F.data)==null?void 0:I.error)==="Insufficient stock available"?d("Out of Stock","This item is currently out of stock."):(F==null?void 0:F.status)===403?d("Access Denied","You don't have permission to perform this action."):d("Unable to add to cart","Please try again.")}}},f=e.mrp?Math.round((e.mrp-e.price)/e.mrp*100):0;return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[s.jsx(en,{image:((p=e.images)==null?void 0:p[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"small",alt:e.name,className:"w-full h-full",productId:e._id,debug:!1}),f>0&&s.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[f,"% OFF"]}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 group-hover:bg-opacity-0 transition-opacity duration-300"}),e.stock===0&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",e.price]}),e.mrp&&e.mrp>e.price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",e.mrp]})]}),e.weight>0&&s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[s.jsx("span",{className:"font-medium",children:"Weight:"})," ",e.weight,"g"]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:e.stock>0?s.jsxs("span",{className:"text-green-600",children:[e.stock," in stock"]}):s.jsx("span",{className:"text-red-600",children:"Out of stock"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:m,disabled:e.stock===0||o,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Adding...":"Add to Cart"}),t&&s.jsx("button",{onClick:()=>t(e),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Quick View"})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to add items to your cart."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{u(!1),n("/login")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})]})})})]})}),kM=[{value:"",label:"All Categories"},{value:"groceries",label:"Groceries"},{value:"vegetables",label:"Vegetables"},{value:"fruits",label:"Fruits"},{value:"dairy",label:"Dairy"},{value:"meat",label:"Meat"},{value:"beverages",label:"Beverages"},{value:"snacks",label:"Snacks"},{value:"household",label:"Household"},{value:"personal_care",label:"Personal Care"},{value:"medicines",label:"Medicines"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"other",label:"Other"}],CM=[{value:"createdAt",label:"Newest First"},{value:"price",label:"Price: Low to High"},{value:"-price",label:"Price: High to Low"},{value:"name",label:"Name: A to Z"},{value:"-name",label:"Name: Z to A"}],PM=({filters:e,onFiltersChange:t})=>{if(!e)return null;const r=(n,a)=>{t({...e,[n]:a})};return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.search,onChange:n=>r("search",n.target.value),placeholder:"Search products...",className:"w-full px-3 py-2 pl-10 pr-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx("select",{value:e.category,onChange:n=>r("category",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:kM.map(n=>s.jsx("option",{value:n.value,children:n.label},n.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price ()"}),s.jsx("input",{type:"number",value:e.minPrice,onChange:n=>r("minPrice",n.target.value),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price ()"}),s.jsx("input",{type:"number",value:e.maxPrice,onChange:n=>r("maxPrice",n.target.value),placeholder:"10000",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),s.jsx("select",{value:e.sortBy,onChange:n=>r("sortBy",n.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:CM.map(n=>s.jsx("option",{value:n.value,children:n.label},n.value))})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:()=>t({category:"",minPrice:"",maxPrice:"",search:"",sortBy:"createdAt",sortOrder:"desc"}),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Clear All Filters"})})]})},AM=({currentSort:e,onSortChange:t,className:r=""})=>{var c;const[n,a]=N.useState(!1),{t:i}=Qa(),o=[{value:"price_low_high",label:i("sort.price_low_high")},{value:"price_high_low",label:i("sort.price_high_low")},{value:"popularity",label:i("sort.popularity")},{value:"newest",label:i("sort.newest")},{value:"best_selling",label:i("sort.best_selling")}],l=((c=o.find(u=>u.value===e))==null?void 0:c.label)||i("sort.price_low_high"),d=u=>{t(u),a(!1)};return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(!n),className:"flex items-center space-x-2 bg-white border border-neutral-300 rounded-lg px-4 py-3 text-sm font-medium text-neutral-700 hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 shadow-flipkart hover:shadow-flipkart-hover","aria-label":`${i("sort.title")}: ${l}`,"aria-expanded":n,"aria-haspopup":"listbox",children:[s.jsx(d3,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"hidden sm:inline",children:[i("sort.title"),":"]}),s.jsx("span",{className:"font-semibold",children:l}),s.jsx(D.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:s.jsx(wa,{className:"h-4 w-4 text-gray-500"})})]}),s.jsx(Fa,{children:n&&s.jsx(D.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-neutral-200 rounded-lg shadow-flipkart-hover z-50",role:"listbox",children:o.map(u=>s.jsx(D.button,{whileHover:{backgroundColor:"#f3f4f6"},onClick:()=>d(u.value),className:`w-full text-left px-4 py-3 text-sm transition-all duration-200 first:rounded-t-lg last:rounded-b-lg ${e===u.value?"bg-gradient-to-r from-primary-50 to-blue-50 text-primary-700 font-semibold":"text-neutral-700 hover:bg-neutral-50"}`,role:"option","aria-selected":e===u.value,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:u.label}),e===u.value&&s.jsx(D.div,{initial:{scale:0},animate:{scale:1},className:"w-2 h-2 bg-blue-600 rounded-full"})]})},u.value))})}),n&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1),"aria-hidden":"true"})]})},ls=({className:e="",variant:t="rectangular",width:r,height:n,lines:a=1,animate:i=!0})=>{const o="bg-secondary-200 rounded animate-pulse",l=()=>{switch(t){case"text":return"h-4 w-full";case"circular":return"rounded-full";case"card":return"h-48 w-full";case"list":return"h-16 w-full";default:return"h-4 w-full"}},d=()=>{const c={};return r&&(c.width=typeof r=="number"?`${r}px`:r),n&&(c.height=typeof n=="number"?`${n}px`:n),c};return t==="text"&&a>1?s.jsx("div",{className:`space-y-2 ${e}`,children:Array.from({length:a}).map((c,u)=>s.jsx(D.div,{className:`${o} ${l()}`,style:d(),initial:i?{opacity:.6}:{},animate:i?{opacity:[.6,1,.6]}:{},transition:i?{duration:1.5,repeat:1/0}:{}},u))}):s.jsx(D.div,{className:`${o} ${l()} ${e}`,style:d(),initial:i?{opacity:.6}:{},animate:i?{opacity:[.6,1,.6]}:{},transition:i?{duration:1.5,repeat:1/0}:{}})},EM=()=>{const[e,t]=N.useState("newest"),[r,n]=N.useState({category:"",minPrice:"",maxPrice:"",search:"",sortBy:"createdAt",sortOrder:"desc"}),[a,i]=N.useState("grid"),{data:o,error:l,isLoading:d,refetch:c}=sp({search:r.search||"",category:r.category||"",sortBy:r.sortBy||"createdAt",minPrice:r.minPrice||"",maxPrice:r.maxPrice||"",page:1,limit:100}),u=(o==null?void 0:o.products)||[],h=m=>{n(m)};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-4",children:"Failed to load products"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an error loading the products. Please try again."}),s.jsx("button",{onClick:()=>c(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products"}),s.jsx("p",{className:"text-gray-600",children:"Discover our wide range of products"})]}),s.jsx("div",{className:"mb-8",children:s.jsx(PM,{filters:r,onFiltersChange:h})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsx("div",{className:"mb-4 sm:mb-0",children:s.jsx("p",{className:"text-sm text-gray-600",children:d?"Loading...":`${u.length} products found`})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(AM,{currentSort:e,onSortChange:t}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>i("grid"),className:`p-2 ${a==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),s.jsx("button",{onClick:()=>i("list"),className:`p-2 ${a==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})]}),d?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((m,f)=>s.jsx(ls,{},f))}):u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:r.search||r.category||r.minPrice||r.maxPrice?"Try adjusting your search or filter criteria.":"No products are available at the moment."}),(r.search||r.category||r.minPrice||r.maxPrice)&&s.jsx("button",{onClick:()=>{n({category:"",minPrice:"",maxPrice:"",search:"",sortBy:"createdAt",sortOrder:"desc"})},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]}):s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:a==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:u.map(m=>s.jsx(SM,{product:m},m._id))})]})})};function TM(){return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Rt,{height:"400px",className:"w-full rounded-xl"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,t)=>s.jsx(Rt,{height:"80px",className:"rounded-lg"},t))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Rt,{height:"2rem",className:"w-3/4"}),s.jsx(Rt,{height:"1.5rem",className:"w-1/3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Rt,{height:"1rem",className:"w-full"}),s.jsx(Rt,{height:"1rem",className:"w-5/6"}),s.jsx(Rt,{height:"1rem",className:"w-4/5"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Rt,{height:"3rem",className:"w-full"}),s.jsx(Rt,{height:"3rem",className:"w-full"})]})]})]})})})}const RM=()=>{const{id:e}=No(),t=ne(),r=ft(),n=de(L=>L.cart),a=de(L=>L.auth),[i,{isLoading:o}]=Ld(),{success:l,error:d}=Ts(),[c,u]=N.useState(1),[h,m]=N.useState(!1),{triggerGlobalConfirmation:f}=_p(),[p,v]=N.useState([{id:1,customerName:"Rajesh Kumar",rating:5,text:"Excellent product! Very good quality and fast delivery.",images:["https://dummyimage.com/200x200/4ade80/ffffff&text=Review+1"],date:"2024-01-15"},{id:2,customerName:"Priya Sharma",rating:4,text:"Good product, but delivery was a bit slow.",images:[],date:"2024-01-10"}]),[j,w]=N.useState({customerName:"",rating:0,text:"",images:[]}),[y,b]=N.useState(!1),x=(e==null?void 0:e.startsWith("fallback-"))||!1;console.log("ProductDetailPage - Product ID:",e),console.log("ProductDetailPage - Is fallback product:",x);const{data:g,isLoading:S,error:P}=KC(e,{skip:!e});N.useEffect(()=>{var L;console.log("[ProductDetailPage] product payload:",g),g&&(!g.name||!g.images||g.images.length===0)&&console.warn("[ProductDetailPage] Missing critical product data:",{hasName:!!(g!=null&&g.name),hasImages:!!(g!=null&&g.images),imageCount:(L=g==null?void 0:g.images)==null?void 0:L.length,productId:e})},[g,e]),console.log("ProductDetailPage - API Response:",{product:g,isLoading:S,error:P});const{data:k,isLoading:E,error:A}=QC({id:e||"",limit:4},{skip:!e||x}),T=(k==null?void 0:k.products)||[],M=async()=>{var L,B,q,H,X,se,_,V,Q,ae;if(g){if(!a.isAuthenticated){t("/login");return}try{r(Od({id:(g==null?void 0:g._id)||(g==null?void 0:g.id)||"",name:(g==null?void 0:g.name)||"Unknown Product",price:(g==null?void 0:g.price)||0,quantity:c,image:((B=(L=g==null?void 0:g.images)==null?void 0:L[0])==null?void 0:B.thumb)||"/placeholder-product.svg"}));const J=await i({productId:(g==null?void 0:g._id)||(g==null?void 0:g.id)||"",quantity:c}).unwrap();J.cart&&r(Md({items:J.cart.items,total:J.cart.total,itemCount:J.cart.itemCount}));const xe=((H=(q=g==null?void 0:g.images)==null?void 0:q[0])==null?void 0:H.thumb)||"/placeholder-product.svg",he=((X=J.cart)==null?void 0:X.itemCount)||n.itemCount+c,we=((se=J.cart)==null?void 0:se.total)||n.total+((g==null?void 0:g.price)||0)*c;f((g==null?void 0:g.name)||"Product",xe,he,we),l(` Successfully added ${(g==null?void 0:g.name)||"item"} to cart`),console.log(`Successfully added ${c} ${(g==null?void 0:g.name)||"item"} to cart`)}catch(J){console.error("Failed to add to cart:",J),((_=J==null?void 0:J.data)==null?void 0:_.error)==="Access token required"||(J==null?void 0:J.status)===401?m(!0):((V=J==null?void 0:J.data)==null?void 0:V.error)==="Product not found"||(J==null?void 0:J.status)===404?d("Product Not Found","This product is no longer available."):((Q=J==null?void 0:J.data)==null?void 0:Q.error)==="Insufficient stock"||((ae=J==null?void 0:J.data)==null?void 0:ae.error)==="Insufficient stock available"?d("Out of Stock","This item is currently out of stock."):(J==null?void 0:J.status)===403?d("Access Denied","You don't have permission to perform this action."):d("Unable to add to cart","Please try again.")}}},C=()=>{console.log(`Added ${g==null?void 0:g.name} to favorites`)},R=()=>{console.log(`Sharing ${g==null?void 0:g.name}!`),navigator.share?navigator.share({title:g==null?void 0:g.name,text:`Check out this ${g==null?void 0:g.name} from CS Store!`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},O=L=>{const B=L.target.files;if(B){const q=Array.from(B).map(H=>URL.createObjectURL(H));w(H=>({...H,images:[...H.images,...q]}))}},I=L=>{w(B=>({...B,images:B.images.filter((q,H)=>H!==L)}))},F=async()=>{if(!j.customerName.trim()||!j.text.trim()||j.rating===0){alert("Please fill in all required fields and select a rating.");return}b(!0);try{const L={id:Date.now(),customerName:j.customerName,rating:j.rating,text:j.text,images:j.images,date:new Date().toISOString().split("T")[0]};v(B=>[L,...B]),w({customerName:"",rating:0,text:"",images:[]}),console.log("Review submitted:",L)}catch(L){console.error("Error submitting review:",L)}finally{b(!1)}},$=L=>{const B=L.id||L._id;B&&t(`/product/${B}`)};return S?s.jsx(TM,{}):x?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Available"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This product is currently unavailable. Please check out our other amazing products."})]}),s.jsx("button",{onClick:()=>t("/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]})}):S?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading product..."})]})}):P||!g?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600",children:"Product not found or failed to load."}),s.jsx("button",{onClick:()=>t("/"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go Back Home"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-6 w-6 text-gray-600"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Product Details"})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[(()=>{var B;const L=(B=g==null?void 0:g.images)==null?void 0:B[0];return L?s.jsx(en,{image:L,size:"large",alt:(g==null?void 0:g.name)??(g==null?void 0:g._id)??"Product image",className:"w-full aspect-square rounded-xl",priority:!0,productId:g==null?void 0:g._id,debug:!1}):s.jsx("div",{className:"aspect-square bg-gray-200 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No Image Available"})})})(),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsx(D.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:C,className:"p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-colors",children:s.jsx(sw,{className:"h-5 w-5 text-gray-600 hover:text-red-500 transition-colors"})}),s.jsx(D.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:R,className:"p-2 bg-white/80 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-colors",children:s.jsx(rw,{className:"h-5 w-5 text-gray-600 hover:text-blue-500 transition-colors"})})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity:"}),s.jsx("input",{type:"number",min:"1",value:c,onChange:L=>{const B=parseInt(L.target.value)||1;u(Math.max(1,B))},className:"w-16 px-3 py-2 text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsxs("button",{onClick:M,disabled:((g==null?void 0:g.stock)||0)<=0||o,className:"bg-blue-600 text-white py-4 px-8 rounded-xl hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl font-semibold text-lg flex-1",children:[s.jsx(Vt,{className:"h-6 w-6"}),s.jsx("span",{children:o?"Adding...":"Add to Cart"})]})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:(g==null?void 0:g.name)||"Product"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((L,B)=>s.jsx(ot,{className:`h-5 w-5 ${B<Math.floor((g==null?void 0:g.rating)||4.5)?"text-yellow-400 fill-current":"text-gray-300"}`},B))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(g==null?void 0:g.rating)||4.5," (",(g==null?void 0:g.reviews)||128," reviews)"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(g==null?void 0:g.price)||0]}),((g==null?void 0:g.mrp)||0)>((g==null?void 0:g.price)||0)&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xl text-gray-500 line-through",children:["",(g==null?void 0:g.mrp)||0]}),s.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["Save ",((g==null?void 0:g.mrp)||0)-((g==null?void 0:g.price)||0)]})]})]}),((g==null?void 0:g.weight)||0)>0&&s.jsxs("div",{className:"text-lg text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Weight:"})," ",(g==null?void 0:g.weight)||0,"g"]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:(g==null?void 0:g.description)||"No description available"})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vr,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Free Delivery"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Estimated delivery: ",(g==null?void 0:g.deliveryDate)||"2-3 days"]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(kP,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"text-gray-700",children:"No Return"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ws,{className:"h-5 w-5 text-gray-500"}),s.jsx("span",{className:"text-gray-700",children:"Cash on Delivery"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gs,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"CS Store Assured"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${((g==null?void 0:g.stock)||0)>0?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:`text-sm font-medium ${((g==null?void 0:g.stock)||0)>0?"text-green-700":"text-red-700"}`,children:((g==null?void 0:g.stock)||0)>0?"In Stock":"Out of Stock"})]})]})]}),s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write a Review"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",value:j.customerName,onChange:L=>w(B=>({...B,customerName:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(L=>s.jsx("button",{onClick:()=>w(B=>({...B,rating:L})),className:"p-1",children:s.jsx(ot,{className:`h-6 w-6 ${L<=j.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},L))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),s.jsx("textarea",{value:j.text,onChange:L=>w(B=>({...B,text:L.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:4,placeholder:"Share your experience with this product..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images (Optional)"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O,className:"hidden",id:"review-images"}),s.jsxs("label",{htmlFor:"review-images",className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg cursor-pointer transition-colors",children:[s.jsx(uo,{className:"h-4 w-4"}),s.jsx("span",{children:"Choose Images"})]})]}),j.images.length>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:j.images.map((L,B)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:L,alt:`Review image ${B+1}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{onClick:()=>I(B),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(gt,{className:"h-3 w-3"})})]},B))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:F,disabled:y,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[s.jsx(AP,{className:"h-4 w-4"}),s.jsx("span",{children:y?"Submitting...":"Submit Review"})]})})]})]}),s.jsx("div",{className:"space-y-6",children:p.map(L=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:L.customerName}),s.jsx("div",{className:"flex items-center space-x-1 mt-1",children:[1,2,3,4,5].map(B=>s.jsx(ot,{className:`h-4 w-4 ${B<=L.rating?"text-yellow-400 fill-current":"text-gray-300"}`},B))})]}),s.jsx("span",{className:"text-sm text-gray-500",children:L.date})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:L.text}),L.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:L.images.map((B,q)=>s.jsx("img",{src:B,alt:`Review image ${q+1}`,className:"w-20 h-20 object-cover rounded-lg"},q))})]},L.id))})]}),s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Products"}),E?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((L,B)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[s.jsx("div",{className:"aspect-square bg-gray-200"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},B))}):A?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"Failed to load similar products. Please try again later."})}):T.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No similar products found."})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:T.map(L=>{var B;return s.jsxs(D.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:()=>$(L),className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden group",children:[s.jsx("div",{className:"aspect-square bg-gray-200 overflow-hidden",children:s.jsx(en,{image:((B=L.images)==null?void 0:B[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"small",alt:L.name||"Product",className:"w-full h-full",productId:L.id||L._id,debug:!1})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2 group-hover:text-blue-600 transition-colors",children:L.name||"Unknown Product"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",L.price||0]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"h-4 w-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm text-gray-600 ml-1",children:L.rating||4})]})]})]})]},L.id||L._id)})})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to add items to your cart."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{m(!1),t("/login")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})]})})})]})},mi={addressLine:"Boya Bazar, Tiruvuru, Krishna District, Andhra Pradesh - 521235",lat:17.0956,lng:80.6089},ln={FREE_DELIVERY_THRESHOLD:2e3,BASE_FEE_0_2_KM:25,BASE_FEE_2_6_KM_MIN:35,BASE_FEE_2_6_KM_MAX:60,BASE_FEE_BEYOND_6_KM:60,EXTRA_KM_RATE:8};function OM(e,t,r,n){const i=(r-e)*(Math.PI/180),o=(n-t)*(Math.PI/180),l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*(Math.PI/180))*Math.cos(r*(Math.PI/180))*Math.sin(o/2)*Math.sin(o/2),c=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)));return Math.round(c*100)/100}function MM(e,t){if(!e.lat||!e.lng||e.lat===0||e.lng===0||isNaN(e.lat)||isNaN(e.lng))return console.error(" [Frontend] Invalid user address coordinates - cannot calculate delivery fee"),{distance:0,baseFee:0,distanceFee:0,totalFee:0,isFreeDelivery:!1,finalFee:0};const r=OM(mi.lat,mi.lng,e.lat,e.lng);if(console.log(" Delivery Fee Calculation:",{warehouseCoords:{lat:mi.lat,lng:mi.lng,location:mi.addressLine},userCoords:{lat:e.lat,lng:e.lng,location:`${e.city}, ${e.state}`},calculatedDistance:`${r.toFixed(2)} km`,orderAmount:`${t}`}),isNaN(r)||r<0){console.error(" CRITICAL: Invalid distance calculated! Address may have invalid coordinates.");const o=500;return{distance:0,baseFee:o,distanceFee:0,totalFee:o,isFreeDelivery:!1,finalFee:o}}if(t>=ln.FREE_DELIVERY_THRESHOLD)return console.log(" Free Delivery Applied! (Order  2000)"),{distance:Math.round(r*100)/100,baseFee:0,distanceFee:0,totalFee:0,isFreeDelivery:!0,finalFee:0};let a;if(r<=2)a=ln.BASE_FEE_0_2_KM,console.log(` Distance: ${r.toFixed(2)} km (2 km)  Base Fee: ${a}`);else if(r<=6){const o=(r-2)/4;a=ln.BASE_FEE_2_6_KM_MIN+o*(ln.BASE_FEE_2_6_KM_MAX-ln.BASE_FEE_2_6_KM_MIN),a=Math.round(a),console.log(` Distance: ${r.toFixed(2)} km (2-6 km)  Progressive Fee: ${a}`)}else{const o=r-6;a=ln.BASE_FEE_BEYOND_6_KM+o*ln.EXTRA_KM_RATE,a=Math.round(a),console.log(` Distance: ${r.toFixed(2)} km (>6 km)  60 + (${o.toFixed(2)} km  8) = ${a}`)}return console.log(` Final Delivery Fee: ${a}`),{distance:Math.round(r*100)/100,baseFee:a,distanceFee:0,totalFee:a,isFreeDelivery:!1,finalFee:a}}function LM(e,t){return t?"FREE":`${e.toFixed(2)}`}const _M=(e,t)=>{const r=e.reduce((c,u)=>c+u.price*u.quantity,0),n=e.reduce((c,u)=>c+u.quantity,0),a=Math.round(r*.1),i=(t==null?void 0:t.finalFee)||0,o=(t==null?void 0:t.isFreeDelivery)||!1,l=r+i-a;return{subtotal:r,discount:a,deliveryFee:i,total:l,itemCount:n,isFreeDelivery:o,savings:a}},Bs=e=>`${e.toFixed(2)}`,DM=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:i="Delete",cancelText:o="Cancel",confirmButtonColor:l="bg-red-600 hover:bg-red-700"})=>{const d=()=>{r(),t()},c=u=>{u.target===u.currentTarget&&t()};return s.jsx(Fa,{children:e&&s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:c,children:s.jsxs(D.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:u=>u.stopPropagation(),children:[s.jsx("div",{className:"p-6 pb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})})]})}),s.jsx("div",{className:"px-6 pb-4",children:s.jsx("p",{className:"text-gray-600",children:a})}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:o}),s.jsx("button",{onClick:d,className:`flex-1 px-4 py-2 text-sm font-medium text-white ${l} rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors`,children:i})]})]})})})},IM=()=>{const e=de(g=>g.cart),t=de(g=>g.auth),r=ft(),[n,a]=N.useState(null),[i,o]=N.useState(0),[l,d]=N.useState({isOpen:!1,itemId:null,itemName:""}),c=ne(),[u]=JC(),[h]=XC(),{data:m}=rp(void 0,{skip:!t.isAuthenticated}),f=N.useMemo(()=>{var P,k,E,A;const g=(m==null?void 0:m.addresses)||[],S=m==null?void 0:m.defaultAddressId;if(S&&g.length>0){const T=g.find(M=>M._id===S);if(T)return{_id:T._id,label:T.label||"",pincode:T.pincode||"",city:T.city||"",state:T.state||"",addressLine:T.addressLine||"",lat:((P=T.location)==null?void 0:P.lat)??T.lat??0,lng:((k=T.location)==null?void 0:k.lng)??T.lng??0,isDefault:!0}}if(g.length>0){const T=g[0];return{_id:T._id,label:T.label||"",pincode:T.pincode||"",city:T.city||"",state:T.state||"",addressLine:T.addressLine||"",lat:((E=T.location)==null?void 0:E.lat)??T.lat??0,lng:((A=T.location)==null?void 0:A.lng)??T.lng??0,isDefault:!1}}return{_id:"default",label:"Default Location",addressLine:"123 Main Street",city:"Hyderabad",state:"Telangana",pincode:"500001",lat:17.385,lng:78.4867,isDefault:!1}},[m,i]),p=MM(f,e.total),v=_M(e.items,p);N.useEffect(()=>{!t.isAuthenticated&&e.items.length>0&&r(Dk())},[t.isAuthenticated,e.items.length,r]),N.useEffect(()=>{const g=()=>{o(S=>S+1)};return window.addEventListener("addressesUpdated",g),()=>window.removeEventListener("addressesUpdated",g)},[]);const j=async(g,S)=>{if(!(S<1)){a(g);try{r(Px({id:g,quantity:S})),t.isAuthenticated&&await u({productId:g,quantity:S}).unwrap()}catch(P){console.error("Failed to update quantity:",P);const k=e.items.find(E=>E.id===g);k&&r(Px({id:g,quantity:k.quantity}))}finally{a(null)}}},w=async g=>{try{r(_k(g)),t.isAuthenticated&&await h(g).unwrap()}catch(S){console.error("Failed to remove item:",S)}},y=(g,S)=>{d({isOpen:!0,itemId:g,itemName:S})},b=()=>{l.itemId&&w(l.itemId)},x=()=>{d({isOpen:!1,itemId:null,itemName:""})};return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 pt-2 px-4 pb-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),e.items.length>0&&s.jsx("div",{className:"flex-1 flex justify-center",children:s.jsx("div",{className:"ml-16",children:s.jsxs(ce,{to:"/addresses",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 text-sm font-medium",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Enter Address"})]})})})]}),t.isAuthenticated?e.items.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to get started"}),s.jsx("button",{onClick:()=>c("/"),className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Cart Items (",e.items.length,")"]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:e.items.map(g=>s.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4 flex items-center space-x-4 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 border border-gray-200",children:s.jsx("img",{src:kn(g),alt:g.name,className:"w-full h-full object-cover",onError:S=>rN(S)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm",children:g.name}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["",g.price.toFixed(2)," each"]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Seller:"}),s.jsx("span",{className:"text-xs font-medium text-blue-600",children:"CS Store"}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Assured"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>j(g.id,g.quantity-1),disabled:n===g.id||g.quantity<=1,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium",children:"-"}),s.jsx("span",{className:"w-12 text-center font-medium text-sm",children:n===g.id?"...":g.quantity}),s.jsx("button",{onClick:()=>j(g.id,g.quantity+1),disabled:n===g.id,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium",children:"+"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["",(g.price*g.quantity).toFixed(2)]}),g.price>0&&s.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["",(g.price*1.2*g.quantity).toFixed(2)]})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("button",{onClick:()=>y(g.id,g.name),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors duration-200",title:"Delete item",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},g.id))})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"PRICE DETAILS"}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Price (",v.itemCount," items)"]}),s.jsx("span",{className:"font-medium",children:Bs(v.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Discount"}),s.jsxs("span",{className:"font-medium text-green-600",children:["- ",Bs(v.discount)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),s.jsx("span",{className:`font-medium ${v.isFreeDelivery?"text-green-600":"text-gray-900"}`,children:LM(p.finalFee,p.isFreeDelivery)})]}),s.jsx("div",{className:"border-t border-gray-200 pt-3",children:s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{children:Bs(v.total)})]})})]}),s.jsxs("div",{className:"text-sm text-green-600 font-medium mb-4",children:["You will save ",Bs(v.savings)," on this order"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Safe and Secure Payments. Easy returns. 100% Authentic products."})]})}),(!(f!=null&&f.lat)||!(f!=null&&f.lng)||f.lat===0||f.lng===0)&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border-2 border-red-500 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-bold text-red-900",children:"Cannot Calculate Delivery Fee"}),s.jsx("p",{className:"text-xs text-red-800 mt-1",children:"Your delivery address has invalid GPS coordinates. We cannot calculate the delivery fee or process your order."}),s.jsxs("p",{className:"text-xs text-red-800 mt-2 font-semibold",children:[s.jsx("strong",{children:"Action Required:"})," Please delete this address and create a new one with complete details (street name, landmark, area)."]})]})]})}),(f==null?void 0:f.lat)&&(f==null?void 0:f.lng)&&f.lat!==0&&f.lng!==0&&f.coordsSource==="pincode"&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-400 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-xs text-yellow-900",children:[s.jsx("strong",{children:"Estimated Delivery Fee:"})," Using pincode centroid. Update your address with exact location for accurate fee calculation."]})})]})}),s.jsx("div",{className:"mt-4",children:!(f!=null&&f.lat)||!(f!=null&&f.lng)||f.lat===0||f.lng===0?s.jsx("button",{disabled:!0,className:"w-full py-3 px-4 rounded-lg font-medium text-center bg-gray-400 text-gray-700 cursor-not-allowed text-lg",children:"CANNOT PLACE ORDER - INVALID ADDRESS"}):s.jsx(ce,{to:"/checkout",className:"w-full py-3 px-4 rounded-lg font-medium text-center transition-colors bg-orange-500 text-white hover:bg-orange-600 text-lg block",children:"PLACE ORDER"})}),s.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border-2 border-yellow-300 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-bold text-yellow-900 mb-3 flex items-center",children:" Delivery Fee Debug Information"}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-800",children:[s.jsxs("div",{className:"bg-white p-2 rounded",children:[s.jsx("p",{className:"font-semibold text-blue-700",children:" Admin Warehouse:"}),s.jsx("p",{className:"ml-4",children:"Location: Tiruvuru (Boya Bazar), Andhra Pradesh"}),s.jsx("p",{className:"ml-4",children:"Coordinates: 17.0956, 80.6089"}),s.jsx("p",{className:"ml-4",children:"Pincode: 521235"})]}),s.jsxs("div",{className:"bg-white p-2 rounded",children:[s.jsx("p",{className:"font-semibold text-green-700",children:" Your Default Address:"}),s.jsxs("p",{className:"ml-4",children:["Location: ",f==null?void 0:f.city,", ",f==null?void 0:f.state]}),s.jsxs("p",{className:"ml-4",children:["Coordinates: ",(f==null?void 0:f.lat)||"N/A",", ",(f==null?void 0:f.lng)||"N/A"]}),s.jsxs("p",{className:"ml-4",children:["Pincode: ",f==null?void 0:f.pincode]})]}),s.jsxs("div",{className:"bg-white p-2 rounded",children:[s.jsx("p",{className:"font-semibold text-purple-700",children:" Distance Calculation:"}),s.jsxs("p",{className:"ml-4",children:["Distance: ",p.distance.toFixed(2)," km"]}),s.jsx("p",{className:"ml-4",children:"Method: Haversine Formula (straight-line)"})]}),s.jsxs("div",{className:"bg-white p-2 rounded",children:[s.jsx("p",{className:"font-semibold text-orange-700",children:" Pricing Breakdown:"}),s.jsxs("p",{className:"ml-4",children:["Cart Subtotal: ",e.total.toFixed(2)]}),s.jsx("p",{className:"ml-4",children:!(f!=null&&f.lat)||!(f!=null&&f.lng)||f.lat===0||f.lng===0?s.jsx("span",{className:"text-red-600 font-bold",children:" CANNOT CALCULATE (Invalid coordinates)"}):p.isFreeDelivery?s.jsx("span",{className:"text-green-600 font-bold",children:" FREE DELIVERY (Cart  2000)"}):p.distance<=2?s.jsx(s.Fragment,{children:"Pricing Tier: Up to 2 km  25"}):p.distance<=6?s.jsxs(s.Fragment,{children:["Pricing Tier: 2-6 km  ",Math.round(35+(p.distance-2)/4*25)," (progressive)"]}):s.jsxs(s.Fragment,{children:["Pricing Tier: Beyond 6 km  60 + (",(p.distance-6).toFixed(2)," km  8) = ",Math.round(60+(p.distance-6)*8)]})}),s.jsxs("p",{className:"ml-4 font-bold text-red-600 text-base mt-1",children:["Final Delivery Fee: ",p.finalFee]})]}),s.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[s.jsx("p",{className:"font-semibold text-red-700",children:" Issue Detection:"}),!(f!=null&&f.lat)||!(f!=null&&f.lng)||p.distance===0?s.jsxs("div",{className:"ml-4 text-red-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" CRITICAL ERROR:"})," Your address has invalid GPS coordinates!"]}),s.jsxs("p",{className:"text-xs",children:[" Coordinates: ",(f==null?void 0:f.lat)||"N/A",", ",(f==null?void 0:f.lng)||"N/A"]}),s.jsx("p",{className:"text-xs",children:" This causes incorrect delivery fee calculation"}),s.jsx("p",{className:"text-xs font-bold",children:" Charging penalty fee of 500"}),s.jsxs("p",{className:"text-xs bg-yellow-100 p-1 rounded mt-1",children:[" ",s.jsx("strong",{children:"Fix:"})," Delete this address and create a new one with complete details (street name, landmark, area) so the system can locate it accurately"]})]}):(f==null?void 0:f.pincode)==="521235"&&p.finalFee>100?s.jsxs("p",{className:"ml-4 text-red-600",children:[s.jsx("strong",{children:" WARNING:"})," Your address pincode matches warehouse (521235) but distance is ",p.distance.toFixed(2)," km. This suggests incorrect coordinates are stored for your address!"]}):s.jsx("p",{className:"ml-4 text-green-600",children:" Calculation looks normal"})]})]})]})]})})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Sign In"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to view your cart and place orders."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(ce,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign In"}),s.jsx(ce,{to:"/signup",className:"inline-block bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Sign Up"})]})]})]}),s.jsx(DM,{isOpen:l.isOpen,onClose:x,onConfirm:b,title:"Remove Item",message:`Are you sure you want to remove "${l.itemName}" from your cart?`,confirmText:"Remove",cancelText:"Cancel",confirmButtonColor:"bg-red-600 hover:bg-red-700"})]})};var $M={},aN={};const FM=$M.VITE_RAZORPAY_KEY_ID||"rzp_test_RREROYUEXDmjIA",BM=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(window.Razorpay)},t.onerror=()=>{e(null)},document.body.appendChild(t)}),UM=async(e,t="INR",r)=>{try{const n=await fetch(`${aN.REACT_APP_API_URL||"http://localhost:5001"}/api/payment/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,currency:t,receipt:r||`receipt_${Date.now()}`,notes:{source:"frontend"}})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();if(!a.success)throw new Error(a.message||"Failed to create order");return a.order}catch(n){throw console.error("Error creating Razorpay order:",n),n}},zM=async(e,t,r)=>{try{const n=localStorage.getItem("accessToken"),a=await fetch("http://localhost:5001/api/payment/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({razorpay_order_id:e,razorpay_payment_id:t,razorpay_signature:r})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=await a.json();if(!i.success)throw new Error(i.message||"Payment verification failed");return i}catch(n){throw console.error("Error verifying payment:",n),n}},VM=async(e,t,r,n)=>{try{const a=await BM();if(!a)throw new Error("Failed to load Razorpay");const i={key:FM,amount:e.amount,currency:e.currency,name:"CPS Store",description:"Payment for your order",order_id:e.id,prefill:{name:t.name,email:t.email,contact:t.phone},theme:{color:"#2563eb"},method:{netbanking:!0,wallet:!0,upi:!0,card:!0,emi:!0,paylater:!0},modal:{ondismiss:function(){n("Payment cancelled by user")},escape:!0,handleback:!0},retry:{enabled:!0,max_count:3},callback_url:`${aN.REACT_APP_API_URL||"http://localhost:5001"}/api/payment/callback`,handler:async function(l){try{(await zM(l.razorpay_order_id,l.razorpay_payment_id,l.razorpay_signature)).success?r(l.razorpay_payment_id,l.razorpay_order_id):n("Payment verification failed")}catch(d){console.error("Payment verification error:",d),n("Payment verification failed")}}};new a(i).open()}catch(a){console.error("Error opening Razorpay checkout:",a),n("Failed to open payment gateway")}},qM=()=>{const e=ne(),t=ts(),{success:r,error:n}=Ts(),{user:a}=de(v=>v.auth),{items:i}=de(v=>v.cart),[o,l]=N.useState(null),[d,c]=N.useState(!1),[u,h]=N.useState("idle"),m=(o==null?void 0:o.priceBreakdown)||null;N.useEffect(()=>{var v;(v=t.state)!=null&&v.paymentData?l(t.state.paymentData):(n("Invalid Payment Data","Please complete the address selection first."),e("/checkout"))},[t.state,e,n]);const f=async()=>{if(!o||!a){n("Authentication required","Please log in to proceed with payment.");return}c(!0),h("processing");try{const v=await UM(o.cartTotal,"INR",`order_${Date.now()}`);await VM(v,o.userInfo,(j,w)=>{h("success"),r("Payment Successful!","Your order has been placed successfully."),c(!1),setTimeout(()=>{e("/orders",{state:{paymentId:j,orderId:w,orderDetails:o.orderDetails}})},2e3)},j=>{h("failed"),n("Payment Failed",j),c(!1)})}catch(v){console.error("Payment error:",v),h("failed"),n("Payment Error","Failed to process payment. Please try again."),c(!1)}},p=v=>v?`${v.houseNo}, ${v.landmark||""}, ${v.city}, ${v.state} - ${v.pincode}`.replace(/, ,/g,",").replace(/^,|,$/g,""):"";return o?s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-50  py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e("/checkout"),className:"flex items-center space-x-2 text-gray-600  hover:text-gray-900  mb-4",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{children:"Back to Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 ",children:"Complete Your Payment"}),s.jsx("p",{className:"text-gray-600  mt-2",children:"Secure payment powered by Razorpay"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white  rounded-lg shadow-sm border border-gray-200  p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900  mb-6",children:"Choose Payment Method"}),u==="success"&&s.jsx("div",{className:"mb-6 p-4 bg-green-50  border border-green-200  rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ae,{className:"h-5 w-5 text-green-600  mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-green-800  font-medium",children:"Payment Successful!"}),s.jsx("p",{className:"text-green-700  text-sm",children:"Your order has been confirmed. Redirecting to order details..."})]})]})}),u==="failed"&&s.jsx("div",{className:"mb-6 p-4 bg-red-50  border border-red-200  rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ga,{className:"h-5 w-5 text-red-600  mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800  font-medium",children:"Payment Failed"}),s.jsx("p",{className:"text-red-700  text-sm",children:"Please try again or choose a different payment method."})]})]})}),s.jsxs("button",{onClick:f,disabled:d||u==="success",className:"w-full flex items-center justify-center space-x-3 p-4 border-2 border-blue-500 bg-blue-50  rounded-lg hover:bg-blue-100  transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d?s.jsx(fo,{className:"h-5 w-5 animate-spin text-blue-600 "}):s.jsx(Ws,{className:"h-5 w-5 text-blue-600 "}),s.jsx("span",{className:"text-blue-900  font-medium text-lg",children:d?"Processing Payment...":u==="success"?"Payment Successful":"Pay with Razorpay"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50  rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800  font-medium mb-3",children:"Available Payment Methods:"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"Cards"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"UPI"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"Net Banking"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"Wallets"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"EMI"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-700 ",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{children:"Pay Later"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50  rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gs,{className:"h-5 w-5 text-green-600 "}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 ",children:"Secure Payment"}),s.jsx("p",{className:"text-xs text-gray-600 ",children:"Your payment is secured by Razorpay with 256-bit SSL encryption"})]})]})})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white  rounded-lg shadow-sm border border-gray-200  p-6 sticky top-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900  mb-4",children:"Order Summary"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900  mb-2",children:"Delivery Address"}),s.jsx("p",{className:"text-sm text-gray-600 ",children:p(o.orderDetails.address)})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900  mb-3",children:["Items (",o.orderDetails.items.length,")"]}),s.jsx("div",{className:"space-y-2",children:o.orderDetails.items.map(v=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 ",children:[v.name," x ",v.quantity]}),s.jsx("span",{className:"text-gray-900 ",children:Bs(v.price*v.quantity)})]},v.id))})]}),m&&s.jsxs("div",{className:"mb-6 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{className:"text-gray-900",children:Bs(m.subtotal)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Discount:"}),s.jsxs("span",{className:"text-green-600",children:["- ",Bs(m.discount)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery:"}),s.jsx("span",{className:"text-gray-900",children:m.isFreeDelivery?"FREE":Bs(m.deliveryFee)})]})]}),s.jsx("div",{className:"border-t border-gray-200  pt-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{className:"text-gray-900 ",children:"Total"}),s.jsx("span",{className:"text-gray-900 ",children:Bs(m?m.total:o.cartTotal)})]})}),s.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-2 text-xs text-gray-500 ",children:[s.jsx(_a,{className:"h-4 w-4"}),s.jsx("span",{children:"Secured by Razorpay"})]})]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50  flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fo,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 ",children:"Loading payment details..."})]})})},HM=()=>s.jsx("div",{children:"Checkout Page - Under Development"}),Gs=Object.create(null);Gs.open="0";Gs.close="1";Gs.ping="2";Gs.pong="3";Gs.message="4";Gs.upgrade="5";Gs.noop="6";const Fl=Object.create(null);Object.keys(Gs).forEach(e=>{Fl[Gs[e]]=e});const WM={type:"error",data:"parser error"},KM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QM=typeof ArrayBuffer=="function",GM=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,iN=({type:e,data:t},r,n)=>KM&&t instanceof Blob?r?n(t):Sy(t,n):QM&&(t instanceof ArrayBuffer||GM(t))?r?n(t):Sy(new Blob([t]),n):n(Gs[e]+(t||"")),Sy=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)},ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ky.length;e++)wi[ky.charCodeAt(e)]=e;const YM=e=>{let t=e.length*.75,r=e.length,n,a=0,i,o,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(n=0;n<r;n+=4)i=wi[e.charCodeAt(n)],o=wi[e.charCodeAt(n+1)],l=wi[e.charCodeAt(n+2)],d=wi[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|d&63;return c},JM=typeof ArrayBuffer=="function",oN=(e,t)=>{if(typeof e!="string")return{type:"message",data:lN(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:XM(e.substring(1),t)}:Fl[r]?e.length>1?{type:Fl[r],data:e.substring(1)}:{type:Fl[r]}:WM},XM=(e,t)=>{if(JM){const r=YM(e);return lN(r,t)}else return{base64:!0,data:e}},lN=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},cN="",ZM=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,o)=>{iN(i,!1,l=>{n[o]=l,++a===r&&t(n.join(cN))})})},e8=(e,t)=>{const r=e.split(cN),n=[];for(let a=0;a<r.length;a++){const i=oN(r[a],t);if(n.push(i),i.type==="error")break}return n},dN=4;function rt(e){if(e)return t8(e)}function t8(e){for(var t in rt.prototype)e[t]=rt.prototype[t];return e}rt.prototype.on=rt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};rt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};rt.prototype.off=rt.prototype.removeListener=rt.prototype.removeAllListeners=rt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};rt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};rt.prototype.emitReserved=rt.prototype.emit;rt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};rt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const us=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function uN(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const s8=us.setTimeout,r8=us.clearTimeout;function Yd(e,t){t.useNativeTimers?(e.setTimeoutFn=s8.bind(us),e.clearTimeoutFn=r8.bind(us)):(e.setTimeoutFn=us.setTimeout.bind(us),e.clearTimeoutFn=us.clearTimeout.bind(us))}const n8=1.33;function a8(e){return typeof e=="string"?i8(e):Math.ceil((e.byteLength||e.size)*n8)}function i8(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}class o8 extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class hN extends rt{constructor(t){super(),this.writable=!1,Yd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,n){return super.emitReserved("error",new o8(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=oN(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const mN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Mm=64,l8={};let Cy=0,fl=0,Py;function Ay(e){let t="";do t=mN[e%Mm]+t,e=Math.floor(e/Mm);while(e>0);return t}function fN(){const e=Ay(+new Date);return e!==Py?(Cy=0,Py=e):e+"."+Ay(Cy++)}for(;fl<Mm;fl++)l8[mN[fl]]=fl;function pN(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function c8(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}let xN=!1;try{xN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const d8=xN;function gN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||d8))return new XMLHttpRequest}catch{}if(!t)try{return new us[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function u8(){}const h8=function(){return new gN({xdomain:!1}).responseType!=null}();class m8 extends hN{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let a=location.port;a||(a=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port,this.xs=t.secure!==n}const r=t&&t.forceBase64;this.supportsBinary=h8&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};e8(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ZM(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=fN()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const a=pN(t),i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(a.length?"?"+a:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Sa(this.uri(),t)}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let Sa=class Bl extends rt{constructor(t,r){super(),Yd(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const t=uN(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new gN(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=Bl.requestsCount++,Bl.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=u8,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Bl.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Sa.requestsCount=0;Sa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ey);else if(typeof addEventListener=="function"){const e="onpagehide"in us?"pagehide":"unload";addEventListener(e,Ey,!1)}}function Ey(){for(let e in Sa.requests)Sa.requests.hasOwnProperty(e)&&Sa.requests[e].abort()}const yN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),pl=us.WebSocket||us.MozWebSocket,Ty=!0,f8="arraybuffer",Ry=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class p8 extends hN{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,n=Ry?{}:uN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ty&&!Ry?r?new pl(t,r):new pl(t):new pl(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType||f8,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;iN(n,this.supportsBinary,i=>{const o={};try{Ty&&this.ws.send(i)}catch{}a&&yN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=fN()),this.supportsBinary||(t.b64=1);const a=pN(t),i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(a.length?"?"+a:"")}check(){return!!pl}}const x8={websocket:p8,polling:m8},g8=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,y8=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lm(e){const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=g8.exec(e||""),i={},o=14;for(;o--;)i[y8[o]]=a[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=v8(i,i.path),i.queryKey=b8(i,i.query),i}function v8(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function b8(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}let vN=class Yn extends rt{constructor(t,r={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=Lm(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Lm(r.host).host),Yd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=c8(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=dN,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new x8[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Yn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),n=!1;Yn.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Yn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=r.name,i(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function d(){o("socket closed")}function c(h){r&&h.name!==r.name&&i()}const u=()=>{r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",l),this.off("close",d),this.off("upgrading",c)};r.once("open",a),r.once("error",o),r.once("close",l),this.once("close",d),this.once("upgrading",c),r.open()}onOpen(){if(this.readyState="open",Yn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=a8(a)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(t,r,n){return this.sendPacket("message",t,r,n),this}send(t,r,n){return this.sendPacket("message",t,r,n),this}sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Yn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let n=0;const a=t.length;for(;n<a;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}};vN.protocol=dN;function j8(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Lm(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const w8=typeof ArrayBuffer=="function",N8=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bN=Object.prototype.toString,S8=typeof Blob=="function"||typeof Blob<"u"&&bN.call(Blob)==="[object BlobConstructor]",k8=typeof File=="function"||typeof File<"u"&&bN.call(File)==="[object FileConstructor]";function Fp(e){return w8&&(e instanceof ArrayBuffer||N8(e))||S8&&e instanceof Blob||k8&&e instanceof File}function Ul(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Ul(e[r]))return!0;return!1}if(Fp(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ul(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ul(e[r]))return!0;return!1}function C8(e){const t=[],r=e.data,n=e;return n.data=_m(r,t),n.attachments=t.length,{packet:n,buffers:t}}function _m(e,t){if(!e)return e;if(Fp(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=_m(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=_m(e[n],t));return r}return e}function P8(e,t){return e.data=Dm(e.data,t),delete e.attachments,e}function Dm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Dm(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Dm(e[r],t));return e}const A8=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],E8=5;var be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class T8{constructor(t){this.replacer=t}encode(t){return(t.type===be.EVENT||t.type===be.ACK)&&Ul(t)?this.encodeAsBinary({type:t.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===be.BINARY_EVENT||t.type===be.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=C8(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function Oy(e){return Object.prototype.toString.call(e)==="[object Object]"}class Bp extends rt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===be.BINARY_EVENT;n||r.type===be.BINARY_ACK?(r.type=n?be.EVENT:be.ACK,this.reconstructor=new R8(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Fp(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===be.BINARY_EVENT||n.type===be.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(Bp.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case be.CONNECT:return Oy(r);case be.DISCONNECT:return r===void 0;case be.CONNECT_ERROR:return typeof r=="string"||Oy(r);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&A8.indexOf(r[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class R8{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=P8(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const O8=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Bp,Encoder:T8,get PacketType(){return be},protocol:E8},Symbol.toStringTag,{value:"Module"}));function ws(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const M8=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jN extends rt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ws(t,"open",this.onopen.bind(this)),ws(t,"packet",this.onpacket.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(M8.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:be.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,l=r.pop();this._registerAckCallback(o,l),n.id=o}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...o])}}emitWithAck(t,...r){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,i)=>{r.push((o,l)=>n?o?i(o):a(l):a(o)),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(t);break;case be.ACK:case be.BINARY_ACK:this.onack(t);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:be.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Xa(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xa.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Xa.prototype.reset=function(){this.attempts=0};Xa.prototype.setMin=function(e){this.ms=e};Xa.prototype.setMax=function(e){this.max=e};Xa.prototype.setJitter=function(e){this.jitter=e};class Im extends rt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Xa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||O8;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vN(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=ws(r,"open",function(){n.onopen(),t&&t()}),i=ws(r,"error",o=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",o),t?t(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&a();const l=this.setTimeoutFn(()=>{a(),r.close(),r.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(a),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ws(t,"ping",this.onping.bind(this)),ws(t,"data",this.ondata.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this)),ws(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){yN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new jN(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fi={};function Cn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=j8(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=fi[a]&&i in fi[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let d;return l?d=new Im(n,t):(fi[a]||(fi[a]=new Im(n,t)),d=fi[a]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Cn,{Manager:Im,Socket:jN,io:Cn,connect:Cn});const L8=()=>{const e=ne(),{tokens:t,isAuthenticated:r,user:n}=de(x=>x.auth),[a,i]=N.useState([]),[o,l]=N.useState(!0),[d,c]=N.useState(null),[u,h]=N.useState(""),[m,f]=N.useState(null);N.useEffect(()=>{if(!r){l(!1);return}p()},[r]),N.useEffect(()=>{if(!r||!(t!=null&&t.accessToken)||!(n!=null&&n.id))return;const x=Cn("http://localhost:5001",{auth:{token:t.accessToken}});return x.on("connect",()=>{console.log("[ORDERS] Socket connected"),x.emit("join_room",{room:`user_${n.id}`,userId:n.id,userRole:"user"})}),x.on("order:statusUpdate",g=>{console.log("[ORDERS] Received status update:",g),_e.success(`Order status updated: ${g.message||g.status}`),p()}),x.on("disconnect",()=>{console.log("[ORDERS] Socket disconnected")}),f(x),()=>{x.disconnect()}},[r,t,n]);const p=async()=>{try{l(!0),c(null);const x=await fetch("/api/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(!x.ok)throw new Error("Failed to fetch orders");const g=await x.json();i(g.orders||[])}catch(x){console.error("Error fetching orders:",x),c("Failed to load orders. Please try again later.")}finally{l(!1)}},v=x=>({created:"Pending",pending:"Pending",assigned:"Processing",picked_up:"Shipped",in_transit:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[x.toLowerCase()]||x,j=a.filter(x=>{if(!u)return!0;const g=x.orderStatus||x.status||"";return v(g).toLowerCase()===u.toLowerCase()}),w=x=>{switch(v(x)){case"Pending":return s.jsx(Ze,{className:"h-5 w-5 text-yellow-600"});case"Processing":return s.jsx(Ie,{className:"h-5 w-5 text-blue-600"});case"Shipped":return s.jsx(Ie,{className:"h-5 w-5 text-purple-600"});case"Delivered":return s.jsx(Ae,{className:"h-5 w-5 text-green-600"});case"Cancelled":return s.jsx(Ga,{className:"h-5 w-5 text-red-600"});default:return s.jsx(Ze,{className:"h-5 w-5 text-gray-600"})}},y=x=>{switch(v(x)){case"Pending":return"bg-yellow-100 text-yellow-800";case"Processing":return"bg-blue-100 text-blue-800";case"Shipped":return"bg-purple-100 text-purple-800";case"Delivered":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=x=>{const g=x.paymentMethod||"cod",S=x.paymentStatus||"pending";return S==="paid"&&x.paymentReceivedAt?g==="cod"?`Paid via UPI on ${new Date(x.paymentReceivedAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:`Paid via Razorpay on ${new Date(x.paymentReceivedAt||x.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:S==="paid"?g==="cod"?"Paid via UPI":"Paid via Razorpay":"Payment Pending"};return r?o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Orders"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage your order history"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("select",{value:u,onChange:x=>h(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Orders"}),s.jsx("option",{value:"Pending",children:"Pending"}),s.jsx("option",{value:"Processing",children:"Processing"}),s.jsx("option",{value:"Shipped",children:"Shipped"}),s.jsx("option",{value:"Delivered",children:"Delivered"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})}),d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Error Loading Orders"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d}),s.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"})]}):j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u?"No orders with this status":"No orders found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:u?"Try selecting a different status or view all orders.":"You haven't placed any orders yet. Start shopping to see your orders here."}),u&&s.jsx("button",{onClick:()=>h(""),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"View All Orders"}),!u&&s.jsx("a",{href:"/products",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Start Shopping"})]}):s.jsx("div",{className:"space-y-6",children:j.map(x=>{var g,S,P,k,E;return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v(x.orderStatus||x.status||"")==="Cancelled"&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 font-semibold text-center",children:"Order has been cancelled by the seller"})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Items (",x.items.length,")"]}),s.jsx("div",{className:"space-y-2",children:x.items.map((A,T)=>{var $,L,B,q,H,X,se;const M=typeof A.productId=="object"?A.productId:null,C=A.name||(M==null?void 0:M.name)||(($=A.product)==null?void 0:$.name)||"Product",R=A.price||(M==null?void 0:M.price)||((L=A.product)==null?void 0:L.price)||0,O=A.qty||A.quantity||1;let I="/placeholder-product.png";if(M!=null&&M.images&&M.images.length>0){const _=M.images[0];typeof _=="object"&&_!==null&&(I=_.thumb||_.full)}else if((B=A.product)!=null&&B.images&&A.product.images.length>0){const _=A.product.images[0];typeof _=="object"&&_!==null&&(I=_.thumb||_.full)}else(q=A.product)!=null&&q.imageUrl?I=A.product.imageUrl:C!=="Product"&&(I=kn(M||A.product));I&&I.includes("via.placeholder.com")&&(I="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZTVlN2ViIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM5Y2EzYWYiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+");const F=(typeof A.productId=="object"?(H=A.productId)==null?void 0:H._id:A.productId)||((X=A.product)==null?void 0:X._id)||((se=A.product)==null?void 0:se.id);return s.jsxs("div",{className:"flex items-center space-x-3 py-2 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>F&&e(`/product/${F}`),children:[s.jsx("img",{src:I,alt:C,className:"w-12 h-12 rounded-lg object-cover",onError:_=>{_.target.src!=="/placeholder-product.png"&&(_.target.src="/placeholder-product.png")}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:C}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",O,"  ",R]})]}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",(O*R).toLocaleString()]})]},T)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",x.totalAmount.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),s.jsx("p",{className:"text-sm text-gray-900 mb-1",children:x.paymentStatus==="paid"?"Paid":"Pending"}),s.jsx("p",{className:"text-xs text-gray-600",children:b(x)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Address"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[((g=x.address)==null?void 0:g.addressLine)||((S=x.address)==null?void 0:S.label)||((P=x.shippingAddress)==null?void 0:P.street)||"N/A",", "," ",((k=x.address)==null?void 0:k.city)||((E=x.shippingAddress)==null?void 0:E.city)||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[w(x.orderStatus||x.status||""),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y(x.orderStatus||x.status||"")}`,children:v(x.orderStatus||x.status||"")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",x.totalAmount.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex space-x-3",children:[v(x.orderStatus||x.status||"")!=="Cancelled"&&s.jsxs("button",{onClick:()=>e(`/orders/${x._id}`),className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[s.jsx(ar,{className:"h-4 w-4 mr-1"}),"View Details"]}),v(x.orderStatus||x.status||"")==="Delivered"&&s.jsx("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Reorder"})]}),s.jsx("div",{className:"mt-2 sm:mt-0",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated:"," ",new Date(x.updatedAt).toLocaleDateString()]})})]})]},x._id)})})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to view your orders."})]}),s.jsx("a",{href:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Go to Login"})]})})},_8=()=>{var A,T,M;const{orderId:e}=No(),t=ne(),{tokens:r,isAuthenticated:n}=de(C=>C.auth),[a,i]=N.useState(null),[o,l]=N.useState(!0),[d,c]=N.useState(null),[u,h]=N.useState(null);N.useEffect(()=>{if(!n){t("/login");return}m()},[n,e]),N.useEffect(()=>{if(!n||!(r!=null&&r.accessToken)||!a)return;const C=Cn("http://localhost:5001",{auth:{token:r.accessToken}});return C.on("connect",()=>{var O;console.log("[ORDER_DETAILS] Socket connected");const R=((O=a.userId)==null?void 0:O._id)||a.userId;R&&(C.emit("join_room",{room:`user_${R}`,userId:R,userRole:"user"}),console.log(`[ORDER_DETAILS] Joined room: user_${R}`)),C.emit("join_room",{room:`order_${e}`,userId:R,userRole:"user"}),console.log(`[ORDER_DETAILS] Joined room: order_${e}`)}),C.on("order:statusUpdate",R=>{console.log("[ORDER_DETAILS] Received status update:",R),(R.orderId===e||R.orderId===a._id)&&(_e.success(R.message||`Order status updated: ${R.status}`),m())}),C.on("order:delivered",R=>{console.log("[ORDER_DETAILS] Order delivered:",R),(R.orderId===e||R.orderId===a._id)&&(_e.success(R.message||"Your order has been delivered!"),m())}),C.on("disconnect",()=>{console.log("[ORDER_DETAILS] Socket disconnected")}),h(C),()=>{C.disconnect()}},[n,r,e,a==null?void 0:a._id]);const m=async()=>{try{l(!0),c(null);const C=await fetch(`/api/orders/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r==null?void 0:r.accessToken}`}});if(!C.ok)throw new Error("Failed to fetch order details");const R=await C.json();i(R)}catch(C){console.error("Error fetching order details:",C),c("Failed to load order details. Please try again later.")}finally{l(!1)}},f=C=>{const R=[{key:"created",label:"Order Confirmed",icon:Ae},{key:"picked_up",label:"Picked Up",icon:Ie},{key:"in_transit",label:"In Transit",icon:Ie},{key:"delivered",label:"Delivered",icon:Ae}],O=R.findIndex(I=>I.key===C);return R.map((I,F)=>({...I,completed:F<=O}))};if(o)return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})})});if(d||!a)return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:d||"Order not found"}),s.jsx("button",{onClick:()=>t("/orders"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Back to Orders"})]})})});const p=f(a.orderStatus||"created"),j=(()=>{let C=0,R=0;a.items.forEach(F=>{const $=typeof F.productId=="object"?F.productId:F.product,L=F.qty||F.quantity||1,B=($==null?void 0:$.mrp)||0,q=F.price||($==null?void 0:$.price)||0;C+=(B>0?B:q)*L,R+=q*L});const O=Math.max(0,a.totalAmount-R),I=C>R?C-R:0;return{listingPrice:C,sellingPrice:R,discount:I,deliveryFee:O,totalAmount:a.totalAmount}})(),w=C=>{const R=C.paymentMethod||"cod",O=C.paymentStatus||"pending";return O==="paid"&&C.paymentReceivedAt?R==="cod"?`Paid via UPI on ${new Date(C.paymentReceivedAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:`Paid via Razorpay on ${new Date(C.paymentReceivedAt||C.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:O==="paid"?R==="cod"?"Paid via UPI":"Paid via Razorpay":"Payment Pending"},y=a.address,b=(A=y==null?void 0:y.addressLine)==null?void 0:A.trim(),x=[y==null?void 0:y.city,y==null?void 0:y.state].filter(Boolean).join(", "),g=[x,y==null?void 0:y.pincode].filter(Boolean).join(" "),S=b==null?void 0:b.toLowerCase(),P=x&&S?S.includes(x.toLowerCase()):!1,k=y!=null&&y.pincode&&b?b.includes(String(y.pincode)):!1,E=!!(x||y!=null&&y.pincode)&&(!b||x&&!P||(y==null?void 0:y.pincode)&&!k);return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.orderStatus==="cancelled"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 font-semibold text-center",children:"Order has been cancelled by the seller"})}),a.items.map((C,R)=>{var q,H;const O=typeof C.productId=="object"?C.productId:C.product,I=C.name||(O==null?void 0:O.name)||"Product",F=C.price||(O==null?void 0:O.price)||0,$=C.qty||C.quantity||1;let L=O!=null&&O.images&&O.images.length>0?typeof O.images[0]=="string"?O.images[0]:((q=O.images[0])==null?void 0:q.full)||O.images[0]:"/placeholder-product.png";L&&L.includes("via.placeholder.com")&&(L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZTVlN2ViIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM5Y2EzYWYiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+");const B=(typeof C.productId=="object"?(H=C.productId)==null?void 0:H._id:C.productId)||(O==null?void 0:O._id)||(O==null?void 0:O.id);return s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>B&&t(`/product/${B}`),children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:L,alt:I,className:"w-24 h-24 object-cover rounded-lg",onError:X=>{X.target.src="/placeholder-product.png"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:I}),s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[(O==null?void 0:O.mrp)&&O.mrp>F&&s.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",O.mrp]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",F]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",$]})]})]})},R)}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),s.jsx("div",{className:"space-y-3",children:p.map((C,R)=>{const O=C.icon,I=R===p.length-1,F=p[R+1];return s.jsxs("div",{className:"relative flex items-start",children:[s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${C.completed?"bg-green-500":"bg-gray-200"}`,children:C.completed?s.jsx(Ae,{className:"h-5 w-5 text-white"}):s.jsx(O,{className:"h-5 w-5 text-gray-400"})}),!I&&s.jsx("div",{className:`w-0.5 h-6 mt-1 ${C.completed&&(F!=null&&F.completed)?"bg-green-500":"bg-gray-300"}`})]}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${C.completed?"text-gray-900":"text-gray-500"}`,children:C.label}),C.key===a.orderStatus&&s.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Current Status"})]})]},C.key)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ct,{className:"h-5 w-5 text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((T=a.address)==null?void 0:T.label)||"Home"}),b&&s.jsx("p",{className:"text-sm text-gray-600",children:b}),E&&s.jsx("p",{className:"text-sm text-gray-600",children:g})]})]}),((M=a.userId)==null?void 0:M.name)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-5 w-5 text-gray-500"}),s.jsx("p",{className:"text-sm text-gray-900",children:a.userId.name})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Price Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Listing price"}),s.jsxs("span",{className:"text-gray-500 line-through",children:["",j.listingPrice]})]}),j.discount>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-green-600",children:"Discount"}),s.jsxs("span",{className:"text-green-600",children:["-",j.discount]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 flex items-center",children:["Selling price",s.jsx(Ae,{className:"h-4 w-4 text-green-500 ml-1"})]}),s.jsxs("span",{className:"text-gray-900",children:["",j.sellingPrice]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery fees"}),s.jsx("span",{className:"text-gray-900",children:j.deliveryFee>0?`${j.deliveryFee}`:"FREE"})]}),s.jsx("div",{className:"border-t border-gray-200 pt-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total amount"}),s.jsxs("span",{className:"font-bold text-xl text-gray-900",children:["",j.totalAmount]})]})}),s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Status"}),s.jsx("span",{className:"text-gray-900 font-medium",children:a.paymentStatus==="paid"?"Paid":"Pending"})]}),a.paymentMethod==="cod"&&a.paymentReceivedAt&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment received on"}),s.jsx("span",{className:"text-green-600 font-medium",children:new Date(a.paymentReceivedAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment method"}),s.jsx("span",{className:"text-gray-900 font-medium",children:w(a)})]})]})]})]})]})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function D8(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function d(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):a(u.value).then(l,d)}c((n=n.apply(e,[])).next())})}var I8=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};const My="__googleMapsScriptId";var ma;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(ma||(ma={}));class fn{constructor({apiKey:t,authReferrerPolicy:r,channel:n,client:a,id:i=My,language:o,libraries:l=[],mapIds:d,nonce:c,region:u,retries:h=3,url:m="https://maps.googleapis.com/maps/api/js",version:f}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=i||My,this.language=o,this.libraries=l,this.mapIds=d,this.nonce=c,this.region=u,this.retries=h,this.url=m,this.version=f,fn.instance){if(!I8(this.options,fn.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(fn.instance.options)}`);return fn.instance}fn.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ma.FAILURE:this.done?ma.SUCCESS:this.loading?ma.LOADING:ma.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(n=>{n?r(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(i=>{let o,l,d,c="The Google Maps JavaScript API",u="google",h="importLibrary",m="__ib__",f=document,p=window;p=p[u]||(p[u]={});const v=p.maps||(p.maps={}),j=new Set,w=new URLSearchParams,y=()=>o||(o=new Promise((b,x)=>D8(this,void 0,void 0,function*(){var g;yield l=f.createElement("script"),l.id=this.id,w.set("libraries",[...j]+"");for(d in i)w.set(d.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),i[d]);w.set("callback",u+".maps."+m),l.src=this.url+"?"+w,v[m]=b,l.onerror=()=>o=x(Error(c+" could not load.")),l.nonce=this.nonce||((g=f.querySelector("script[nonce]"))===null||g===void 0?void 0:g.nonce)||"",f.head.append(l)})));v[h]?console.warn(c+" only loads once. Ignoring:",i):v[h]=(b,...x)=>j.add(b)&&y().then(()=>v[h](b,...x))})(n);const a=this.libraries.map(i=>this.importLibrary(i));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),i=>{const o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}var $8={VITE_API_URL:"http://localhost:5001",VITE_CLOUDINARY_CLOUD_NAME:"your_cloud_name_here",VITE_CLOUDINARY_UPLOAD_PRESET:"your_unsigned_upload_preset",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const F8=({center:e,zoom:t=15,markers:r=[],polylines:n=[],onMarkerClick:a,className:i=""})=>{const o=N.useRef(null),[l,d]=N.useState(null),[c,u]=N.useState([]),[h,m]=N.useState([]),[f,p]=N.useState(!0),[v,j]=N.useState(null);return N.useEffect(()=>{(async()=>{try{p(!0),j(null);const b=await new fn({apiKey:$8.VITE_GOOGLE_MAPS_API_KEY||"",version:"weekly",libraries:["places","geometry"]}).load();if(!o.current)return;const x=new b.maps.Map(o.current,{center:e,zoom:t,mapTypeId:b.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});d(x)}catch(y){console.error("Error loading Google Maps:",y),j("Failed to load map")}finally{p(!1)}})()},[]),N.useEffect(()=>{if(!l)return;c.forEach(y=>y.setMap(null)),u([]);const w=r.map(y=>{const b=new google.maps.Marker({position:y.position,map:l,title:y.title,icon:y.icon?{url:y.icon,scaledSize:new google.maps.Size(32,32)}:void 0});if(y.info){const x=new google.maps.InfoWindow({content:y.info});b.addListener("click",()=>{x.open(l,b),a&&a(y.id)})}return b});u(w)},[l,r,a]),N.useEffect(()=>{if(!l)return;h.forEach(y=>y.setMap(null)),m([]);const w=n.map(y=>new google.maps.Polyline({path:y.path,geodesic:!0,strokeColor:y.color||"#0ea5e9",strokeOpacity:1,strokeWeight:y.weight||3,map:l}));m(w)},[l,n]),N.useEffect(()=>{l&&l.setCenter(e)},[l,e]),v?s.jsx("div",{className:`flex items-center justify-center bg-gray-100 ${i}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:v})]})}):s.jsxs("div",{className:`relative ${i}`,children:[f&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}),s.jsx("div",{ref:o,className:"w-full h-full"})]})},B8=({order:e,onStatusUpdate:t,showActions:r=!1})=>{const n=i=>{switch(i){case"created":return"bg-gray-100 text-gray-800";case"assigned":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=i=>{switch(i){case"created":return"Order Created";case"assigned":return"Assigned to Driver";case"picked_up":return"Picked Up";case"in_transit":return"In Transit";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return i}};return s.jsxs(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Order #",e._id.slice(-8)]}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(e.orderStatus)}`,children:a(e.orderStatus)})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Items:"}),s.jsx("div",{className:"space-y-1",children:e.items.map((i,o)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[i.name,"  ",i.qty]}),s.jsxs("span",{className:"font-medium",children:["",(i.price*i.qty).toFixed(2)]})]},o))}),s.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsxs("span",{className:"font-bold text-lg",children:["",e.totalAmount.toFixed(2)]})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Address:"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.address.label,": ",e.address.addressLine,","," ",e.address.city," - ",e.address.pincode]})]}),e.deliveryBoy&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Boy:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary-600",children:e.deliveryBoy.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.deliveryBoy.name}),s.jsxs("p",{className:"text-xs text-gray-600",children:[e.deliveryBoy.vehicleType,"  ",e.deliveryBoy.phone]})]})]})]}),r&&t&&s.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[e.orderStatus==="assigned"&&s.jsx("button",{onClick:()=>t(e._id,"picked_up"),className:"flex-1 py-2 px-3 bg-yellow-600 text-white rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors",children:"Mark as Picked Up"}),e.orderStatus==="picked_up"&&s.jsx("button",{onClick:()=>t(e._id,"in_transit"),className:"flex-1 py-2 px-3 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:"Start Delivery"}),e.orderStatus==="in_transit"&&s.jsx("button",{onClick:()=>t(e._id,"delivered"),className:"flex-1 py-2 px-3 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:"Mark as Delivered"})]})]})},wN=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!1);return N.useEffect(()=>{const a=Cn("http://localhost:5001",{transports:["websocket"]});return a.on("connect",()=>{console.log("Connected to server"),n(!0)}),a.on("disconnect",()=>{console.log("Disconnected from server"),n(!1)}),t(a),()=>{a.disconnect()}},[]),{socket:e,isConnected:r}},U8=e=>{const{socket:t}=wN(),[r,n]=N.useState("created"),[a,i]=N.useState("pending");return N.useEffect(()=>{if(!(!t||!e))return t.emit("join_room",{room:`order_${e}`,userId:"user"}),t.on("order:status:update",o=>{o.orderId===e&&n(o.status)}),t.on("order:payment:success",o=>{o.orderId===e&&i("paid")}),t.on("order:payment:failed",o=>{o.orderId===e&&i("failed")}),()=>{t.off("order:status:update"),t.off("order:payment:success"),t.off("order:payment:failed")}},[t,e]),{orderStatus:r,paymentStatus:a}},z8=()=>{var m,f;const{id:e}=No(),[t,r]=N.useState(null),[n,a]=N.useState(null),[i,o]=N.useState(!0),{orderStatus:l,paymentStatus:d}=U8(e||""),{socket:c}=wN();if(N.useEffect(()=>{(async()=>{try{const v=await fetch(`/api/orders/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(v.ok){const j=await v.json();r(j)}else{const j={_id:e,items:[{name:"Rice 1kg",qty:2,price:50},{name:"Dal 500g",qty:1,price:80}],totalAmount:180,address:{label:"Home",addressLine:"123 Main Street",city:"Hyderabad",pincode:"500001",lat:17.385,lng:78.4867},orderStatus:"in_transit",paymentStatus:"paid",createdAt:new Date().toISOString(),deliveryBoy:{name:"Rajesh Kumar",phone:"9876543210",vehicleType:"bike"}};r(j)}}catch(v){console.error("Failed to fetch order:",v)}finally{o(!1)}})(),a({lat:17.39,lng:78.49})},[e]),N.useEffect(()=>{t&&l&&l!==t.orderStatus&&(r(p=>({...p,orderStatus:l})),_e.success(`Order status updated: ${l}`))},[l,t]),N.useEffect(()=>{t&&d&&d!==t.paymentStatus&&(r(p=>({...p,paymentStatus:d})),d==="paid"?_e.success("Payment confirmed!"):d==="failed"&&_e.error("Payment failed"))},[d,t]),N.useEffect(()=>{if(c&&(t!=null&&t.deliveryBoyId))return c.emit("join_room",{room:`order_${e}`,userId:"customer",userRole:"customer"}),c.on("driver:location:update",p=>{p.driverId===t.deliveryBoyId&&a({lat:p.lat,lng:p.lng})}),()=>{c.off("driver:location:update")}},[c,t,e]),i)return s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})})});if(!t)return s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Order Tracking"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order not found"}),s.jsx("p",{className:"text-gray-600",children:"The order you're looking for doesn't exist."})]})]})});const u=[{id:"destination",position:{lat:t.address.lat,lng:t.address.lng},title:"Delivery Address",icon:"",info:`${t.address.label}: ${t.address.addressLine}`}];n&&u.push({id:"driver",position:n,title:"Delivery Boy",icon:"",info:`${(m=t.deliveryBoy)==null?void 0:m.name} - ${(f=t.deliveryBoy)==null?void 0:f.vehicleType}`});const h=n?[{path:[{lat:n.lat,lng:n.lng},{lat:t.address.lat,lng:t.address.lng}],color:"#0ea5e9",weight:3}]:[];return s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Order Tracking"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Live Tracking"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Real-time delivery location"})]}),s.jsx("div",{className:"h-96",children:s.jsx(F8,{center:t.address,zoom:13,markers:u,polylines:h,className:"h-full"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(B8,{order:t}),t.orderStatus==="cancelled"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 font-semibold text-center",children:"Order has been cancelled by the seller"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),s.jsx("div",{className:"space-y-4",children:[{status:"created",label:"Order Created",completed:!0},{status:"assigned",label:"Assigned to Driver",completed:!0},{status:"picked_up",label:"Picked Up",completed:t.orderStatus==="picked_up"||t.orderStatus==="in_transit"||t.orderStatus==="delivered"},{status:"in_transit",label:"In Transit",completed:t.orderStatus==="in_transit"||t.orderStatus==="delivered"},{status:"delivered",label:"Delivered",completed:t.orderStatus==="delivered"}].map((p,v)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${p.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:p.completed?"":v+1}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${p.completed?"text-green-700":"text-gray-600"}`,children:p.label}),p.status===t.orderStatus&&s.jsx("p",{className:"text-sm text-primary-600",children:"Current Status"})]})]},p.status))})]}),t.orderStatus==="in_transit"&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-blue-900",children:"Estimated Delivery"}),s.jsx("p",{className:"text-blue-700",children:"15-20 minutes"})]})]})})]})]})]})})},V8=()=>{var d,c,u;const e=ne(),{data:t,isLoading:r,isFetching:n,error:a,refetch:i}=Un(void 0),o=r||n,l=async()=>{try{await i(),_e.success("Profile refreshed successfully")}catch{_e.error("Failed to refresh profile")}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(hm,{className:"h-12 w-12 text-red-600 mx-auto"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Failed to Load Profile"}),s.jsx("p",{className:"text-gray-600 mb-4",children:((d=a==null?void 0:a.data)==null?void 0:d.error)||"Unable to load your profile information"}),s.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[s.jsx(cp,{className:"h-4 w-4"}),s.jsx("span",{children:"Retry"})]})]})}):o?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Profile"}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ls,{variant:"text",width:"50%"}),s.jsx(ls,{variant:"text",width:"40%"}),s.jsx(ls,{variant:"text",width:"60%"}),s.jsx(ls,{variant:"rectangular",height:80})]})]})})]})}):s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Profile"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-8",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:((u=(c=t==null?void 0:t.name)==null?void 0:c.charAt(0))==null?void 0:u.toUpperCase())||"U"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.name)||"User"}),s.jsx("p",{className:"text-gray-600",children:(t==null?void 0:t.email)||"No email"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Be,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:(t==null?void 0:t.name)||"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Wt,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium",children:(t==null?void 0:t.email)||"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(ht,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:(t==null?void 0:t.phone)||"Not set"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>e("/account/profile/edit"),className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors","data-testid":"edit-profile-button",children:[s.jsx(up,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit Profile"})]}),s.jsxs("button",{onClick:()=>e("/settings"),className:"flex-1 flex items-center justify-center space-x-2 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:[s.jsx(Ao,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),s.jsxs("button",{onClick:()=>e("/orders"),className:"flex-1 flex items-center justify-center space-x-2 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:[s.jsx(Ie,{className:"h-4 w-4"}),s.jsx("span",{children:"My Orders"})]})]})]}),s.jsx("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(hm,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Account Status"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your account is active and secure"})]})]})})]})})},q8=()=>{const e=ft(),t=ne(),{error:r,success:n}=Ts(),a=de(C=>C.auth);N.useEffect(()=>{a.isAuthenticated||(r("Please log in to manage your addresses"),t("/login",{replace:!0}))},[a.isAuthenticated,t,r]);const{data:i,isLoading:o,error:l,refetch:d}=rp(void 0,{skip:!a.isAuthenticated}),[c]=ZC(),[u]=e6(),[h]=t6(),[m]=qj(),[f,p]=N.useState([]);N.useEffect(()=>{if(a.isAuthenticated){const C=(i==null?void 0:i.addresses)||[];if(C.length>0){const R=C.map(O=>({id:O._id||O.id,name:O.name||"User",address:O.addressLine,city:O.city,state:O.state,pincode:O.pincode,phone:O.phone||"",label:O.label,isDefault:O.isDefault}));p(R)}else p([])}},[i,a.isAuthenticated]),N.useEffect(()=>{const C=()=>{d()};return window.addEventListener("addressesUpdated",C),()=>{window.removeEventListener("addressesUpdated",C)}},[d]);const[v,j]=N.useState(!1),[w,y]=N.useState(null),[b,x]=N.useState(null);N.useEffect(()=>{const C=localStorage.getItem("autofillAddress");if(C)try{const R=JSON.parse(C);x({address:R.addressLine||"",city:R.city||"",state:R.state||"",pincode:R.pincode||""}),j(!0),localStorage.removeItem("autofillAddress")}catch(R){console.error("Failed to parse autofill data:",R)}},[]);const g=async C=>{try{if(await m(C).unwrap(),await d(),a.user){const R={...a.user,addresses:f.map(O=>({...O,isDefault:O.id===C}))};e(Bn(R))}window.dispatchEvent(new CustomEvent("addressesUpdated")),n("Default address updated successfully!")}catch(R){console.error("Error setting default address:",R),r("Failed to set default address")}},S=C=>{y(C),j(!0)},P=async C=>{try{const R=await h(C).unwrap();await d(),window.dispatchEvent(new CustomEvent("addressesUpdated")),R.defaultUpdated?n("Address removed successfully. Default address updated."):n("Address removed successfully!")}catch(R){console.error("Error deleting address:",R),r("Failed to delete address")}},k=()=>{y(null),x(null),j(!0)},E=C=>{x(C),y(null),j(!0)},A=f||[],T=A.find(C=>C.isDefault)||null,M=A.filter(C=>!C.isDefault);return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"w-64 bg-white rounded-lg shadow-sm p-6 h-fit",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Account"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Overview"}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"ORDERS"}),s.jsx("div",{className:"ml-4 space-y-1",children:s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Orders & Returns"})}),s.jsx("div",{className:"text-sm text-gray-600 mb-2 mt-4",children:"CREDITS"}),s.jsxs("div",{className:"ml-4 space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Coupons"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"CS Store Credit"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"CS Store Cash"})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-2 mt-4",children:"ACCOUNT"}),s.jsxs("div",{className:"ml-4 space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Profile"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Saved Cards"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Saved UPI"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Saved Wallets/BNPL"}),s.jsx("div",{className:"text-sm text-blue-600 font-medium py-1",children:"Addresses"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"CS Store Insider"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Delete Account"})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-2 mt-4",children:"LEGAL"}),s.jsxs("div",{className:"ml-4 space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Terms of Use"}),s.jsx("div",{className:"text-sm text-gray-700 hover:text-blue-600 cursor-pointer py-1",children:"Privacy Center"})]})]})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Saved Addresses"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:async()=>{try{if(!navigator.geolocation){r("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(async C=>{const{latitude:R,longitude:O}=C.coords;try{const F=await(await fetch(`/api/location/reverse-geocode?lat=${R}&lng=${O}`)).json();if(F.success&&F.data){const $=F.data.state||"",L=F.data.pincode||"";console.log("Detected State:",$),console.log("Detected Pincode:",L);const q=["andhra pradesh","telangana"].some(X=>$.toLowerCase().includes(X)),H=L?Fi(L):!1;if(console.log("Is Valid State:",q),console.log("Is Valid Pincode:",H),!q&&!H){const X=`Delivery not available for ${$||"your location"}. We only deliver to Andhra Pradesh and Telangana.`;console.log("Showing error:",X),r(X),alert(X);return}E({name:"",address:F.data.address||"",city:F.data.city||"",state:$,pincode:L,phone:"",label:"Home"}),n("Location detected successfully!")}else r("Could not determine your location")}catch(I){console.error("Reverse geocoding failed:",I),r("Could not determine your location")}},C=>{let R="Could not access your location";C.code===C.PERMISSION_DENIED&&(R="Please allow location access and try again"),r(R)})}catch{r("Could not access your location")}},className:"flex items-center gap-2 bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[s.jsx(Ct,{className:"w-4 h-4"}),"USE CURRENT LOCATION"]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Tc,{className:"w-4 h-4"}),"ADD NEW ADDRESS"]})]})]}),o&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading addresses..."})]}),l&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-800",children:"Failed to load addresses. Please try again."})}),T&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4 uppercase",children:"Default Address"}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Be,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:T.name})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-gray-600 mt-0.5"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("div",{children:T.address}),s.jsxs("div",{children:[T.city," - ",T.pincode,","," ",T.state]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ht,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-gray-700",children:T.phone})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"EDIT"}),s.jsx("div",{className:"w-px bg-gray-300"}),s.jsx("button",{onClick:()=>P(T.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"REMOVE"})]})]})})]}),M.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4 uppercase",children:"Other Addresses"}),s.jsx("div",{className:"space-y-4",children:M.map(C=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Be,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:C.name}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:C.label})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-gray-600 mt-0.5"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("div",{children:C.address}),s.jsxs("div",{children:[C.city," - ",C.pincode,","," ",C.state]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ht,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-gray-700",children:C.phone})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>g(C.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"SET AS DEFAULT"}),s.jsx("button",{onClick:()=>S(C),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"EDIT"}),s.jsx("div",{className:"w-px bg-gray-300"}),s.jsx("button",{onClick:()=>P(C.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"REMOVE"})]})]})},C.id))})]}),v&&s.jsx(H8,{address:w,autoFillData:b,onClose:()=>{j(!1),y(null),x(null)},onSave:async C=>{var R;try{const O={name:C.name,label:C.label,pincode:C.pincode,city:C.city,state:C.state,addressLine:C.address,phone:C.phone,isDefault:f.length===0};w?await u({addressId:w.id,...O}).unwrap():await c(O).unwrap(),await d(),window.dispatchEvent(new CustomEvent("addressesUpdated")),j(!1),y(null),n(w?"Address updated successfully!":"Address added successfully!")}catch(O){console.error(" Error saving address to backend:",O),r(((R=O==null?void 0:O.data)==null?void 0:R.message)||(O==null?void 0:O.message)||"Failed to save address. Please try again.")}}})]})})]})})})},H8=({address:e,autoFillData:t,onClose:r,onSave:n})=>{const[a,i]=N.useState({name:(e==null?void 0:e.name)||(t==null?void 0:t.name)||"",address:(e==null?void 0:e.address)||(t==null?void 0:t.address)||"",city:(e==null?void 0:e.city)||(t==null?void 0:t.city)||"",state:(e==null?void 0:e.state)||(t==null?void 0:t.state)||"",pincode:(e==null?void 0:e.pincode)||(t==null?void 0:t.pincode)||"",phone:(e==null?void 0:e.phone)||(t==null?void 0:t.phone)||"",label:(e==null?void 0:e.label)||(t==null?void 0:t.label)||"HOME"}),[o,l]=N.useState({message:"",isValid:!1,isDeliverable:!1}),d=async u=>{const h=u.target.value;if(i({...a,pincode:h}),h.length===6){l({message:"Validating pincode...",isValid:!1,isDeliverable:!1});try{const m=await IR(h);l(m?{message:BR(m),isValid:!0,isDeliverable:m.isDeliverable}:{message:"Please enter a valid 6-digit pincode",isValid:!1,isDeliverable:!1})}catch(m){console.error("Error validating pincode:",m),l({message:"Error validating pincode. Please try again.",isValid:!1,isDeliverable:!1})}}else h.length>0?l({message:"Pincode must be 6 digits",isValid:!1,isDeliverable:!1}):l({message:"",isValid:!1,isDeliverable:!1})},c=u=>{u.preventDefault(),!(a.pincode&&!Fi(a.pincode))&&n(a)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?"Edit Address":"Add New Address"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a.name,onChange:u=>i({...a,name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a.pincode,onChange:d,maxLength:6,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.isValid&&o.isDeliverable?"border-green-500":o.isValid&&!o.isDeliverable?"border-red-500":"border-gray-300"}`,required:!0}),o.message&&s.jsx("p",{className:`text-sm mt-1 ${o.isValid&&o.isDeliverable?"text-green-600":o.isValid&&!o.isDeliverable?"text-red-600":"text-gray-600"}`,children:o.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a.city,onChange:u=>i({...a,city:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a.state,onChange:u=>i({...a,state:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:a.address,onChange:u=>i({...a,address:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:a.phone,onChange:u=>i({...a,phone:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Label ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:a.label,onChange:u=>i({...a,label:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"HOME",children:"Home"}),s.jsx("option",{value:"OFFICE",children:"Office"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!!(a.pincode&&!Fi(a.pincode)),className:`flex-1 px-4 py-2 rounded-lg transition-colors ${a.pincode&&!Fi(a.pincode)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e?"Update Address":"Add Address"})]})]})]})})})},W8=({prefilledCredentials:e})=>{const t=ft(),r=ne(),[n,a]=N.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[i,o]=N.useState({}),[l,d]=N.useState(!1),[c,u]=N.useState(null),[h,m]=N.useState(!1),[f,p]=N.useState(""),[v,j]=N.useState(!1),[w,y]=N.useState(""),[b,x]=N.useState(!1),[g,S]=N.useState(30),[P,k]=N.useState(!1),E=I=>{const F=/^[0-9]{10,12}$/,$=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return F.test(I)?"phone":($.test(I),"email")};N.useEffect(()=>{if(e!=null&&e.emailOrPhone){console.log(" SIGNUP FORM: Pre-filling credentials:",e.emailOrPhone);const I=E(e.emailOrPhone);a(F=>({...F,[I]:e.emailOrPhone||""})),console.log(` SIGNUP FORM: Pre-filled ${I} field with:`,e.emailOrPhone)}},[e]);const A=I=>/^[6-9]\d{9}$/.test(I),T=I=>{const{name:F,value:$}=I.target;if(F==="phone"){const L=$.replace(/\D/g,"").slice(0,10);m(!1),p(""),x(!1),y(""),a(B=>({...B,[F]:L})),i.phone&&o(B=>({...B,phone:""}))}else a(L=>({...L,[F]:$}))},M=()=>{const I={};return n.name.trim()||(I.name="Name is required"),n.email.trim()||(I.email="Email is required"),n.phone.trim()?A(n.phone)||(I.phone="Invalid number. Enter a 10-digit number starting with 69."):I.phone="Please enter your mobile number",n.password||(I.password="Password is required"),n.password!==n.confirmPassword&&(I.confirmPassword="Passwords do not match"),o(I),Object.keys(I).length===0},C=async()=>{if(!n.phone||!A(n.phone)){y("Please enter a valid 10-digit mobile number");return}try{j(!0),y("");const I=await fetch("http://localhost:5001/api/auth/send-otp?mode=signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n.phone.replace(/\D/g,"")})}),F=await I.json();if(!I.ok)throw new Error(F.error||F.message||"Failed to send OTP");m(!0),y(""),S(30),k(!1);const $=setInterval(()=>{S(L=>L<=1?(clearInterval($),k(!0),0):L-1)},1e3)}catch(I){y(I instanceof Error?I.message:"Failed to send OTP"),m(!1)}finally{j(!1)}},R=async()=>{if(!f||f.length!==6){y("Please enter a valid 6-digit OTP");return}try{j(!0),y("");const I=await fetch("http://localhost:5001/api/auth/verify-otp?mode=signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otp:f,phone:n.phone.replace(/\D/g,"")})}),F=await I.json();if(!I.ok)throw new Error(F.error||F.message||"OTP verification failed");x(!0),y("")}catch(I){x(!1),y(I instanceof Error?I.message:"OTP verification failed")}finally{j(!1)}},O=async I=>{if(I.preventDefault(),!!M()){if(n.phone&&!b){y("Please verify your mobile number with OTP first");return}d(!0);try{const F=await fetch(`http://localhost:5001/api/auth/signup?t=${Date.now()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,phone:n.phone,password:n.password})}),$=await F.json();if(F.ok){const L=$.accessToken||$.token||null,B=$.refreshToken||$.refresh_token||null;if(L){t(Bn($.user)),t(Co({accessToken:L,refreshToken:B})),localStorage.setItem("accessToken",L),B&&localStorage.setItem("refreshToken",B);try{await fetch("http://localhost:5001/api/otp/verification/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({phone:n.phone})})}catch{}o({}),u("Signup successful! Your account has been created."),setTimeout(()=>{r("/dashboard")},1500)}else o({}),u("Account created successfully. Please log in to continue.")}else{const L=$.error||$.message||"Signup failed";L.toLowerCase().includes("email")&&L.toLowerCase().includes("exists")?o({email:"An account with this email already exists"}):L.toLowerCase().includes("phone")&&L.toLowerCase().includes("exists")?o({phone:"An account with this phone number already exists"}):o({general:L})}}catch{o({general:"Network error. Please try again."})}finally{d(!1)}}};return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Create Account"}),c&&s.jsx("p",{className:"text-blue-600 text-sm mb-3",children:c}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:T,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"}),i.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:T,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"}),i.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),s.jsxs("div",{className:"flex gap-2 mt-1 items-center",children:[s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:T,className:`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${i.phone?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"Enter your 10-digit mobile number",maxLength:10}),b?s.jsx("div",{"aria-live":"polite",className:"inline-flex items-center px-3 py-2 bg-green-50 border border-green-200 text-green-700 rounded-md text-sm",children:" Verified"}):s.jsx("button",{type:"button",onClick:C,disabled:!n.phone||n.phone.length!==10||v,className:"inline-flex items-center px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md text-sm transition-colors",children:v&&!h?"Sending...":"Verify"})]}),i.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.phone}),h&&!b&&s.jsxs("div",{className:"flex gap-2 mt-3 items-center",children:[s.jsx("input",{type:"text",inputMode:"numeric",value:f,onChange:I=>p(I.target.value.replace(/\D/g,"").slice(0,6)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit OTP",maxLength:6}),s.jsx("button",{type:"button",onClick:R,disabled:f.length!==6||v,className:"px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors",children:v?"Submitting...":"Submit"})]}),h&&!b&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("button",{type:"button",disabled:!P,onClick:C,className:`text-sm font-medium transition-colors ${P?"text-blue-600 hover:text-blue-700 cursor-pointer":"text-gray-400 cursor-not-allowed"}`,style:{background:"none",border:"none",padding:0},children:"Resend OTP"}),s.jsx("span",{className:"text-sm text-gray-500",children:P?"":`Resend in ${g}s`})]}),b&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:s.jsx("p",{className:"text-green-700 text-sm font-medium",children:" Mobile number verified successfully"})}),w&&!b&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:w})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:T,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password"}),i.password&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:T,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your password"}),i.confirmPassword&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.confirmPassword})]}),i.general&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.general}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:l?"Creating account...":"Create Account"})]})]})},K8=()=>{const e=ts(),t=ne(),{isAuthenticated:r,user:n}=de(d=>d.auth);N.useEffect(()=>{if(r){if(n!=null&&n.isAdmin||(n==null?void 0:n.role)==="admin"){t("/admin",{replace:!0});return}t("/dashboard",{replace:!0})}},[r,n,t]);const a=new URLSearchParams(e.search),i=a.get("prefill"),o=a.get("fromLogin")==="true",l=i?{emailOrPhone:decodeURIComponent(i),fromLogin:o}:null;return r?null:s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"CS Store"})}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx(W8,{prefilledCredentials:l})})]})},Q8=()=>s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Menu"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Page"}),s.jsx("p",{className:"text-gray-600",children:"Coming soon..."})]})]})}),G8=()=>{const e=ne(),{tokens:t,isAuthenticated:r}=de(u=>u.auth),[n,a]=N.useState({totalProducts:0,totalUsers:0,totalOrders:0,totalDeliveryBoys:0,recentOrders:0,totalRevenue:0}),[i,o]=N.useState(!0),[l,d]=N.useState(null);N.useEffect(()=>{let u=!0,h=!1;return(async()=>{try{if(!u||h)return;if(o(!0),d(null),!(t!=null&&t.accessToken)||!r){console.log("AdminDashboard: No access token or not authenticated, skipping fetch"),u&&o(!1);return}const f=await fetch("http://localhost:5001/api/admin/dashboard-stats",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!f.ok){const v=await f.json();if(console.error("API error response:",v),f.status===401||f.status===403){console.log("AdminDashboard: Token expired/revoked, redirecting to home"),h||(h=!0,localStorage.removeItem("auth"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/");return}throw new Error(`Failed to fetch stats: ${v.error||f.statusText}`)}const p=await f.json();u&&a(p)}catch(f){console.error("Error fetching dashboard stats:",f),u&&d("Failed to load dashboard stats. Please try again later.")}finally{u&&o(!1)}})(),()=>{u=!1}},[t,r]);const c=[{id:"products",title:"Products Management",description:"Create, edit, and manage products",icon:Ie,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",path:"/admin/products"},{id:"users",title:"Users Management",description:"View and manage user accounts",icon:Zt,color:"bg-green-500",hoverColor:"hover:bg-green-600",path:"/admin/users"},{id:"orders",title:"Orders Management",description:"View and manage customer orders",icon:Vt,color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600",path:"/admin/orders"},{id:"delivery-boys",title:"Delivery Boy Management",description:"Manage delivery personnel and operations",icon:Vr,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",path:"/admin/delivery-boys"},{id:"analytics",title:"Sales Analytics",description:"View sales reports and analytics",icon:ho,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",path:"/admin/analytics"},{id:"payments",title:"Payment Logs",description:"Monitor all payment transactions",icon:Ws,color:"bg-emerald-500",hoverColor:"hover:bg-emerald-600",path:"/admin/payments"}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"w-full",children:s.jsxs("main",{className:"p-6",children:[l&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[s.jsx("p",{children:l}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-sm font-medium text-red-800 hover:text-red-900 underline",children:"Refresh Page"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ie,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":n.totalProducts})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Zt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":n.totalUsers})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(Vt,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":n.totalOrders})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Vr,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivery Boys"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i?"...":n.totalDeliveryBoys})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(u=>{const h=u.icon;return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(u.path),children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:`p-3 ${u.color} rounded-lg`,children:s.jsx(h,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 ml-4",children:u.title})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),s.jsx("button",{className:`w-full py-2 px-4 ${u.color} ${u.hoverColor} text-white rounded-md transition-colors`,children:"Manage"})]},u.id)})})]})})})};function Y8({images:e,onChange:t}){const r=N.useRef(null),[n,a]=N.useState(!1),[i,o]=N.useState(!1),l=p=>new Promise((v,j)=>{const w=new FileReader;w.onload=()=>{const b=w.result.split(",")[1];v(b)},w.onerror=j,w.readAsDataURL(p)}),d=async p=>{const v=await l(p),j=await fetch("/api/uploads/cloudinary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:v})});if(!j.ok)throw new Error(`Upload failed: ${j.statusText}`);return await j.json()},c=async p=>{if(!(!p||p.length===0)){a(!0);try{const v=Array.from(p).map(async y=>await d(y)),j=await Promise.all(v),w=[...e,...j];t(w)}catch(v){console.error("Upload failed:",v),alert("Failed to upload images. Please try again.")}finally{a(!1)}}},u=async p=>{await c(p.target.files),p.target&&(p.target.value="")},h=p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?o(!0):p.type==="dragleave"&&o(!1)},m=async p=>{p.preventDefault(),p.stopPropagation(),o(!1),await c(p.dataTransfer.files)},f=p=>{const v=e.filter((j,w)=>w!==p);t(v)};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`
          relative border-2 border-dashed rounded-lg p-8 text-center transition-colors
          ${i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${n?"opacity-50 pointer-events-none":""}
        `,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:m,children:[s.jsx("input",{ref:r,type:"file",multiple:!0,accept:"image/*",onChange:u,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed",disabled:n}),s.jsx("div",{className:"pointer-events-none",children:n?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600",children:"Uploading images..."})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("p",{className:"text-gray-600",children:["Drop images here or"," ",s.jsx("button",{type:"button",className:"text-blue-500 hover:text-blue-600 font-medium",onClick:()=>{var p;return(p=r.current)==null?void 0:p.click()},children:"browse"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Supports: JPG, PNG, GIF, WebP (Max 5MB per file)"})]})})]}),e.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["Uploaded Images (",e.length,"/5)"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((p,v)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border border-gray-200",children:s.jsx("img",{src:p.thumb,alt:`Upload ${v+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>f(v),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:v+1})]},v))})]})]})}const J8=()=>{const e=ne(),{tokens:t,isAuthenticated:r,user:n}=de(C=>C.auth),[a]=o6(),[i]=l6(),[o,l]=N.useState([]),[d,c]=N.useState(!0),[u,h]=N.useState(null),[m,f]=N.useState(""),[p,v]=N.useState(""),[j,w]=N.useState(null),[y,b]=N.useState(!1),[x,g]=N.useState({name:"",description:"",price:0,mrp:0,category:"",stock:0,weight:0,images:[]});N.useEffect(()=>{if(!r||!(n!=null&&n.isAdmin)){e("/login");return}S()},[r,n,e]);const S=async()=>{try{if(c(!0),h(null),!(t!=null&&t.accessToken))throw new Error("No authentication token available");const C=await fetch("/api/admin/products",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!C.ok){const O=await C.json();if(console.error("API error response:",O),C.status===401||C.status===403){localStorage.removeItem("auth"),window.location.href="/login";return}throw new Error(O.error||"Failed to fetch products")}const R=await C.json();l(R.products||[])}catch(C){console.error("Error fetching products:",C),h(C instanceof Error?C.message:"Failed to load products. Please try again later.")}finally{c(!1)}},P=async C=>{if(window.confirm("Are you sure you want to delete this product?"))try{await i(C).unwrap(),l(o.filter(R=>R._id!==C))}catch(R){console.error("Error deleting product:",R),alert("Failed to delete product. Please try again.")}},k=C=>{w(C);let R=[];C.images&&C.images.length>0&&(typeof C.images[0]=="string"?R=C.images.map(O=>({full:O,thumb:O})):R=C.images),g({name:C.name,description:C.description,price:C.price,mrp:C.mrp||0,category:C.category,stock:C.stock,weight:C.weight||0,images:R}),b(!0)},E=async C=>{if(C.preventDefault(),!!j)try{await a({id:j._id,...x,images:x.images}).unwrap(),S(),b(!1),w(null),g({name:"",description:"",price:0,mrp:0,category:"",stock:0,weight:0,images:[]})}catch(R){console.error("Error updating product:",R),alert("Failed to update product. Please try again.")}},A=()=>{b(!1),w(null),g({name:"",description:"",price:0,mrp:0,category:"",stock:0,weight:0,images:[]})},T=o.filter(C=>{const R=C.name.toLowerCase().includes(m.toLowerCase())||C.description.toLowerCase().includes(m.toLowerCase())||C.category.toLowerCase().includes(m.toLowerCase()),O=!p||C.category===p;return R&&O}),M=[...new Set(o.map(C=>C.category).filter(Boolean))];return d?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:s.jsx(Ne,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Products Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage your product catalog"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:m,onChange:C=>f(C.target.value),placeholder:"Search products...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64"})]}),s.jsxs("select",{value:p,onChange:C=>v(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Categories"}),M.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("button",{onClick:()=>e("/admin/products/new"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Tc,{className:"h-4 w-4"}),"Add Product"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Error Loading Products"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsxs("div",{className:"space-x-3",children:[s.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("auth"),window.location.href="/login"},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Login Again"})]})]}):T.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Products Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:m||p?"No products match your current filters.":"No products available. Add your first product to get started."}),s.jsxs("button",{onClick:()=>e("/admin/products/new"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[s.jsx(Tc,{className:"h-4 w-4"}),"Add Product"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:kn(C)?s.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:kn(C),alt:C.name}):s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:s.jsx(Ie,{className:"h-6 w-6 text-gray-400"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:C.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:C.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xs,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[C.mrp&&C.mrp>0&&s.jsxs("span",{className:"text-gray-500 line-through text-xs",children:["",C.mrp.toLocaleString()]}),s.jsxs("span",{className:"font-semibold",children:["",C.price.toLocaleString()]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.stock>10?"bg-green-100 text-green-800":C.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[C.stock," units"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.weight?`${C.weight}g`:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(C),className:"text-blue-600 hover:text-blue-900 p-1",children:s.jsx(up,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>P(C._id),className:"text-red-600 hover:text-red-900 p-1",children:s.jsx(hp,{className:"h-4 w-4"})})]})})]},C._id))})]})})}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Z3,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Ie,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.filter(C=>C.stock>0).length})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categories"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.length})]})]})})]}),y&&j&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Product"}),s.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),s.jsx("input",{type:"text",value:x.name,onChange:C=>g({...x,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:x.description,onChange:C=>g({...x,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MRP ()"}),s.jsx("input",{type:"number",value:x.mrp,onChange:C=>g({...x,mrp:Number(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Maximum Retail Price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selling Price ()"}),s.jsx("input",{type:"number",value:x.price,onChange:C=>g({...x,price:Number(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),s.jsx("input",{type:"number",value:x.stock,onChange:C=>g({...x,stock:Number(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("input",{type:"text",value:x.category,onChange:C=>g({...x,category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (g)"}),s.jsx("input",{type:"number",value:x.weight,onChange:C=>g({...x,weight:Number(C.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Images"}),s.jsx(Y8,{images:x.images,onChange:C=>g({...x,images:C})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Update Product"})]})]})]})})})]})})};function X8({images:e,onChange:t}){const r=N.useRef(null),[n,a]=N.useState(!1),i=h=>{if(!h||h.length===0)return;const m=Array.from(h).filter(p=>p.type.startsWith("image/")),f=[...e,...m].slice(0,5);t(f)},o=h=>{i(h.target.files),h.target&&(h.target.value="")},l=h=>{h.preventDefault(),h.stopPropagation(),h.type==="dragenter"||h.type==="dragover"?a(!0):h.type==="dragleave"&&a(!1)},d=h=>{h.preventDefault(),h.stopPropagation(),a(!1),i(h.dataTransfer.files)},c=h=>{const m=e.filter((f,p)=>p!==h);t(m)},u=h=>{if(h===0)return"0 Bytes";const m=1024,f=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(h)/Math.log(m));return parseFloat((h/Math.pow(m,p)).toFixed(2))+" "+f[p]};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`
          relative border-2 border-dashed rounded-lg p-8 text-center transition-colors
          ${n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${e.length>=5?"opacity-50 pointer-events-none":""}
        `,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:d,children:[s.jsx("input",{ref:r,type:"file",multiple:!0,accept:"image/*",onChange:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed",disabled:e.length>=5}),s.jsx("div",{className:"pointer-events-none",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("p",{className:"text-gray-600",children:["Drop images here or"," ",s.jsx("button",{type:"button",className:"text-blue-500 hover:text-blue-600 font-medium",onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},children:"browse"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Supports: JPG, PNG, GIF, WebP (Max 5MB per file)"}),s.jsxs("p",{className:"text-xs text-gray-400",children:[e.length,"/5 images selected"]})]})})]}),e.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["Selected Images (",e.length,"/5)"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((h,m)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border border-gray-200",children:s.jsx("img",{src:URL.createObjectURL(h),alt:`Upload ${m+1}`,className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:()=>c(m),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:m+1}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 truncate",children:[h.name," (",u(h.size),")"]})]},m))})]})]})}const Z8=()=>{const e=ne(),{isAuthenticated:t}=de(d=>d.auth),[r,{isLoading:n}]=i6(),[a,i]=N.useState([]);ke.useEffect(()=>{t||e("/login")},[t,e]);const o=async d=>{d.preventDefault();const c=d.target,u=new FormData;u.append("name",c.elements.namedItem("name").value),u.append("description",c.elements.namedItem("description").value),u.append("category",c.elements.namedItem("category").value),u.append("price",c.elements.namedItem("price").value),u.append("stock",c.elements.namedItem("stock").value),u.append("mrp",c.elements.namedItem("mrp").value),u.append("weight",c.elements.namedItem("weight").value),u.append("tags",c.elements.namedItem("tags").value),a.forEach(h=>{u.append("images",h)});try{await r(u).unwrap(),_e.success("Product created successfully!"),e("/admin/products")}catch(h){_e.error(h.message||"Failed to create product")}},l=()=>{e("/admin/products")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-6xl mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Add New Product"})]}),s.jsx("button",{form:"product-form",type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Save Product"})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:s.jsxs("form",{id:"product-form",onSubmit:o,className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:s.jsx(Ie,{className:"h-5 w-5 text-blue-600"})}),"Basic Information"]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Product Name"}),s.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter product name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Category"}),s.jsxs("select",{name:"category",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"Select category"}),s.jsx("option",{value:"groceries",children:"Groceries"}),s.jsx("option",{value:"vegetables",children:"Vegetables"}),s.jsx("option",{value:"fruits",children:"Fruits"}),s.jsx("option",{value:"dairy",children:"Dairy"}),s.jsx("option",{value:"meat",children:"Meat"}),s.jsx("option",{value:"beverages",children:"Beverages"}),s.jsx("option",{value:"snacks",children:"Snacks"}),s.jsx("option",{value:"household",children:"Household"}),s.jsx("option",{value:"personal_care",children:"Personal Care"}),s.jsx("option",{value:"medicines",children:"Medicines"}),s.jsx("option",{value:"electronics",children:"Electronics"}),s.jsx("option",{value:"clothing",children:"Clothing"}),s.jsx("option",{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"SKU"}),s.jsx("input",{type:"text",name:"sku",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Auto-generated if empty"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Tags"}),s.jsx("input",{type:"text",name:"tags",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter tags separated by commas"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Enter product description"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:s.jsx(xs,{className:"h-5 w-5 text-green-600"})}),"Pricing & Inventory"]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Selling Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),s.jsx("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Stock Quantity"}),s.jsx("input",{type:"number",name:"stock",required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"MRP (Maximum Retail Price)"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),s.jsx("input",{type:"number",name:"mrp",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Weight (grams)"}),s.jsx("input",{type:"number",name:"weight",min:"0",step:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"0"})]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:s.jsx(nP,{className:"h-5 w-5 text-purple-600"})}),"Product Images"]})}),s.jsx("div",{className:"p-8",children:s.jsx(X8,{images:a,onChange:i})})]})]})})]})},eL=()=>{const e=ne(),{tokens:t,isAuthenticated:r,user:n}=de(M=>M.auth),[a,i]=N.useState([]),[o,l]=N.useState(!0),[d,c]=N.useState(null),[u,h]=N.useState(""),[m,f]=N.useState(""),[p,v]=N.useState(null);N.useEffect(()=>{if(!r||!(n!=null&&n.isAdmin)){e("/login");return}j()},[r,n,e]);const j=async()=>{try{if(l(!0),c(null),!(t!=null&&t.accessToken))throw new Error("No authentication token available");const M=await fetch("/api/admin/users",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!M.ok){const R=await M.json();if(console.error("API error response:",R),M.status===401||M.status===403){localStorage.removeItem("auth"),window.location.href="/login";return}throw new Error(`Failed to fetch users: ${R.error||M.statusText}`)}const C=await M.json();i(C.users||[])}catch(M){console.error("Error fetching users:",M),c("Failed to load users. Please try again later.")}finally{l(!1)}},w=a.filter(M=>{if(M.role==="delivery")return!1;const C=M.name.toLowerCase().includes(u.toLowerCase())||M.email.toLowerCase().includes(u.toLowerCase())||M.phone&&M.phone.includes(u),R=!m||M.role===m;return C&&R}),y=a.filter(M=>M.role!=="delivery"),b=[...new Set(y.map(M=>M.role).filter(Boolean))],x=y.length,g=y.filter(M=>M.role==="customer").length,S=y.filter(M=>M.role==="admin").length,P=0,k=M=>{switch(M){case"admin":return s.jsx(gs,{className:"h-4 w-4 text-red-600"});case"delivery":return s.jsx($u,{className:"h-4 w-4 text-blue-600"});default:return s.jsx(Zt,{className:"h-4 w-4 text-gray-600"})}},E=M=>{switch(M){case"admin":return"bg-red-100 text-red-800";case"delivery":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},A=(M,C)=>{v({type:M,message:C}),setTimeout(()=>v(null),5e3)},T=async M=>{if(!(t!=null&&t.accessToken)){A("error","No authentication token available");return}if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const R=await fetch(`/api/admin/users/${M}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!R.ok){const O=await R.json().catch(()=>({}));A("error",O.error||"Failed to delete user. Please try again.");return}A("success","User deleted successfully"),j()}catch(R){console.error("Error deleting user:",R),A("error","Failed to delete user. Please try again.")}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:s.jsx(Ne,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users Management"}),s.jsx("p",{className:"text-gray-600",children:"View and manage customer and admin accounts (Delivery boys are managed separately)"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:M=>h(M.target.value),placeholder:"Search users...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64"})]}),s.jsxs("select",{value:m,onChange:M=>f(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Roles"}),b.map(M=>s.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Zt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx($u,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(tA,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivery"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Error Loading Users"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d}),s.jsxs("div",{className:"space-x-3",children:[s.jsx("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("auth"),window.location.href="/login"},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Login Again"})]})]}):w.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:u||m?"No users match your current filters.":"No users available."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:M.name.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",M._id.substring(0,8),"..."]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(Wt,{className:"h-4 w-4 text-gray-400 mr-2"}),M.email]}),M.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ht,{className:"h-4 w-4 text-gray-400 mr-2"}),M.phone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[k(M.role),s.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(M.role)}`,children:M.role.charAt(0).toUpperCase()+M.role.slice(1)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mn,{className:"h-4 w-4 text-gray-400 mr-2"}),new Date(M.createdAt).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.lastLogin?new Date(M.lastLogin).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>T(M._id),className:"inline-flex items-center px-3 py-1 border border-red-600 text-xs font-medium rounded-full text-red-600 hover:bg-red-50",children:"Delete"})})})]},M._id))})]})})}),p&&s.jsx("div",{className:"fixed top-4 right-4 z-50",children:s.jsxs("div",{className:`px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 ${p.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[p.type==="success"?s.jsx($u,{className:"h-5 w-5"}):s.jsx(Da,{className:"h-5 w-5"}),s.jsx("span",{children:p.message}),s.jsx("button",{onClick:()=>v(null),className:"ml-2 text-white hover:text-gray-200",children:""})]})})]})})},tL=()=>{const e=ne(),{tokens:t,isAuthenticated:r,user:n}=de(z=>z.auth),[a,i]=N.useState([]),[o,l]=N.useState(!0),[d,c]=N.useState(null),[u,h]=N.useState(""),[m,f]=N.useState(""),[p,v]=N.useState(!1),[j,w]=N.useState(!1),[y,b]=N.useState(!1),[x,g]=N.useState(!1),[S,P]=N.useState(null),[k,E]=N.useState(""),[A,T]=N.useState(!1),[M,C]=N.useState([]),[R,O]=N.useState(""),[I,F]=N.useState(!1);N.useEffect(()=>{if(!r||!(n!=null&&n.isAdmin)){e("/login");return}$()},[r,n,e]);const $=async()=>{try{l(!0),c(null);const z=await fetch("/api/admin/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(!z.ok)throw new Error("Failed to fetch orders");const Z=await z.json();i(Z.orders||[])}catch(z){console.error("Error fetching orders:",z),c("Failed to load orders. Please try again later.")}finally{l(!1)}},L=async()=>{try{v(!0);const z=await fetch("/api/admin/assign-deliveries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(!z.ok){const re=await z.json();throw new Error(re.error||"Failed to assign deliveries")}const Z=await z.json();Y.success(`Successfully assigned ${Z.data.assignedCount} orders to delivery partners!`),Z.data.details&&Z.data.details.length>0&&Z.data.details.forEach(re=>{console.log(`Pincode ${re.pincode}: ${re.ordersAssigned} orders  ${re.deliveryBoys.join(", ")}`)}),Z.data.errors&&Z.data.errors.length>0&&Z.data.errors.forEach(re=>{Y.error(re)}),$()}catch(z){console.error("Auto-assign error:",z),Y.error(z.message||"Failed to auto-assign deliveries")}finally{v(!1)}},B=(z,Z)=>{Z.stopPropagation(),P(z),w(!0)},q=(z,Z)=>{Z.stopPropagation(),P(z),b(!0)},H=async()=>{try{F(!0);const z=await fetch("/api/admin/delivery-boys-list?status=active",{headers:{Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(!z.ok)throw new Error("Failed to fetch delivery partners");const Z=await z.json();C(Z.deliveryBoys||[])}catch(z){console.error("Fetch delivery boys error:",z),Y.error("Failed to load delivery partners")}finally{F(!1)}},X=async()=>{if(S)try{T(!0);const z=await fetch(`/api/admin/orders/${S._id}/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`}});if(!z.ok){const re=await z.json();throw new Error(re.error||"Failed to accept order")}const Z=await z.json();Y.success(Z.message),Z.order&&i(re=>re.map(me=>me._id===Z.order._id?{...Z.order}:me)),w(!1),P(null)}catch(z){console.error("Accept order error:",z),Y.error(z.message||"Failed to accept order"),T(!1)}finally{T(!1)}},se=async()=>{if(!S||!R){Y.error("Please select a delivery partner");return}try{T(!0);const z=await fetch(`/api/admin/orders/${S._id}/assign`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`},body:JSON.stringify({deliveryBoyId:R})});if(!z.ok){const re=await z.json();throw new Error(re.error||"Failed to assign delivery partner")}const Z=await z.json();if(Y.success(Z.message),Z.order){console.log(" Assignment successful - updating UI with:",{orderId:Z.order._id,deliveryBoy:Z.order.deliveryBoyId,fullOrder:Z.order});const re=M.find(at=>at._id===R),me={...Z.order,deliveryBoyId:re?{_id:re._id,name:re.name,phone:re.phone}:Z.order.deliveryBoyId};console.log(" Populating deliveryBoyId with full details:",me.deliveryBoyId),i(at=>{var ze;const Ue=at.map(Os=>Os._id===Z.order._id?(console.log(" Replacing order:",Os._id,"with populated deliveryBoyId:",me.deliveryBoyId),me):Os);return console.log(" New orders state:",(ze=Ue.find(Os=>Os._id===Z.order._id))==null?void 0:ze.deliveryBoyId),[...Ue]})}g(!1),P(null),O("")}catch(z){console.error("Assign delivery boy error:",z),Y.error(z.message||"Failed to assign delivery partner")}finally{T(!1)}},_=async()=>{if(S)try{T(!0);const z=await fetch(`/api/admin/orders/${S._id}/decline`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`},body:JSON.stringify({reason:k})});if(!z.ok){const re=await z.json();throw new Error(re.error||"Failed to decline order")}const Z=await z.json();Y.success(Z.message),b(!1),P(null),E(""),$()}catch(z){console.error("Decline order error:",z),Y.error(z.message||"Failed to decline order")}finally{T(!1)}},V=a.filter(z=>{var at,Ue,ze;const Z=((at=z.orderNumber)==null?void 0:at.toLowerCase().includes(u.toLowerCase()))||(((Ue=z.userId)==null?void 0:Ue.name)||"").toLowerCase().includes(u.toLowerCase())||(((ze=z.userId)==null?void 0:ze.email)||"").toLowerCase().includes(u.toLowerCase())||z._id.toLowerCase().includes(u.toLowerCase()),re=z.status||z.orderStatus||"",me=!m||re.toLowerCase()===m.toLowerCase();return Z&&me}),Q=[...new Set(a.map(z=>z.status||z.orderStatus||"").filter(Boolean))],ae=a.length,J=a.filter(z=>{const Z=z.status||z.orderStatus||"";return Z.toLowerCase()==="pending"||Z.toLowerCase()==="created"}).length,xe=a.filter(z=>(z.status||z.orderStatus||"").toLowerCase()==="delivered").length,he=a.reduce((z,Z)=>z+Z.totalAmount,0),we=z=>({created:"Pending",pending:"Pending",confirmed:"Processing",assigned:"Assigned",picked_up:"Picked Up",in_transit:"In Transit",arrived:"Arrived",delivered:"Delivered",cancelled:"Cancelled"})[z.toLowerCase()]||z,et=z=>{switch(z.toLowerCase()){case"created":case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"assigned":return"bg-indigo-100 text-indigo-800";case"picked_up":case"in_transit":return"bg-purple-100 text-purple-800";case"arrived":return"bg-teal-100 text-teal-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Qt=z=>{switch(z.toLowerCase()){case"pending":return s.jsx(Ze,{className:"h-4 w-4"});case"processing":return s.jsx(Ie,{className:"h-4 w-4"});case"shipped":return s.jsx(Ie,{className:"h-4 w-4"});case"delivered":return s.jsx(Ae,{className:"h-4 w-4"});case"cancelled":return s.jsx(Ze,{className:"h-4 w-4"});default:return s.jsx(Ze,{className:"h-4 w-4"})}},Gt=z=>{const Z=z.paymentMethod||"cod",re=z.paymentStatus||"pending";return re==="paid"&&z.paymentReceivedAt?Z==="cod"?`Paid via UPI on ${new Date(z.paymentReceivedAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:`Paid via Razorpay on ${new Date(z.paymentReceivedAt||z.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:re==="paid"?Z==="cod"?"Paid via UPI":"Paid via Razorpay":"Payment Pending"};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:s.jsx(Ne,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders Management"}),s.jsx("p",{className:"text-gray-600",children:"View and manage all orders"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:z=>h(z.target.value),placeholder:"Search orders...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64"})]}),s.jsxs("select",{value:m,onChange:z=>f(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Statuses"}),Q.map(z=>s.jsx("option",{value:z,children:z.charAt(0).toUpperCase()+z.slice(1)},z))]}),s.jsxs("button",{onClick:L,disabled:p||J===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[s.jsx(Vr,{className:"h-4 w-4"}),p?"Assigning...":"Auto Assign Deliveries"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Vt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(Ze,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Ae,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:xe})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",he.toLocaleString()]})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-lg font-medium mb-2",children:"Error Loading Orders"}),s.jsx("p",{className:"text-gray-600 mb-4",children:d}),s.jsxs("div",{className:"space-x-3",children:[s.jsx("button",{onClick:$,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("auth"),window.location.href="/login"},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Login Again"})]})]}):V.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Orders Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:u||m?"No orders match your current filters.":"No orders available."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Boy"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(z=>{var Z,re;return s.jsxs("tr",{onClick:()=>e(`/admin/orders/${z._id}`),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",z.orderNumber||z._id.substring(0,8)]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",z._id.substring(0,12),"..."]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(Be,{className:"h-4 w-4 text-gray-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Z=z.userId)==null?void 0:Z.name)||"Unknown User"}),s.jsx("div",{className:"text-sm text-gray-500",children:((re=z.userId)==null?void 0:re.email)||"No email"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:[z.items.length," item",z.items.length!==1?"s":""]}),s.jsx("div",{className:"text-sm text-gray-500",children:(()=>{var Ue,ze;const me=z.items[0];return`${(me==null?void 0:me.name)||(typeof(me==null?void 0:me.productId)=="object"?(Ue=me.productId)==null?void 0:Ue.name:null)||((ze=me==null?void 0:me.product)==null?void 0:ze.name)||"Product"}${z.items.length>1?` +${z.items.length-1} more`:""}`})()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xs,{className:"h-4 w-4 text-gray-400 mr-1"}),"",z.totalAmount.toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[Qt(z.status||z.orderStatus||"pending"),s.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${et(z.status||z.orderStatus||"pending")}`,children:we(z.status||z.orderStatus||"pending")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("div",{className:"max-w-32",children:z.deliveryBoyId?s.jsxs("div",{onClick:me=>me.stopPropagation(),children:[typeof z.deliveryBoyId=="object"&&z.deliveryBoyId.name?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 mb-1",children:z.deliveryBoyId.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:z.deliveryBoyId.phone||"No phone"})]}):s.jsx("p",{className:"text-xs font-medium text-gray-900 mb-2",children:"Assigned"}),!["delivered","cancelled"].includes((z.status||z.orderStatus||"").toLowerCase())&&s.jsxs("button",{onClick:me=>{me.stopPropagation(),P(z),H(),g(!0)},className:"inline-flex items-center px-2 py-1 border border-orange-300 text-xs font-medium rounded text-orange-700 bg-orange-50 hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Reassign"]})]}):s.jsx("div",{onClick:me=>me.stopPropagation(),children:["confirmed","processing","assigned","accepted"].includes((z.status||z.orderStatus||"").toLowerCase())?s.jsxs("button",{onClick:me=>{me.stopPropagation(),P(z),H(),g(!0)},className:"inline-flex items-center px-2 py-1 border border-blue-300 text-xs font-medium rounded text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Assign"]}):s.jsx("span",{className:"text-xs text-gray-400",children:"Not assigned"})})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"max-w-32",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 mb-1",children:z.paymentStatus==="paid"?"Paid":"Pending"}),s.jsx("p",{className:"text-xs text-gray-500 break-words",children:Gt(z)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mn,{className:"h-4 w-4 text-gray-400 mr-2"}),new Date(z.createdAt).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["pending","created","placed","confirmed","processing"].includes((z.status||z.orderStatus||"").toLowerCase())?s.jsxs("div",{className:"flex gap-2",onClick:me=>me.stopPropagation(),children:[s.jsx("button",{onClick:me=>B(z,me),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Accept"}),s.jsx("button",{onClick:me=>q(z,me),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Decline"})]}):s.jsx("span",{className:"text-gray-400 text-xs",children:""})})]},z._id)})})]})})}),j&&S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accept Order"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Accept order #",S.orderNumber||S._id.substring(0,8)," and assign for delivery?",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-gray-500 mt-2 block",children:"The system will automatically try to assign this order to an available delivery partner."})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{w(!1),P(null)},disabled:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:X,disabled:A,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md disabled:opacity-50",children:A?"Processing...":"Confirm Accept"})]})]})}),y&&S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Decline Order"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Decline order #",S.orderNumber||S._id.substring(0,8),"?",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-gray-500 mt-1 block",children:"This will cancel the order and trigger refund if payment was made."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (Optional)"}),s.jsx("textarea",{value:k,onChange:z=>E(z.target.value),placeholder:"Enter reason for declining...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{b(!1),P(null),E("")},disabled:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:_,disabled:A,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md disabled:opacity-50",children:A?"Processing...":"Confirm Decline"})]})]})}),x&&S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assign Delivery Partner"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Order #",S.orderNumber||S._id.substring(0,8)," has been accepted.",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-gray-500 mt-1 block",children:"Select a delivery partner to assign this order."})]}),I?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading delivery partners..."})]}):M.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No active delivery partners available."})}):s.jsx("div",{className:"space-y-2 mb-6",children:M.map(z=>{var me;const Z=z.user,re=z.deliveryBoy;return s.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${R===(re==null?void 0:re._id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 hover:bg-gray-50"}`,children:[s.jsx("input",{type:"radio",name:"deliveryBoy",value:re==null?void 0:re._id,checked:R===(re==null?void 0:re._id),onChange:at=>O(at.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500"}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:Z.name||"Unknown Name"}),s.jsx("p",{className:"text-xs text-gray-500",children:Z.phone||"No Phone"})]}),s.jsxs("div",{className:"text-right",children:[(re==null?void 0:re.vehicleType)&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:re.vehicleType}),((me=Z.deliveryProfile)==null?void 0:me.assignedAreas)&&Z.deliveryProfile.assignedAreas.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Areas: ",Z.deliveryProfile.assignedAreas.slice(0,3).join(", "),Z.deliveryProfile.assignedAreas.length>3&&` +${Z.deliveryProfile.assignedAreas.length-3}`]})]})]})})]},(re==null?void 0:re._id)||Z._id)})}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{g(!1),P(null),O(""),$()},disabled:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:se,disabled:A||!R,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md disabled:opacity-50",children:A?"Assigning...":"Assign Delivery Partner"})]})]})})]})})},sL=()=>{const e=ne(),{orderId:t}=No(),{tokens:r,isAuthenticated:n,user:a}=de(E=>E.auth),[i,o]=N.useState(null),[l,d]=N.useState(!0),[c,u]=N.useState(null),[h,m]=N.useState(!1),[f,p]=N.useState("");N.useEffect(()=>{if(!n||!(a!=null&&a.isAdmin)){e("/login");return}t&&v()},[n,a,e,t]);const v=async()=>{try{d(!0),u(null);const E=await fetch("/api/admin/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r==null?void 0:r.accessToken}`}});if(!E.ok)throw new Error("Failed to fetch order details");const T=(await E.json()).orders.find(M=>M._id===t);if(!T)throw new Error("Order not found");o(T)}catch(E){console.error("Error fetching order details:",E),u("Failed to load order details. Please try again later.")}finally{d(!1)}},j=E=>({created:"pending",assigned:"accepted",picked_up:"in_progress",in_transit:"in_progress",delivered:"completed",cancelled:"cancelled"})[E.toLowerCase()]||E,w=E=>{const A=E.toLowerCase();return A==="created"||A==="pending"?[{value:"assigned",label:"Accept Order",color:"bg-green-600 hover:bg-green-700"},{value:"cancelled",label:"Cancel Order",color:"bg-red-600 hover:bg-red-700"}]:[]},y=async E=>{if(i)try{m(!0),u(null);const A=await fetch(`/api/admin/orders/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r==null?void 0:r.accessToken}`},body:JSON.stringify({status:E})});if(!A.ok)throw new Error("Failed to update order status");const T=await A.json();o(T.order),p("Order status updated successfully!"),setTimeout(()=>p(""),3e3),await v()}catch(A){console.error("Error updating order status:",A),u("Failed to update order status. Please try again.")}finally{m(!1)}},b=E=>{switch(j(E).toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"accepted":return"bg-blue-100 text-blue-800 border-blue-300";case"in_progress":return"bg-purple-100 text-purple-800 border-purple-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},x=E=>{var A,T;return E.name?E.name:typeof E.productId=="object"&&((A=E.productId)!=null&&A.name)?E.productId.name:(T=E.product)!=null&&T.name?E.product.name:"Product"},g=E=>E.price,S=E=>E.qty||E.quantity||1,P=E=>{const A=E.paymentMethod||"cod",T=E.paymentStatus||"pending";return T==="paid"&&E.paymentReceivedAt?A==="cod"?`Paid via UPI on ${new Date(E.paymentReceivedAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:`Paid via Razorpay on ${new Date(E.paymentReceivedAt||E.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:T==="paid"?A==="cod"?"Paid via UPI":"Paid via Razorpay":"Payment Pending"};if(l)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fo,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(c&&!i)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Ga,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:c}),s.jsxs("div",{className:"space-x-3",children:[s.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"}),s.jsx("button",{onClick:()=>e("/admin/orders"),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"Back to Orders"})]})]})});if(!i)return null;const k=i.status||i.orderStatus||"pending";return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/admin/orders"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[s.jsx(Ne,{className:"h-5 w-5 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Order #",i.orderNumber||i._id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Order ID: ",i._id]})]}),s.jsx("span",{className:`px-4 py-2 text-sm font-semibold rounded-full border ${b(k)}`,children:j(k).toUpperCase()})]})]}),f&&s.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center",children:[s.jsx(Ae,{className:"h-5 w-5 text-green-600 mr-3"}),s.jsx("span",{className:"text-green-800",children:f})]}),c&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[s.jsx(La,{className:"h-5 w-5 text-red-600 mr-3"}),s.jsx("span",{className:"text-red-800",children:c})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsx("div",{className:"space-y-4",children:i.items.map((E,A)=>{const T=x(E),M=g(E),C=S(E),R=M*C;return s.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-lg flex items-center justify-center mr-4",children:s.jsx(Ie,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:T}),s.jsxs("p",{className:"text-sm text-gray-500",children:["",M.toLocaleString(),"  ",C]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-gray-900",children:["",R.toLocaleString()]})})]},A)})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-3",children:[i.earnings&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[s.jsx("span",{children:"Items Subtotal"}),s.jsxs("span",{children:["",(i.totalAmount-(i.earnings.deliveryFee||0)).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ie,{className:"h-4 w-4 mr-2 text-blue-500"}),"Delivery Fee"]}),s.jsx("span",{children:i.earnings.deliveryFee>0?`${i.earnings.deliveryFee.toLocaleString()}`:s.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"})})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total Amount"}),s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",i.totalAmount.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Be,{className:"h-5 w-5 mr-2"}),"Customer Details"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),s.jsx("p",{className:"font-semibold text-gray-900",children:i.userId.name})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wt,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-semibold text-gray-900",children:i.userId.email})]})]}),i.userId.phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-semibold text-gray-900",children:i.userId.phone})]})]})]})]}),i.address&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ct,{className:"h-5 w-5 mr-2"}),"Delivery Address"]}),s.jsxs("div",{className:"text-gray-700 space-y-2",children:[i.address.name&&s.jsx("p",{className:"font-semibold text-lg",children:i.address.name}),i.address.phone&&s.jsxs("p",{className:"text-gray-600",children:[" ",i.address.phone]}),i.address.label&&s.jsx("p",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium mt-1",children:i.address.label}),i.address.addressLine&&s.jsx("p",{className:"mt-2",children:i.address.addressLine}),i.address.landmark&&s.jsxs("p",{className:"text-gray-600",children:["Landmark: ",i.address.landmark]}),s.jsxs("p",{className:"font-medium",children:[i.address.city,", ",i.address.state]}),i.address.pincode&&s.jsxs("p",{className:"text-gray-600",children:["Pincode: ",i.address.pincode]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Actions"}),(()=>{const E=w(k);return E.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-sm",children:k==="delivered"||k==="completed"?"This order has been completed.":k==="cancelled"?"This order has been cancelled.":"Order has been accepted and assigned to delivery partner."}),s.jsx("p",{className:"text-gray-500 text-xs mt-2",children:k==="assigned"?"Delivery partner will update the status.":"No further changes will be made."})]}):s.jsxs("div",{className:"space-y-3",children:[E.map(A=>s.jsx("button",{onClick:()=>y(A.value),disabled:h,className:`w-full text-white px-4 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors ${A.color}`,children:h?s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"animate-spin h-5 w-5 mr-2"}),"Processing..."]}):A.label},A.value)),k!=="cancelled"&&k!=="delivered"&&s.jsx("div",{className:"pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:k==="created"||k==="pending"?"Accept to process the order or decline to cancel it.":k==="assigned"?"Move to In Progress when delivery starts.":"Mark as completed when delivery is done."})})]})})()]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize mb-1",children:i.paymentStatus==="paid"?"Paid":"Pending"}),s.jsx("p",{className:"text-sm text-gray-600",children:P(i)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Order Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:new Date(i.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),s.jsx("p",{className:"font-semibold text-gray-900",children:new Date(i.updatedAt).toLocaleString()})]}),i.deliveryBoyId&&typeof i.deliveryBoyId=="object"&&i.deliveryBoyId!==null&&i.deliveryBoyId.name&&s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Delivery Boy"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:i.deliveryBoyId.name}),s.jsx("p",{className:"text-sm text-gray-600",children:i.deliveryBoyId.phone})]})]})]})]})]})]})]})})},rL=()=>{var P;const{tokens:e}=de(k=>k.auth),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState(!1),[l,d]=N.useState("all"),[c,u]=N.useState(""),[h,m]=N.useState(null),[f,p]=N.useState(!1),[v,j]=N.useState("");N.useEffect(()=>{w()},[]),N.useEffect(()=>{y()},[l,c,t]);const w=async()=>{try{if(o(!0),!(e!=null&&e.accessToken))throw new Error("No authentication token available");const k=await fetch("/api/admin/delivery-boys-list",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`}});if(!k.ok){const A=await k.json();throw new Error(A.error||"Failed to fetch delivery partners")}const E=await k.json();r(E.deliveryBoys||[])}catch(k){console.error("Error fetching delivery boys:",k),Y.error(k.message||"Failed to load delivery partners")}finally{o(!1)}},y=()=>{let k=[...t];if(l!=="all"&&(k=k.filter(E=>E.user.status===l)),c){const E=c.toLowerCase();k=k.filter(A=>A.user.name.toLowerCase().includes(E)||A.user.email.toLowerCase().includes(E)||A.user.phone.includes(E))}a(k)},b=async(k,E)=>{try{if(!(e!=null&&e.accessToken))throw new Error("No authentication token available");const A=await fetch(`/api/admin/delivery-boys/${k}/approve`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`},body:JSON.stringify({assignedAreas:E||[]})});if(!A.ok){const T=await A.json();throw new Error(T.error||"Failed to approve delivery partner")}Y.success("Delivery partner approved successfully!"),p(!1),m(null),j(""),w()}catch(A){console.error("Error approving delivery boy:",A),Y.error(A.message||"Failed to approve delivery partner")}},x=async k=>{if(window.confirm("Are you sure you want to suspend this delivery partner?"))try{if(!(e!=null&&e.accessToken))throw new Error("No authentication token available");const E=await fetch(`/api/admin/delivery-boys/${k}/suspend`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`},body:JSON.stringify({reason:"Suspended by admin"})});if(!E.ok){const A=await E.json();throw new Error(A.error||"Failed to suspend delivery partner")}Y.success("Delivery partner suspended"),w()}catch(E){console.error("Error suspending delivery boy:",E),Y.error(E.message||"Failed to suspend delivery partner")}},g=k=>{switch(k){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=k=>{switch(k){case"available":return"bg-green-500";case"busy":return"bg-orange-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Delivery Partners Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage and monitor all delivery partners"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Partners"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),s.jsx(Zt,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.filter(k=>k.user.status==="pending").length})]}),s.jsx(Ze,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Partners"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(k=>k.user.status==="active").length})]}),s.jsx(Ae,{className:"h-8 w-8 text-green-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(H3,{className:"h-4 w-4 inline mr-1"}),"Filter by Status"]}),s.jsxs("select",{value:l,onChange:k=>d(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Partners"}),s.jsx("option",{value:"pending",children:"Pending Approval"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"Search"]}),s.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"Search by name, email, or phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading delivery partners..."})]}):n.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[s.jsx(Da,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Delivery Partners Found"}),s.jsx("p",{className:"text-gray-600",children:c||l!=="all"?"Try adjusting your filters":"No delivery partners have signed up yet"})]}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(k=>{var E,A;return s.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:k.user.name}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g(k.user.status)}`,children:k.user.status.toUpperCase()}),k.deliveryBoy&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${S(k.deliveryBoy.availability)}`}),s.jsx("span",{className:"text-xs text-gray-600 capitalize",children:k.deliveryBoy.availability})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 text-blue-600"}),k.user.email]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(ht,{className:"h-4 w-4 mr-2 text-green-600"}),k.user.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ie,{className:"h-4 w-4 mr-2 text-purple-600"}),"Vehicle: ",((E=k.user.deliveryProfile)==null?void 0:E.vehicleType)||"N/A"]}),((A=k.user.deliveryProfile)==null?void 0:A.assignedAreas)&&k.user.deliveryProfile.assignedAreas.length>0&&s.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 text-red-600 mt-0.5"}),s.jsxs("span",{children:["Areas: ",k.user.deliveryProfile.assignedAreas.join(", ")]})]})]}),k.deliveryBoy&&s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Completed:"}),s.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:k.deliveryBoy.completedOrdersCount})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Earnings:"}),s.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["",k.deliveryBoy.earnings]})]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Joined: ",new Date(k.user.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[k.user.status==="pending"&&s.jsxs("button",{onClick:()=>{m(k),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Approve"]}),k.user.status==="active"&&s.jsxs("button",{onClick:()=>x(k.user._id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[s.jsx(Ga,{className:"h-4 w-4"}),"Suspend"]}),k.user.status==="suspended"&&s.jsx("button",{onClick:()=>b(k.user._id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reactivate"})]})]})},k.user._id)})})]}),f&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Approve Delivery Partner"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:"Name:"})," ",h.user.name]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:"Email:"})," ",h.user.email]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[s.jsx("strong",{children:"Vehicle:"})," ",(P=h.user.deliveryProfile)==null?void 0:P.vehicleType]}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Delivery Areas (Pincodes)"}),s.jsx("input",{type:"text",value:v,onChange:k=>j(k.target.value),placeholder:"e.g., 500001, 500002, 500003",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter comma-separated pincodes"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{const k=v.split(",").map(E=>E.trim()).filter(E=>E);b(h.user._id,k)},className:"flex-1 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Approve & Activate"}),s.jsx("button",{onClick:()=>{p(!1),m(null),j("")},className:"flex-1 py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},nL=()=>{const e=ne(),{isAuthenticated:t,user:r,tokens:n}=de(c=>c.auth),[a,i]=N.useState({totalRevenue:0,totalOrders:0,totalUsers:0,totalProducts:0,monthlyRevenue:[],topProducts:[],recentOrders:[]}),[o,l]=N.useState(!0);N.useEffect(()=>{if(!t||!(r!=null&&r.isAdmin)){e("/login");return}d()},[t,r,e]);const d=async()=>{try{l(!0);const c=await fetch("/api/admin/analytics",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n==null?void 0:n.accessToken}`}});if(!c.ok)throw new Error("Failed to fetch analytics");const u=await c.json();i({totalRevenue:u.totalRevenue||0,totalOrders:u.totalOrders||0,totalUsers:u.totalUsers||0,totalProducts:u.totalProducts||0,monthlyRevenue:u.monthlyRevenue||[],topProducts:u.topProducts||[],recentOrders:u.recentOrders||[]})}catch(c){console.error("Error fetching analytics:",c),_e.error("Failed to load analytics data")}finally{l(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>e("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:s.jsx(Ne,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),s.jsx("p",{className:"text-gray-600",children:"View sales reports and performance metrics"})]})]}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(np,{className:"h-4 w-4"}),"Export Report"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",a.totalRevenue.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(tr,{className:"h-4 w-4 mr-1"}),"0% from last month"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Vt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalOrders}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(tr,{className:"h-4 w-4 mr-1"}),"0% from last month"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Zt,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalUsers}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(tr,{className:"h-4 w-4 mr-1"}),"0% from last month"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:s.jsx(Ie,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalProducts}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(tr,{className:"h-4 w-4 mr-1"}),"0 new this month"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.monthlyRevenue.length>0?a.monthlyRevenue.map(c=>{const u=Math.max(...a.monthlyRevenue.map(m=>m.revenue),1),h=c.revenue/u*100;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 min-w-[60px]",children:c.month}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[s.jsx("div",{className:"flex-1 sm:w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),s.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-900 min-w-[80px] text-right",children:["",c.revenue.toLocaleString()]})]})]},c.month)}):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No revenue data available"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Products"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.topProducts.length>0?a.topProducts.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[s.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-shrink-0",children:["#",u+1]}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 truncate",children:c.name})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[c.sales," sales"]}),s.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["",c.revenue.toLocaleString()]})]})]},c.name)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No product data available"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Orders"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.recentOrders.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.customer}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",c.amount.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.status==="Delivered"?"bg-green-100 text-green-800":c.status==="Processing"?"bg-blue-100 text-blue-800":c.status==="Shipped"?"bg-purple-100 text-purple-800":c.status==="No data"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})})]},c.id))})]})})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(ho,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Average Order Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Mn,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Orders This Month"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(tr,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Growth Rate"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0%"})]})]})})]})]})})},aL=()=>{const e=ne(),{user:t,tokens:r}=de(x=>x.auth),{success:n,error:a}=Ts(),[i,o]=N.useState(!1),[l,d]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=N.useState({current:!1,new:!1,confirm:!1}),[h,m]=N.useState(!1),f=()=>{e("/admin")},p=()=>{console.log("Edit profile clicked")},v=x=>{const{name:g,value:S}=x.target;d(P=>({...P,[g]:S}))},j=x=>{u(g=>({...g,[x]:!g[x]}))},w=()=>!l.currentPassword||!l.newPassword||!l.confirmPassword?(a("All fields are required"),!1):l.newPassword.length<6?(a("New password must be at least 6 characters long"),!1):l.newPassword!==l.confirmPassword?(a("New password and confirm password do not match"),!1):!0,y=async x=>{if(x.preventDefault(),!!w())try{m(!0);const g=await fetch("http://localhost:5001/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r==null?void 0:r.accessToken}`},body:JSON.stringify({currentPassword:l.currentPassword,newPassword:l.newPassword})}),S=await g.json();g.ok?(n("Password changed successfully"),d({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)):a(S.error||"Failed to change password")}catch(g){console.error("Password change error:",g),a("Network error. Please try again.")}finally{m(!1)}},b=()=>{d({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:f,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Profile"})]}),s.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(up,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Edit Profile"})]})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-20 w-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Be,{className:"h-10 w-10 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.name)||"Admin User"}),s.jsx("p",{className:"text-blue-100 text-lg",children:(t==null?void 0:t.email)||"admin@example.com"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(gs,{className:"h-4 w-4 text-blue-200"}),s.jsx("span",{className:"text-blue-200 text-sm font-medium",children:"Administrator"})]})]})]})}),s.jsxs("div",{className:"px-6 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Personal Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Be,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),s.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.name)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),s.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ht,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"text-gray-900",children:(t==null?void 0:t.phone)||"Not provided"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Account Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gs,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Role"}),s.jsx("p",{className:"text-gray-900",children:t!=null&&t.isAdmin?"Administrator":"User"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-5 w-5 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("p",{className:"text-green-600 font-medium",children:"Active"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-5 w-5 text-gray-400",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),s.jsx("p",{className:"text-gray-900",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"Not available"})]})]})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),!i&&s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(_a,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Change Password"})]})]}),i&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Change Password"}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.current?"text":"password",name:"currentPassword",value:l.currentPassword,onChange:v,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password",required:!0}),s.jsx("button",{type:"button",onClick:()=>j("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.current?s.jsx(Na,{className:"h-4 w-4"}):s.jsx(ar,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.new?"text":"password",name:"newPassword",value:l.newPassword,onChange:v,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>j("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.new?s.jsx(Na,{className:"h-4 w-4"}):s.jsx(ar,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.confirm?"text":"password",name:"confirmPassword",value:l.confirmPassword,onChange:v,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>j("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.confirm?s.jsx(Na,{className:"h-4 w-4"}):s.jsx(ar,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:h,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Changing...":"Change Password"}),s.jsx("button",{type:"button",onClick:b,className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Actions"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>e("/admin/products"),className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-left",children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Manage Products"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Add, edit, or remove products"})]}),s.jsxs("button",{onClick:()=>e("/admin/users"),className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors text-left",children:[s.jsx("h4",{className:"font-medium text-green-900",children:"Manage Users"}),s.jsx("p",{className:"text-sm text-green-600",children:"View and manage user accounts"})]}),s.jsxs("button",{onClick:()=>e("/admin/orders"),className:"p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors text-left",children:[s.jsx("h4",{className:"font-medium text-yellow-900",children:"Manage Orders"}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Track and update orders"})]})]})]})]})]})})]})},iL=()=>{var P;const[e,t]=N.useState([]),[r,n]=N.useState(null),[a,i]=N.useState(!0),[o,l]=N.useState(""),[d,c]=N.useState(""),[u,h]=N.useState(""),[m,f]=N.useState(1),[p,v]=N.useState(1),j=async()=>{try{i(!0);const k=localStorage.getItem("accessToken"),E=new URLSearchParams({page:m.toString(),limit:"10",...o&&{search:o},...d&&{status:d},...u&&{method:u}}),A=await fetch(`/api/payment?${E}`,{headers:{Authorization:`Bearer ${k}`}});if(A.ok){const T=await A.json();t(T.payments),v(T.pagination.totalPages)}}catch(k){console.error("Error fetching payments:",k)}finally{i(!1)}},w=async()=>{try{const k=localStorage.getItem("accessToken"),E=await fetch("/api/payment/stats/overview",{headers:{Authorization:`Bearer ${k}`}});if(E.ok){const A=await E.json();n(A.stats)}}catch(k){console.error("Error fetching payment stats:",k)}};N.useEffect(()=>{j(),w()},[m,o,d,u]);const y=k=>{switch(k){case"upi":return s.jsx(dp,{className:"h-4 w-4"});case"card":return s.jsx(Ws,{className:"h-4 w-4"});case"netbanking":return s.jsx(p3,{className:"h-4 w-4"});case"wallet":return s.jsx(aA,{className:"h-4 w-4"});default:return s.jsx(Ws,{className:"h-4 w-4"})}},b=k=>{switch(k){case"captured":return s.jsx(Ae,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Ga,{className:"h-4 w-4 text-red-500"});case"pending":return s.jsx(Ze,{className:"h-4 w-4 text-yellow-500"});case"refunded":return s.jsx(cp,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Ze,{className:"h-4 w-4 text-gray-500"})}},x=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),g=k=>new Date(k).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=k=>{var T,M,C,R;const{method:E,methodDetails:A}=k;return E==="upi"&&((T=A==null?void 0:A.upi)!=null&&T.vpa)?`UPI (${A.upi.vpa})`:E==="card"&&((M=A==null?void 0:A.card)!=null&&M.last4)?`Card (****${A.card.last4})`:E==="netbanking"&&((C=A==null?void 0:A.netbanking)!=null&&C.bank)?`Net Banking (${A.netbanking.bank})`:E==="wallet"&&((R=A==null?void 0:A.wallet)!=null&&R.wallet_name)?`Wallet (${A.wallet.wallet_name})`:E.charAt(0).toUpperCase()+E.slice(1)};return s.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Logs"}),s.jsx("p",{className:"text-gray-600",children:"Monitor all payment transactions and their status"})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalPayments})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(tr,{className:"h-6 w-6 text-blue-600"})})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(r.totalAmount)})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Ws,{className:"h-6 w-6 text-green-600"})})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((P=r.statusStats.find(k=>k._id==="captured"))==null?void 0:P.count)||0," ","/ ",r.totalPayments]})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(Ae,{className:"h-6 w-6 text-yellow-600"})})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Order Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(r.totalAmount/Math.max(r.totalPayments,1))})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(tr,{className:"h-6 w-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by payment ID, user name, or email...",value:o,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("select",{value:d,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"captured",children:"Captured"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]}),s.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Methods"}),s.jsx("option",{value:"upi",children:"UPI"}),s.jsx("option",{value:"card",children:"Card"}),s.jsx("option",{value:"netbanking",children:"Net Banking"}),s.jsx("option",{value:"wallet",children:"Wallet"}),s.jsx("option",{value:"emi",children:"EMI"}),s.jsx("option",{value:"paylater",children:"Pay Later"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payments..."})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No payments found"})}):e.map(k=>s.jsxs(D.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.paymentId}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Order: ",k.orderId._id.slice(-8)]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.userDetails.name}),s.jsx("div",{className:"text-sm text-gray-500",children:k.userDetails.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[y(k.method),s.jsx("span",{className:"ml-2 text-sm text-gray-900",children:S(k)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x(k.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[b(k.status),s.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:k.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(k.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{className:"text-blue-600 hover:text-blue-900 flex items-center",children:[s.jsx(ar,{className:"h-4 w-4 mr-1"}),"View"]})})]},k._id))})]})}),p>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>f(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>f(Math.min(p,m+1)),disabled:m===p,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page"," ",s.jsx("span",{className:"font-medium",children:m})," of"," ",s.jsx("span",{className:"font-medium",children:p})]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>f(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>f(Math.min(p,m+1)),disabled:m===p,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})]})})},Is=({children:e})=>{const t=ne(),{user:r,isAuthenticated:n,tokens:a}=de(i=>i.auth);return N.useEffect(()=>{if(!n||!(r!=null&&r.isAdmin)||!(a!=null&&a.accessToken)){localStorage.removeItem("auth"),t("/login");return}},[n,r,t,a]),!n||!(r!=null&&r.isAdmin)||!(a!=null&&a.accessToken)?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Checking permissions..."})]})}):s.jsx(s.Fragment,{children:e})},oL=({activeTab:e,setActiveTab:t})=>{const r=[{id:"home",label:"Home",icon:ip,ariaLabel:"Delivery dashboard home"},{id:"earnings",label:"Earnings",icon:xs,ariaLabel:"View earnings and payments"},{id:"notifications",label:"Notifications",icon:Ot,ariaLabel:"View notifications"},{id:"more",label:"More",icon:B3,ariaLabel:"More options"}];return s.jsx(D.nav,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg flex justify-around py-2 border-t border-gray-200 z-50",role:"navigation","aria-label":"Delivery navigation",children:r.map(n=>{const a=e===n.id,i=n.icon;return s.jsxs("button",{onClick:()=>t(n.id),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${a?"text-blue-600":"text-gray-600 hover:text-blue-600"}`,"aria-label":n.ariaLabel,"aria-current":a?"page":void 0,children:[s.jsx(i,{className:`h-6 w-6 ${a?"text-blue-600":"text-gray-600"}`,"aria-hidden":"true"}),s.jsx("span",{className:"text-xs font-medium mt-1",children:n.label})]},n.id)})})},lL=()=>{const e=ne(),{user:t,isAuthenticated:r}=de(a=>a.auth),{data:n}=Un(void 0,{skip:!r});return s.jsx("div",{className:"bg-gradient-to-r from-purple-900 via-purple-800 to-indigo-900 text-white",children:s.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white/20 rounded-lg",children:s.jsx(Vt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white font-bold text-sm leading-tight",children:"CS"}),s.jsx("span",{className:"text-white font-bold text-xs leading-tight",children:"STORE"})]})]}),((n==null?void 0:n.name)||(t==null?void 0:t.email))&&s.jsxs("div",{className:"flex items-center space-x-2 ml-4 bg-white/10 px-3 py-1.5 rounded-lg",children:[s.jsx(Be,{className:"h-4 w-4 text-white"}),s.jsx("span",{className:"text-white font-medium text-sm",children:(n==null?void 0:n.name)||(t==null?void 0:t.email)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{className:"p-1 bg-white/10 hover:bg-white/20 rounded transition-colors",children:s.jsx(Ct,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>e("/delivery/help-center"),className:"p-1 bg-white/10 hover:bg-white/20 rounded transition-colors","aria-label":"Help Center",children:s.jsx(tw,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>e("/delivery/emergency"),className:"p-1 bg-white/10 hover:bg-white/20 rounded transition-colors",children:s.jsx(Da,{className:"h-4 w-4"})})]})]})})};var cL=Object.defineProperty,Uc=Object.getOwnPropertySymbols,NN=Object.prototype.hasOwnProperty,SN=Object.prototype.propertyIsEnumerable,Ly=(e,t,r)=>t in e?cL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$m=(e,t)=>{for(var r in t||(t={}))NN.call(t,r)&&Ly(e,r,t[r]);if(Uc)for(var r of Uc(t))SN.call(t,r)&&Ly(e,r,t[r]);return e},Fm=(e,t)=>{var r={};for(var n in e)NN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Uc)for(var n of Uc(e))t.indexOf(n)<0&&SN.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _n;(e=>{const t=class ye{constructor(d,c,u,h){if(this.version=d,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],d<ye.MIN_VERSION||d>ye.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let m=[];for(let p=0;p<this.size;p++)m.push(!1);for(let p=0;p<this.size;p++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(u);if(this.drawCodewords(f),h==-1){let p=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const j=this.getPenaltyScore();j<p&&(h=v,p=j),this.applyMask(v)}}a(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(d,c){const u=e.QrSegment.makeSegments(d);return ye.encodeSegments(u,c)}static encodeBinary(d,c){const u=e.QrSegment.makeBytes(d);return ye.encodeSegments([u],c)}static encodeSegments(d,c,u=1,h=40,m=-1,f=!0){if(!(ye.MIN_VERSION<=u&&u<=h&&h<=ye.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let p,v;for(p=u;;p++){const b=ye.getNumDataCodewords(p,c)*8,x=o.getTotalBits(d,p);if(x<=b){v=x;break}if(p>=h)throw new RangeError("Data too long")}for(const b of[ye.Ecc.MEDIUM,ye.Ecc.QUARTILE,ye.Ecc.HIGH])f&&v<=ye.getNumDataCodewords(p,b)*8&&(c=b);let j=[];for(const b of d){r(b.mode.modeBits,4,j),r(b.numChars,b.mode.numCharCountBits(p),j);for(const x of b.getData())j.push(x)}a(j.length==v);const w=ye.getNumDataCodewords(p,c)*8;a(j.length<=w),r(0,Math.min(4,w-j.length),j),r(0,(8-j.length%8)%8,j),a(j.length%8==0);for(let b=236;j.length<w;b^=253)r(b,8,j);let y=[];for(;y.length*8<j.length;)y.push(0);return j.forEach((b,x)=>y[x>>>3]|=b<<7-(x&7)),new ye(p,c,y,m)}getModule(d,c){return 0<=d&&d<this.size&&0<=c&&c<this.size&&this.modules[c][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),c=d.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(d[u],d[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const c=this.errorCorrectionLevel.formatBits<<3|d;let u=c;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(c<<10|u)^21522;a(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,n(h,m));this.setFunctionModule(8,7,n(h,6)),this.setFunctionModule(8,8,n(h,7)),this.setFunctionModule(7,8,n(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,n(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,n(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,n(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let u=0;u<12;u++)d=d<<1^(d>>>11)*7973;const c=this.version<<12|d;a(c>>>18==0);for(let u=0;u<18;u++){const h=n(c,u),m=this.size-11+u%3,f=Math.floor(u/3);this.setFunctionModule(m,f,h),this.setFunctionModule(f,m,h)}}drawFinderPattern(d,c){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),f=d+h,p=c+u;0<=f&&f<this.size&&0<=p&&p<this.size&&this.setFunctionModule(f,p,m!=2&&m!=4)}}drawAlignmentPattern(d,c){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(d+h,c+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(d,c,u){this.modules[c][d]=u,this.isFunction[c][d]=!0}addEccAndInterleave(d){const c=this.version,u=this.errorCorrectionLevel;if(d.length!=ye.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const h=ye.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],m=ye.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],f=Math.floor(ye.getNumRawDataModules(c)/8),p=h-f%h,v=Math.floor(f/h);let j=[];const w=ye.reedSolomonComputeDivisor(m);for(let b=0,x=0;b<h;b++){let g=d.slice(x,x+v-m+(b<p?0:1));x+=g.length;const S=ye.reedSolomonComputeRemainder(g,w);b<p&&g.push(0),j.push(g.concat(S))}let y=[];for(let b=0;b<j[0].length;b++)j.forEach((x,g)=>{(b!=v-m||g>=p)&&y.push(x[b])});return a(y.length==f),y}drawCodewords(d){if(d.length!=Math.floor(ye.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const f=u-m,v=(u+1&2)==0?this.size-1-h:h;!this.isFunction[v][f]&&c<d.length*8&&(this.modules[v][f]=n(d[c>>>3],7-(c&7)),c++)}}a(c==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let h;switch(d){case 0:h=(u+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+c)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:h=u*c%2+u*c%3==0;break;case 6:h=(u*c%2+u*c%3)%2==0;break;case 7:h=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&h&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let d=0;for(let m=0;m<this.size;m++){let f=!1,p=0,v=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[m][j]==f?(p++,p==5?d+=ye.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,v),f||(d+=this.finderPenaltyCountPatterns(v)*ye.PENALTY_N3),f=this.modules[m][j],p=1);d+=this.finderPenaltyTerminateAndCount(f,p,v)*ye.PENALTY_N3}for(let m=0;m<this.size;m++){let f=!1,p=0,v=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][m]==f?(p++,p==5?d+=ye.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,v),f||(d+=this.finderPenaltyCountPatterns(v)*ye.PENALTY_N3),f=this.modules[j][m],p=1);d+=this.finderPenaltyTerminateAndCount(f,p,v)*ye.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let f=0;f<this.size-1;f++){const p=this.modules[m][f];p==this.modules[m][f+1]&&p==this.modules[m+1][f]&&p==this.modules[m+1][f+1]&&(d+=ye.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((f,p)=>f+(p?1:0),c);const u=this.size*this.size,h=Math.ceil(Math.abs(c*20-u*10)/u)-1;return a(0<=h&&h<=9),d+=h*ye.PENALTY_N4,a(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let u=[6];for(let h=this.size-7;u.length<d;h-=c)u.splice(1,0,h);return u}}static getNumRawDataModules(d){if(d<ye.MIN_VERSION||d>ye.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*d+128)*d+64;if(d>=2){const u=Math.floor(d/7)+2;c-=(25*u-10)*u-55,d>=7&&(c-=36)}return a(208<=c&&c<=29648),c}static getNumDataCodewords(d,c){return Math.floor(ye.getNumRawDataModules(d)/8)-ye.ECC_CODEWORDS_PER_BLOCK[c.ordinal][d]*ye.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<d-1;h++)c.push(0);c.push(1);let u=1;for(let h=0;h<d;h++){for(let m=0;m<c.length;m++)c[m]=ye.reedSolomonMultiply(c[m],u),m+1<c.length&&(c[m]^=c[m+1]);u=ye.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(d,c){let u=c.map(h=>0);for(const h of d){const m=h^u.shift();u.push(0),c.forEach((f,p)=>u[p]^=ye.reedSolomonMultiply(f,m))}return u}static reedSolomonMultiply(d,c){if(d>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(c>>>h&1)*d;return a(u>>>8==0),u}finderPenaltyCountPatterns(d){const c=d[1];a(c<=this.size*3);const u=c>0&&d[2]==c&&d[3]==c*3&&d[4]==c&&d[5]==c;return(u&&d[0]>=c*4&&d[6]>=c?1:0)+(u&&d[6]>=c*4&&d[0]>=c?1:0)}finderPenaltyTerminateAndCount(d,c,u){return d&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(d,c){c[0]==0&&(d+=this.size),c.pop(),c.unshift(d)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,d,c){if(d<0||d>31||l>>>d)throw new RangeError("Value out of range");for(let u=d-1;u>=0;u--)c.push(l>>>u&1)}function n(l,d){return(l>>>d&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Ke{constructor(d,c,u){if(this.mode=d,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(d){let c=[];for(const u of d)r(u,8,c);return new Ke(Ke.Mode.BYTE,d.length,c)}static makeNumeric(d){if(!Ke.isNumeric(d))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<d.length;){const h=Math.min(d.length-u,3);r(parseInt(d.substring(u,u+h),10),h*3+1,c),u+=h}return new Ke(Ke.Mode.NUMERIC,d.length,c)}static makeAlphanumeric(d){if(!Ke.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=d.length;u+=2){let h=Ke.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u))*45;h+=Ke.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u+1)),r(h,11,c)}return u<d.length&&r(Ke.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u)),6,c),new Ke(Ke.Mode.ALPHANUMERIC,d.length,c)}static makeSegments(d){return d==""?[]:Ke.isNumeric(d)?[Ke.makeNumeric(d)]:Ke.isAlphanumeric(d)?[Ke.makeAlphanumeric(d)]:[Ke.makeBytes(Ke.toUtf8ByteArray(d))]}static makeEci(d){let c=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,c);else if(d<16384)r(2,2,c),r(d,14,c);else if(d<1e6)r(6,3,c),r(d,21,c);else throw new RangeError("ECI assignment value out of range");return new Ke(Ke.Mode.ECI,0,c)}static isNumeric(d){return Ke.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Ke.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,c){let u=0;for(const h of d){const m=h.mode.numCharCountBits(c);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(d){d=encodeURI(d);let c=[];for(let u=0;u<d.length;u++)d.charAt(u)!="%"?c.push(d.charCodeAt(u)):(c.push(parseInt(d.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(_n||(_n={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(_n||(_n={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(_n||(_n={}));var fa=_n;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var dL={L:fa.QrCode.Ecc.LOW,M:fa.QrCode.Ecc.MEDIUM,Q:fa.QrCode.Ecc.QUARTILE,H:fa.QrCode.Ecc.HIGH},kN=128,CN="L",PN="#FFFFFF",AN="#000000",EN=!1,TN=1,uL=4,hL=0,mL=.1;function RN(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function ON(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function fL(e,t,r,n){if(n==null)return null;const a=e.length+r*2,i=Math.floor(t*mL),o=a/t,l=(n.width||i)*o,d=(n.height||i)*o,c=n.x==null?e.length/2-l/2:n.x*o,u=n.y==null?e.length/2-d/2:n.y*o,h=n.opacity==null?1:n.opacity;let m=null;if(n.excavate){let p=Math.floor(c),v=Math.floor(u),j=Math.ceil(l+c-p),w=Math.ceil(d+u-v);m={x:p,y:v,w:j,h:w}}const f=n.crossOrigin;return{x:c,y:u,h:d,w:l,excavation:m,opacity:h,crossOrigin:f}}function pL(e,t){return t!=null?Math.max(Math.floor(t),0):e?uL:hL}function MN({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let d=ke.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((v,j)=>(v.push(...fa.QrSegment.makeSegments(j)),v),[]);return fa.QrCode.encodeSegments(p,dL[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:c,margin:u,numCells:h,calculatedImageSettings:m}=ke.useMemo(()=>{let f=d.getModules();const p=pL(n,a),v=f.length+p*2,j=fL(f,o,p,i);return{cells:f,margin:p,numCells:v,calculatedImageSettings:j}},[d,o,i,n,a]);return{qrcode:d,margin:u,cells:c,numCells:h,calculatedImageSettings:m}}var xL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),gL=ke.forwardRef(function(t,r){const n=t,{value:a,size:i=kN,level:o=CN,bgColor:l=PN,fgColor:d=AN,includeMargin:c=EN,minVersion:u=TN,boostLevel:h,marginSize:m,imageSettings:f}=n,v=Fm(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=v,w=Fm(v,["style"]),y=f==null?void 0:f.src,b=ke.useRef(null),x=ke.useRef(null),g=ke.useCallback(R=>{b.current=R,typeof r=="function"?r(R):r&&(r.current=R)},[r]),[S,P]=ke.useState(!1),{margin:k,cells:E,numCells:A,calculatedImageSettings:T}=MN({value:a,level:o,minVersion:u,boostLevel:h,includeMargin:c,marginSize:m,imageSettings:f,size:i});ke.useEffect(()=>{if(b.current!=null){const R=b.current,O=R.getContext("2d");if(!O)return;let I=E;const F=x.current,$=T!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;$&&T.excavation!=null&&(I=ON(E,T.excavation));const L=window.devicePixelRatio||1;R.height=R.width=i*L;const B=i/A*L;O.scale(B,B),O.fillStyle=l,O.fillRect(0,0,A,A),O.fillStyle=d,xL?O.fill(new Path2D(RN(I,k))):E.forEach(function(q,H){q.forEach(function(X,se){X&&O.fillRect(se+k,H+k,1,1)})}),T&&(O.globalAlpha=T.opacity),$&&O.drawImage(F,T.x+k,T.y+k,T.w,T.h)}}),ke.useEffect(()=>{P(!1)},[y]);const M=$m({height:i,width:i},j);let C=null;return y!=null&&(C=ke.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{P(!0)},ref:x,crossOrigin:T==null?void 0:T.crossOrigin})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",$m({style:M,height:i,width:i,ref:g,role:"img"},w)),C)});gL.displayName="QRCodeCanvas";var LN=ke.forwardRef(function(t,r){const n=t,{value:a,size:i=kN,level:o=CN,bgColor:l=PN,fgColor:d=AN,includeMargin:c=EN,minVersion:u=TN,boostLevel:h,title:m,marginSize:f,imageSettings:p}=n,v=Fm(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:w,numCells:y,calculatedImageSettings:b}=MN({value:a,level:o,minVersion:u,boostLevel:h,includeMargin:c,marginSize:f,imageSettings:p,size:i});let x=w,g=null;p!=null&&b!=null&&(b.excavation!=null&&(x=ON(w,b.excavation)),g=ke.createElement("image",{href:p.src,height:b.h,width:b.w,x:b.x+j,y:b.y+j,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const S=RN(x,j);return ke.createElement("svg",$m({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},v),!!m&&ke.createElement("title",null,m),ke.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:d,d:S,shapeRendering:"crispEdges"}),g)});LN.displayName="QRCodeSVG";const yL=({isOpen:e,onClose:t,orderId:r,amount:n,onPaymentConfirmed:a})=>{const[i,o]=ke.useState(!1),[l,d]=ke.useState(!1),[c,u]=ke.useState(!1);ke.useEffect(()=>{const p=v=>{v.key==="Escape"&&t()};if(e)return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[e,t]);const h=`upi://pay?pa=9391795162@ibl&pn=CS Store&am=${n}&cu=INR&tn=Payment for Order #${r.slice(-6)}`,m=()=>{navigator.clipboard.writeText(h),Y.success("UPI link copied to clipboard!")},f=ke.useCallback(async p=>{var v,j;if(!p){o(!1);return}d(!0);try{const w=localStorage.getItem("auth"),y=w?(j=(v=JSON.parse(w))==null?void 0:v.tokens)==null?void 0:j.accessToken:null;if(!y){Y.error("Authentication required");return}const b=await fetch(`/api/orders/${r}/payment-status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!b.ok){const x=await b.json();throw new Error(x.error||"Failed to update payment status")}await b.json(),o(!0),Y.success("Payment marked as received successfully "),a&&a()}catch(w){console.error("Payment confirmation error:",w),Y.error(w.message||"Failed to confirm payment"),o(!1)}finally{d(!1)}},[r,a]);return ke.useEffect(()=>{if(!e||i)return;const p=async()=>{var j,w;try{u(!0);const y=localStorage.getItem("auth"),b=y?(w=(j=JSON.parse(y))==null?void 0:j.tokens)==null?void 0:w.accessToken:null;if(!b)return;const x=await fetch(`/api/orders/${r}/payment-status`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});x.ok&&(await x.json()).paymentStatus==="paid"&&!i&&await f(!0)}catch(y){console.error("Payment status check error:",y)}finally{u(!1)}},v=setInterval(p,3e3);return p(),()=>{clearInterval(v)}},[e,i,r,f]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:s.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto max-h-[90vh] md:max-h-[85vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-12 sm:px-16 py-4 sm:py-6 border-b border-gray-200 relative bg-white rounded-t-2xl",children:[s.jsx("button",{onClick:t,className:"p-2 hover:bg-blue-50 hover:text-blue-600 rounded-full transition-colors border border-gray-200 hover:border-blue-200 absolute left-4 top-1/2 transform -translate-y-1/2",title:"Go Back",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-700 hover:text-blue-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 flex-1 text-center",children:"Payment QR Code"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-red-50 hover:text-red-600 rounded-full transition-colors border border-gray-200 hover:border-red-200 absolute right-4 top-1/2 transform -translate-y-1/2",title:"Close Payment Modal",children:s.jsx(gt,{className:"h-5 w-5 text-gray-700 hover:text-red-600"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 scroll-smooth",children:s.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Order #",r.slice(-6)]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",n]})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl border-2 border-gray-200 mb-6 inline-block",children:s.jsx(LN,{value:h,size:200,level:"M",includeMargin:!0,bgColor:"#FFFFFF",fgColor:"#000000"})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Ask customer to scan and pay the exact amount"})]}),s.jsx("p",{className:"text-xs text-blue-600",children:"Compatible with Google Pay, PhonePe, Paytm, BHIM & all UPI apps"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"UPI ID:"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-mono font-semibold text-gray-800",children:"9391795162@ibl"}),s.jsx("button",{onClick:m,className:"text-blue-600 hover:text-blue-700 p-1",title:"Copy UPI link",children:s.jsx(Zj,{className:"h-4 w-4"})})]})]})]})}),s.jsx("div",{className:"flex-shrink-0 p-4 sm:p-6 border-t border-gray-200 bg-white rounded-b-2xl",children:s.jsxs("button",{onClick:t,className:"w-full py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors flex items-center justify-center",children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),"Close Payment Modal"]})})]})}):null},_y=()=>{const{user:e,tokens:t}=de(_=>_.auth),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(null),[d,c]=N.useState(!1),[u,h]=N.useState(null),[m,f]=N.useState(null),[p,v]=N.useState({}),[j,w]=N.useState({}),[y,b]=N.useState({}),[x,g]=N.useState({}),[S,P]=N.useState(!1),[k,E]=N.useState(null),[A,T]=N.useState({});N.useEffect(()=>(R(),()=>{m&&m.disconnect()}),[]),N.useEffect(()=>{const _=setInterval(()=>{g(V=>{const Q={...V};return Object.keys(Q).forEach(ae=>{Q[ae]>0&&(Q[ae]-=1)}),Q})},1e3);return()=>clearInterval(_)},[]),N.useEffect(()=>{o&&!m&&C()},[o]),N.useEffect(()=>{if(!a||a.length===0)return;const _=a.filter(Q=>Q.paymentMethod==="cod"&&Q.paymentStatus!=="paid"&&(Q.orderStatus==="arrived"||Q.orderStatus==="in_transit"));if(_.length===0)return;const V=async Q=>{try{if(!(t!=null&&t.accessToken))return;const ae=await fetch(`http://localhost:5001/api/orders/${Q}/payment-status`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});ae.ok&&(await ae.json()).paymentStatus==="paid"&&(T(xe=>({...xe,[Q]:!1})),await M(Q))}catch(ae){console.error("Payment monitoring error:",ae)}};_.forEach(Q=>{if(!A[Q._id]){T(J=>({...J,[Q._id]:!0}));const ae=setInterval(()=>{V(Q._id)},3e3);return setTimeout(()=>{clearInterval(ae),T(J=>({...J,[Q._id]:!1}))},30*60*1e3),()=>clearInterval(ae)}})},[a,t,A]);const M=async _=>{try{if(!(t!=null&&t.accessToken))return;const V=await fetch(`http://localhost:5001/api/delivery/orders/${_}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({})});if(!V.ok)throw new Error("Failed to auto-complete delivery");const Q=await V.json();Y.success(`Payment Received  Order Completed Successfully! Earned ${Q.earnings||0}`,{duration:4e3,icon:""}),R()}catch(V){console.error("Auto-completion error:",V),Y.error("Payment detected but failed to complete delivery automatically")}},C=()=>{const _=Cn("http://localhost:5001",{auth:{token:t==null?void 0:t.accessToken}});_.on("connect",()=>{if(console.log("Socket connected"),o){const V=`driver_${o.id}`;console.log(`[SOCKET] Joining room: ${V}`),_.emit("join_room",{room:V,userId:e==null?void 0:e.id,userRole:"delivery"}),console.log(`[SOCKET] Join room emitted for ${V}`)}else console.warn("[SOCKET] deliveryInfo not available yet")}),_.on("order:assigned",V=>{console.log("[SOCKET] New order assigned:",V),Y.success("New order assigned to you!"),R()}),_.on("refresh_orders",()=>{console.log("[SOCKET] Received refresh_orders signal"),R()}),_.on("order:cancelled",V=>{console.log("[SOCKET] Order cancelled:",V),Y.error("Order was cancelled"),R()}),_.on("order:statusUpdate",V=>{console.log("[SOCKET] Order status update:",V),R()}),f(_)},R=async()=>{var _;try{if(c(!0),h(null),!(t!=null&&t.accessToken))throw new Error("No authentication token available");const V=await fetch("http://localhost:5001/api/delivery/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!V.ok){if(V.status===403||V.status===401){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("auth"),window.location.href="/delivery/login";return}const he=await V.json();throw new Error(he.message||"Failed to fetch orders")}const Q=await V.json();console.log(`[FETCH_ORDERS] Received ${((_=Q.orders)==null?void 0:_.length)||0} orders from API`),l(Q.deliveryBoy);const ae=Q.orders||[],J=ae.filter(he=>he.orderStatus==="created"),xe=ae.filter(he=>["assigned","picked_up","in_transit","arrived"].includes(he.orderStatus));console.log(`[FETCH_ORDERS] Available: ${J.length}, Active: ${xe.length}`),xe.forEach(he=>{console.log(`  - Order ${he._id}: ${he.orderStatus}/${he.deliveryStatus}`)}),n(J),i(xe)}catch(V){console.error("Error fetching orders:",V),h(V instanceof Error?V.message:"Failed to load orders")}finally{c(!1)}},O=async _=>{try{if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");const V=await fetch(`http://localhost:5001/api/delivery/orders/${_}/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!V.ok){const ae=await V.json();throw new Error(ae.message||"Failed to accept order")}const Q=await V.json();Y.success("Order accepted! OTP: "+Q.order.deliveryOtp),R()}catch(V){console.error("Error accepting order:",V),Y.error(V instanceof Error?V.message:"Failed to accept order")}},I=async _=>{try{if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");const V=await fetch(`http://localhost:5001/api/delivery/orders/${_}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({reason:"Not available"})});if(!V.ok){const Q=await V.json();throw new Error(Q.message||"Failed to reject order")}Y.success("Order rejected"),R()}catch(V){console.error("Error rejecting order:",V),Y.error(V instanceof Error?V.message:"Failed to reject order")}},F=async _=>{var V;try{if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");Y.loading("Verifying order status...",{id:"pickup-loading"});const Q=await fetch("http://localhost:5001/api/delivery/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!Q.ok)throw new Error("Failed to fetch order details");const J=(V=(await Q.json()).orders)==null?void 0:V.find(he=>he._id===_);if(!J){Y.dismiss("pickup-loading"),Y.error("Order not found or not assigned to you"),R();return}if(J.deliveryStatus!=="assigned"){Y.dismiss("pickup-loading"),Y.error(`Order is not ready for pickup. Current status: ${J.deliveryStatus}. Please refresh or wait.`),R();return}if(J.orderStatus!=="assigned"){Y.dismiss("pickup-loading"),Y.error(`Order must be assigned before pickup. Current order status: ${J.orderStatus}`),R();return}Y.dismiss("pickup-loading"),Y.loading("Marking as picked up...",{id:"pickup-processing"});const xe=await fetch(`http://localhost:5001/api/delivery/orders/${_}/pickup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!xe.ok){const he=await xe.json();throw Y.dismiss("pickup-processing"),new Error(he.error||"Failed to mark as picked up")}Y.dismiss("pickup-processing"),Y.success(" Pickup recorded successfully!"),R()}catch(Q){console.error("Error picking up order:",Q),Y.error(Q instanceof Error?Q.message:"Failed to pick up order")}},$=async _=>{try{if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");const V=await fetch(`http://localhost:5001/api/delivery/orders/${_}/start-delivery`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!V.ok){const Q=await V.json();throw new Error(Q.error||"Failed to start delivery")}Y.success("Delivery started - You're on the way!"),R()}catch(V){console.error("Error starting delivery:",V),Y.error(V instanceof Error?V.message:"Failed to start delivery")}},L=async _=>{try{if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");const V=await fetch(`http://localhost:5001/api/delivery/orders/${_}/arrived`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!V.ok){const Q=await V.json();throw new Error(Q.error||"Failed to mark as arrived")}Y.success("Marked as arrived. OTP sent to customer!"),b(Q=>({...Q,[_]:Date.now()})),g(Q=>({...Q,[_]:30})),R()}catch(V){console.error("Error marking arrived:",V),Y.error(V instanceof Error?V.message:"Failed to mark as arrived")}},B=async _=>{try{const V=a.find(we=>we._id===_),Q=(V==null?void 0:V.paymentMethod)==="cod",ae=p[_];if(!Q&&(!ae||ae.length!==4)){Y.error("Please enter valid 4-digit OTP");return}if(!(t!=null&&t.accessToken))throw new Error("No authentication token available");const J=Q?{}:{otp:ae},xe=await fetch(`http://localhost:5001/api/delivery/orders/${_}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify(J)});if(!xe.ok){const we=await xe.json();throw new Error(we.message||"Failed to complete delivery")}const he=await xe.json();Y.success(`Delivery completed! Earned ${he.earnings||0}`),v(we=>({...we,[_]:""})),R()}catch(V){console.error("Error completing delivery:",V),Y.error(V instanceof Error?V.message:"Failed to complete delivery")}},q=(_,V)=>{if(!_||!V||_===0||V===0||isNaN(_)||isNaN(V)){Y.error("Address location not available. Please ask user to update address."),console.error(" Cannot navigate: Invalid coordinates",{lat:_,lng:V});return}const Q=`https://www.google.com/maps/dir/?api=1&destination=${_},${V}`;window.open(Q,"_blank"),Y.success("Opening navigation...")},H=_=>{E(_),P(!0),Y.success("QR code generated for payment collection")},X=()=>{P(!1),E(null)},se=()=>{R(),Y.success("Payment status updated in the system")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 pb-24",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 shadow-xl mb-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 opacity-90",children:"Today's Progress"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx(xs,{className:"h-6 w-6 mb-2"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",(o==null?void 0:o.earnings)||0]}),s.jsx("p",{className:"text-sm opacity-80",children:"Earnings"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx(Ie,{className:"h-6 w-6 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-sm opacity-80",children:"Active Orders"})]})]})]}),r.length>0&&s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"New Requests"}),s.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold",children:r.length})]}),s.jsx("div",{className:"space-y-4",children:r.map(_=>s.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border-2 border-blue-200 rounded-xl p-4 bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg text-gray-900",children:["Order #",_._id.slice(-6)]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",_.totalAmount]})]}),s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full font-semibold",children:"NEW"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-blue-600"}),s.jsx("span",{className:"font-medium",children:_.userId.name})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(ht,{className:"h-4 w-4 mr-2 text-green-600"}),s.jsx("span",{children:_.userId.phone})]}),s.jsxs("div",{className:"flex items-start text-sm",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 text-red-600 mt-0.5"}),s.jsxs("span",{className:"flex-1",children:[_.address.addressLine,", ",_.address.city]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>O(_._id),className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center",children:[s.jsx(Ae,{className:"h-5 w-5 mr-2"}),"Accept"]}),s.jsxs("button",{onClick:()=>I(_._id),className:"flex-1 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center",children:[s.jsx(Ga,{className:"h-5 w-5 mr-2"}),"Decline"]})]})]},_._id))})]}),a.length>0?s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Active Deliveries"}),s.jsx("div",{className:"space-y-4",children:a.map(_=>s.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg",children:["Order #",_._id.slice(-6)]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",_.totalAmount]}),_.paymentStatus==="paid"&&s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded-full flex items-center",children:[s.jsx(Ae,{className:"h-3 w-3 mr-1"}),"PAID "]})]}),_.paymentMethod==="cod"&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Payment: ",_.paymentMethod.toUpperCase(),_.paymentReceivedAt&&s.jsxs("span",{className:"text-green-600 ml-2",children:[" Received ",new Date(_.paymentReceivedAt).toLocaleTimeString()]})]})]}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${_.orderStatus==="assigned"?"bg-blue-100 text-blue-800":_.orderStatus==="picked_up"?"bg-purple-100 text-purple-800":_.orderStatus==="in_transit"?"bg-orange-100 text-orange-800":_.orderStatus==="arrived"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.orderStatus.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:`flex-1 h-2 rounded-l-full ${["assigned","picked_up","in_transit","delivered"].includes(_.orderStatus)?"bg-blue-600":"bg-gray-300"}`}),s.jsx("div",{className:`flex-1 h-2 ${["picked_up","in_transit","delivered"].includes(_.orderStatus)?"bg-purple-600":"bg-gray-300"}`}),s.jsx("div",{className:`flex-1 h-2 rounded-r-full ${["in_transit","delivered"].includes(_.orderStatus)?"bg-orange-600":"bg-gray-300"}`})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsx("span",{className:_.orderStatus==="assigned"?"font-bold text-blue-600":"",children:"Assigned"}),s.jsx("span",{className:_.orderStatus==="picked_up"?"font-bold text-purple-600":"",children:"Picked Up"}),s.jsx("span",{className:_.orderStatus==="in_transit"?"font-bold text-orange-600":"",children:"In Transit"})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-blue-600"}),s.jsx("span",{className:"font-medium",children:_.userId.name})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(ht,{className:"h-4 w-4 mr-2 text-green-600"}),s.jsx("a",{href:`tel:${_.userId.phone}`,className:"text-blue-600 underline",children:_.userId.phone})]}),s.jsxs("div",{className:"flex items-start text-sm",children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 text-red-600 mt-0.5"}),s.jsxs("span",{className:"flex-1",children:[_.address.addressLine,", ",_.address.city]})]})]}),s.jsxs("button",{onClick:()=>q(_.address.lat,_.address.lng),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold mb-3 flex items-center justify-center hover:bg-blue-700 transition-colors",children:[s.jsx(um,{className:"h-5 w-5 mr-2"}),"Navigate to Location"]}),s.jsxs("div",{className:"space-y-2",children:[_.orderStatus==="assigned"&&s.jsxs("button",{onClick:()=>F(_._id),className:"w-full py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[s.jsx($P,{className:"h-5 w-5 inline mr-2"}),"Mark as Picked Up"]}),_.orderStatus==="picked_up"&&s.jsxs("button",{onClick:()=>$(_._id),className:"w-full py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:[s.jsx(um,{className:"h-5 w-5 inline mr-2"}),"Start Delivery"]}),_.orderStatus==="in_transit"&&s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>L(_._id),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors mb-2",children:[s.jsx(Ct,{className:"h-5 w-5 inline mr-2"}),"Mark as Arrived"]})}),(_.orderStatus==="in_transit"||_.orderStatus==="arrived")&&s.jsxs("div",{className:"space-y-2",children:[_.paymentMethod!=="cod"&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Enter Customer OTP to Complete"}),s.jsx("input",{type:"text",maxLength:4,placeholder:"4-digit OTP",value:p[_._id]||"",onChange:V=>v(Q=>({...Q,[_._id]:V.target.value.replace(/\D/g,"")})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-center text-2xl font-bold tracking-widest"}),_.orderStatus==="arrived"&&s.jsx("div",{className:"mt-3",children:x[_._id]>0?s.jsxs("p",{className:"text-xs text-gray-600 text-center",children:["Resend OTP available in ",x[_._id]," seconds"]}):s.jsx("button",{onClick:()=>L(_._id),className:"w-full py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm font-semibold",children:"Resend OTP"})})]}),_.paymentMethod==="cod"&&_.paymentStatus==="paid"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Cash on Delivery Order"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Ready to complete - No OTP verification required"})]}),_.paymentMethod==="cod"&&_.paymentStatus!=="paid"&&s.jsx(s.Fragment,{children:s.jsxs("button",{onClick:()=>H(_),className:"w-full py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all mb-2",children:[s.jsx(wP,{className:"h-5 w-5 inline mr-2"}),"Generate QR for Payment"]})}),_.paymentMethod==="cod"&&_.paymentStatus==="paid"&&s.jsxs("div",{className:"w-full py-3 bg-green-50 border border-green-200 text-green-800 rounded-lg font-semibold mb-2 flex items-center justify-center",children:[s.jsx(Ae,{className:"h-5 w-5 inline mr-2"}),"Payment Received "]}),s.jsxs("button",{onClick:()=>B(_._id),disabled:_.paymentMethod==="cod"&&_.paymentStatus!=="paid"||_.paymentMethod!=="cod"&&(!p[_._id]||p[_._id].length!==4),className:`w-full py-3 rounded-lg font-semibold transition-all ${_.paymentMethod==="cod"&&_.paymentStatus!=="paid"||_.paymentMethod!=="cod"&&(!p[_._id]||p[_._id].length!==4)?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-green-600 text-white hover:shadow-lg"}`,children:[s.jsx(Ae,{className:"h-5 w-5 inline mr-2"}),_.paymentMethod!=="cod"&&(!p[_._id]||p[_._id].length!==4)?"Enter OTP First":"Complete Delivery"]})]})]})]},_._id))})]}):r.length===0?s.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-fit mx-auto mb-4",children:s.jsx(Ie,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Active Orders"}),s.jsx("p",{className:"text-gray-600",children:(o==null?void 0:o.availability)==="available"?"Stay online to receive delivery requests":"Go online to start receiving orders"})]}):null,d&&s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}),u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[s.jsx(Da,{className:"h-5 w-5 text-red-600 mr-3"}),s.jsx("p",{className:"text-red-800",children:u})]}),k&&s.jsx(yL,{isOpen:S,onClose:X,orderId:k._id,amount:k.totalAmount,onPaymentConfirmed:se})]})},vL=()=>{const{tokens:e}=de(j=>j.auth),[t,r]=N.useState(null),[n,a]=N.useState([]),[i,o]=N.useState([]),[l,d]=N.useState("today"),[c,u]=N.useState(!1);N.useEffect(()=>{m()},[l]);const h=()=>{const j=new Date;let w;switch(l){case"today":w=new Date(j.setHours(0,0,0,0));break;case"week":w=new Date(j.setDate(j.getDate()-7));break;case"month":w=new Date(j.setMonth(j.getMonth()-1));break;default:w=void 0}return w?w.toISOString():void 0},m=async()=>{try{if(u(!0),!(e!=null&&e.accessToken))throw new Error("No authentication token available");const j=h(),w=j?`/api/delivery/earnings?from=${j}`:"/api/delivery/earnings",y=await fetch(w,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`}});if(!y.ok){const x=await y.json();throw new Error(x.error||"Failed to fetch earnings")}const b=await y.json();r(b.earnings),a(b.orders||[]),f(b.orders||[])}catch(j){console.error("Error fetching earnings:",j),Y.error(j.message||"Failed to load earnings")}finally{u(!1)}},f=j=>{const w={};j.forEach(b=>{const x=new Date(b.createdAt).toLocaleDateString();w[x]||(w[x]={amount:0,orders:0}),w[x].amount+=b.deliveryFee+b.tip,w[x].orders+=1});const y=Object.entries(w).map(([b,x])=>({date:b,amount:x.amount,orders:x.orders})).sort((b,x)=>new Date(b.date).getTime()-new Date(x.date).getTime()).slice(-7);o(y)},p=()=>!t||t.completedOrders===0?0:(t.deliveryFees+t.tips)/t.completedOrders,v=Math.max(...i.map(j=>j.amount),1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 pb-24",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:s.jsx("div",{className:"flex items-center gap-2 overflow-x-auto",children:["today","week","month","all"].map(j=>s.jsx("button",{onClick:()=>d(j),className:`px-4 py-2 rounded-lg font-semibold whitespace-nowrap transition-colors ${l===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading earnings..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-xl p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Earnings"}),s.jsxs("p",{className:"text-4xl font-bold",children:["",(t==null?void 0:t.total.toLocaleString())||0]})]}),s.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-sm",children:s.jsx(xs,{className:"h-8 w-8"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[s.jsx(tr,{className:"h-4 w-4"}),s.jsxs("span",{children:[(t==null?void 0:t.completedOrders)||0," deliveries completed"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:s.jsx(Ie,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Delivery Fees"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(t==null?void 0:t.deliveryFees)||0]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:s.jsx(Ac,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Tips Received"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(t==null?void 0:t.tips)||0]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:s.jsx(ho,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Avg per Order"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",p().toFixed(0)]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:s.jsx(Ie,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Orders"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:(t==null?void 0:t.completedOrders)||0})]})]})})]}),i.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(ho,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Earnings Trend"})]}),s.jsx("div",{className:"space-y-3",children:i.map((j,w)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:j.date}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",j.amount.toFixed(0)]})]}),s.jsx("div",{className:"relative h-8 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500 flex items-center justify-end pr-3",style:{width:`${j.amount/v*100}%`},children:s.jsxs("span",{className:"text-xs text-white font-semibold",children:[j.orders," orders"]})})})]},w))})]}),n.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ze,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Recent Deliveries"})]}),s.jsx("div",{className:"space-y-3",children:n.slice(0,10).map((j,w)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:["Order #",j._id.slice(-6)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[j.address.city," - ",j.address.pincode]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(j.createdAt).toLocaleString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",j.deliveryFee+j.tip]}),j.tip>0&&s.jsxs("p",{className:"text-xs text-purple-600",children:["+",j.tip," tip"]})]})]},w))})]}),n.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx(Mn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Earnings Yet"}),s.jsx("p",{className:"text-gray-600",children:"Complete deliveries to start earning"})]})]})]})},bL=()=>{const{tokens:e}=de(d=>d.auth),[t,r]=N.useState([]),[n,a]=N.useState(!0);N.useEffect(()=>{i()},[]);const i=async()=>{try{if(a(!0),!(e!=null&&e.accessToken))throw new Error("No authentication token available");const d=await fetch("/api/delivery/notifications",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`}});if(!d.ok){const u=[{_id:"1",type:"order_assigned",title:"New Order Assigned",message:"You have been assigned Order #12345 for delivery",isRead:!1,createdAt:new Date().toISOString(),orderId:"12345"},{_id:"2",type:"payment_received",title:"Payment Received",message:"150 has been credited to your account for Order #12344",isRead:!0,createdAt:new Date(Date.now()-36e5).toISOString()},{_id:"3",type:"system",title:"System Update",message:"New features have been added to the delivery app",isRead:!0,createdAt:new Date(Date.now()-72e5).toISOString()}];r(u);return}const c=await d.json();r(c.notifications||[])}catch(d){console.error("Error fetching notifications:",d);const c=[{_id:"1",type:"order_assigned",title:"New Order Assigned",message:"You have been assigned Order #12345 for delivery",isRead:!1,createdAt:new Date().toISOString(),orderId:"12345"}];r(c)}finally{a(!1)}},o=d=>{switch(d){case"order_assigned":return s.jsx(Ie,{className:"h-5 w-5 text-blue-600"});case"order_completed":return s.jsx(Ae,{className:"h-5 w-5 text-green-600"});case"payment_received":return s.jsx(Ot,{className:"h-5 w-5 text-yellow-600"});case"system":return s.jsx(La,{className:"h-5 w-5 text-purple-600"});default:return s.jsx(Ot,{className:"h-5 w-5 text-gray-600"})}},l=d=>{r(c=>c.map(u=>u._id===d?{...u,isRead:!0}:u))};return n?s.jsx("div",{className:"p-4 pb-20",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]})}):s.jsx("div",{className:"p-4 pb-20",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(Ot,{className:"h-6 w-6 mr-2 text-blue-600"}),"Notifications"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Stay updated with your delivery assignments and earnings"})]}),s.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ot,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No notifications yet"})]}):t.map(d=>s.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${d.isRead?"":"bg-blue-50"}`,onClick:()=>l(d._id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:o(d.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:`font-medium ${d.isRead?"text-gray-700":"text-gray-900"}`,children:d.title}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Ze,{className:"h-3 w-3 mr-1"}),new Date(d.createdAt).toLocaleTimeString()]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.message}),!d.isRead&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block w-2 h-2 bg-blue-600 rounded-full"})})]})]})},d._id))})]})})},jL=()=>{const e=ne(),t=ft(),r=()=>{t(On()),e("/login")},n=[{icon:Be,label:"Profile",description:"Manage your personal information and password",action:()=>e("/delivery-profile"),color:"text-blue-600",bgColor:"bg-blue-50"},{icon:xs,label:"Ways to Earn",description:"Tips, bonuses, and performance incentives",action:()=>e("/ways-to-earn"),color:"text-green-600",bgColor:"bg-green-50"},{icon:Zt,label:"Refer and Earn",description:"Invite new delivery partners and earn rewards",action:()=>e("/refer-and-earn"),color:"text-purple-600",bgColor:"bg-purple-50"},{icon:pr,label:"Help & Support",description:"FAQs, support resources, and contact info",action:()=>e("/help-support"),color:"text-orange-600",bgColor:"bg-orange-50"},{icon:Ec,label:"Message Center",description:"Updates, alerts, and admin messages",action:()=>e("/message-center"),color:"text-indigo-600",bgColor:"bg-indigo-50"},{icon:Ao,label:"Settings",description:"Notification preferences and app settings",action:()=>e("/delivery-settings"),color:"text-gray-600",bgColor:"bg-gray-50"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 pb-20",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"More"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})]}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden",children:s.jsx("div",{className:"divide-y divide-gray-100",children:n.map((a,i)=>s.jsx(D.button,{onClick:a.action,className:"w-full p-4 hover:bg-gray-50 transition-all duration-200 text-left group",whileHover:{x:4},children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${a.bgColor} group-hover:scale-110 transition-transform duration-200`,children:s.jsx(a.icon,{className:`h-6 w-6 ${a.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:a.label}),s.jsx("p",{className:"text-sm text-gray-600",children:a.description})]}),s.jsx(Rr,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]})},i))})}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ew,{className:"h-5 w-5 mr-2 text-gray-600"}),"App Information"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Version"}),s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:"1.0.0"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Last Updated"}),s.jsx("span",{className:"text-gray-500",children:new Date().toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Platform"}),s.jsx("span",{className:"text-gray-500",children:"Web App"})]})]})]}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center space-x-3 p-4 bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 text-red-600 rounded-xl transition-all duration-200 font-semibold group",children:[s.jsx(op,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:"Logout"})]})})]})},Dy=()=>{const e=ne(),{tokens:t,isAuthenticated:r,user:n}=de(m=>m.auth),[a,i]=N.useState(null),[o,l]=N.useState(!0),[d,c]=N.useState("home");N.useEffect(()=>{if(!r||(n==null?void 0:n.role)!=="delivery"){e("/login");return}u()},[r,n,e]);const u=async()=>{try{if(l(!0),!(t!=null&&t.accessToken))throw new Error("No authentication token available");const m=await fetch("http://localhost:5001/api/delivery/orders",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`}});if(!m.ok){if(m.status===403||m.status===401){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("auth"),window.location.href="/login";return}const p=await m.json();throw new Error(p.message||"Failed to fetch delivery info")}const f=await m.json();i(f.deliveryBoy)}catch(m){console.error("Error fetching delivery boy info:",m)}finally{l(!1)}},h=()=>{switch(d){case"home":return s.jsx(_y,{});case"earnings":return s.jsx(vL,{});case"notifications":return s.jsx(bL,{});case"more":return s.jsx(jL,{});default:return s.jsx(_y,{})}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(lL,{}),h(),s.jsx(oL,{activeTab:d,setActiveTab:c})]})},wL=()=>{const e=ne(),[t,r]=N.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",vehicleType:"bike"}),[n,a]=N.useState(!1),i=l=>{r({...t,[l.target.name]:l.target.value})},o=async l=>{if(l.preventDefault(),t.password!==t.confirmPassword){Y.error("Passwords do not match");return}if(t.password.length<6){Y.error("Password must be at least 6 characters");return}if(!/^[6-9]\d{9}$/.test(t.phone)){Y.error("Please enter a valid 10-digit phone number");return}a(!0);try{const d=await fetch("/api/delivery/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,phone:t.phone,password:t.password,vehicleType:t.vehicleType})}),c=await d.json();if(!d.ok)throw new Error(c.error||"Signup failed");Y.success("Account submitted for approval! Admin will activate your account soon."),setTimeout(()=>{e("/delivery/login")},2e3)}catch(d){console.error("Signup error:",d),Y.error(d.message||"Failed to create account")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:s.jsx(Ie,{className:"w-8 h-8 text-white"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Join as Delivery Partner"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Start earning by delivering orders"})]}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:i,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",name:"email",value:t.email,onChange:i,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:i,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10-digit mobile number",maxLength:10})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),s.jsxs("select",{name:"vehicleType",value:t.vehicleType,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bike",children:"Bike"}),s.jsx("option",{value:"scooter",children:"Scooter"}),s.jsx("option",{value:"car",children:"Car"}),s.jsx("option",{value:"cycle",children:"Bicycle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"password",name:"password",value:t.password,onChange:i,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"At least 6 characters",minLength:6})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:i,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"})]})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed mt-2 relative z-10",children:n?"Creating Account...":"Sign Up as Delivery Partner"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>e("/delivery/login"),className:"text-blue-600 font-semibold hover:underline",children:"Login here"})]})}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Your account will be reviewed by our admin team. You'll be notified once approved to start delivering."]})})]})})},NL=()=>{const e=ne(),t=ft(),[r,n]=N.useState({email:"",password:""}),[a,i]=N.useState(!1),[o,l]=N.useState(""),d=u=>{n({...r,[u.target.name]:u.target.value}),l("")},c=async u=>{u.preventDefault(),i(!0),l("");try{const h=await fetch("/api/delivery/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),m=await h.json();if(!h.ok){m.status==="pending"?l("Your account is awaiting admin approval. You'll be notified once approved."):m.status==="suspended"?l("Your account has been suspended. Please contact support."):l(m.error||"Login failed");return}t(Bn(m.user)),t(Co(m.tokens)),Y.success("Login successful!"),e("/delivery/dashboard")}catch(h){console.error("Login error:",h),l(h.message||"Failed to login. Please try again.")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:s.jsx(Ie,{className:"w-8 h-8 text-white"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Delivery Partner Login"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to start delivering"})]}),o&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[s.jsx(La,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:o})]}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:d,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",children:a?"Logging in...":"Login"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["New to delivery?"," ",s.jsx("button",{onClick:()=>e("/delivery/signup"),className:"text-blue-600 font-semibold hover:underline",children:"Sign up here"})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Not a delivery partner?"," ",s.jsx("button",{onClick:()=>e("/login"),className:"text-gray-700 font-semibold hover:underline",children:"Customer Login"})]})})]})})},SL=()=>{var Os;const e=ne(),t=ft(),{user:r,tokens:n}=de(G=>G.auth),[a]=VC(),[i,o]=N.useState(null),[l,d]=N.useState(!0),[c,u]=N.useState(null),[h,m]=N.useState(!1),[f,p]=N.useState(null),[v,j]=N.useState(null),[w,y]=N.useState(null),[b,x]=N.useState({phone:"",joiningDate:"",city:"",zone:""}),[g,S]=N.useState(!1),[P,k]=N.useState(!1),[E,A]=N.useState(""),[T,M]=N.useState(null),[C,R]=N.useState(!1),[O,I]=N.useState(!1),[F,$]=N.useState("English"),[L,B]=N.useState("English"),[q,H]=N.useState(!1),[X,se]=N.useState("app"),[_,V]=N.useState(!1),Q=[{code:"en",name:"English",flag:""},{code:"hi",name:"Hindi",flag:""},{code:"es",name:"Spanish",flag:""},{code:"fr",name:"French",flag:""},{code:"de",name:"German",flag:""},{code:"it",name:"Italian",flag:""},{code:"pt",name:"Portuguese",flag:""},{code:"ru",name:"Russian",flag:""},{code:"ja",name:"Japanese",flag:""},{code:"ko",name:"Korean",flag:""},{code:"zh",name:"Chinese",flag:""},{code:"ar",name:"Arabic",flag:""}],ae=async()=>{try{if(!(n!=null&&n.refreshToken))return console.error("No refresh token available"),null;console.log("Attempting to refresh token...");const G=await a(n.refreshToken).unwrap();return G.accessToken?(console.log("Token refreshed successfully"),t(Bn(r)),t(Co({accessToken:G.accessToken,refreshToken:G.refreshToken||n.refreshToken})),G.accessToken):null}catch(G){return console.error("Token refresh failed:",G),t(On()),e("/login"),null}},J=async(G,le={})=>{let ue=n==null?void 0:n.accessToken;if(!ue)throw new Error("No access token available");let pe=await fetch(G,{...le,headers:{...le.headers,Authorization:`Bearer ${ue}`}});if(pe.status===403){console.log("Received 403, attempting token refresh...");const ge=await ae();if(ge)pe=await fetch(G,{...le,headers:{...le.headers,Authorization:`Bearer ${ge}`}});else throw new Error("Token refresh failed")}return pe},xe={id:"1",name:"JOHN DOE",email:"john.doe@example.com",phone:"+91 98765 43210",role:"delivery",createdAt:"2024-01-15",updatedAt:"2024-01-15",city:"Mumbai",zone:"Zone A",orderCategory:"Food & Grocery",rating:4.8,deId:"DE123456"};N.useEffect(()=>{if(console.log("DeliveryProfilePage useEffect - user:",r),console.log("DeliveryProfilePage useEffect - tokens:",n),!r||r.role!=="delivery"){console.log("User not authenticated or not delivery role, redirecting to login"),e("/login");return}if(!(n!=null&&n.accessToken)){console.log("No access token found, using mock data"),o(xe),d(!1);return}he(),we()},[r,e,n]);const he=async()=>{try{if(d(!0),j(null),!(n!=null&&n.accessToken)){console.log("No access token for profile fetch, using mock data"),o(xe);return}console.log("Fetching profile with token:",n.accessToken.substring(0,20)+"...");const G=await J("/api/delivery/profile",{headers:{"Content-Type":"application/json"}});if(console.log("Profile response status:",G.status),!G.ok){let pe=`Server error: ${G.status}`;try{const ge=await G.text();if(ge){const Te=JSON.parse(ge);pe=Te.message||Te.error||pe}}catch(ge){console.warn("Could not parse error response:",ge)}console.error("Profile fetch failed:",pe),j(`Failed to load profile: ${pe}`),o(xe);return}const le=G.headers.get("content-type");if(!le||!le.includes("application/json")){console.warn("Profile response is not JSON, content-type:",le),j("Invalid response format from server"),o(xe);return}const ue=await G.json();console.log("Profile data:",ue),o(ue),ue.appLanguage&&$(ue.appLanguage),ue.preferredLanguage&&B(ue.preferredLanguage)}catch(G){console.error("Error fetching profile:",G),j(`Failed to load profile: ${G instanceof Error?G.message:"Unknown error"}`),o(xe)}finally{d(!1)}},we=async()=>{try{if(!(n!=null&&n.accessToken)){console.log("No access token for selfie URL fetch");return}console.log("Fetching selfie URL with token:",n.accessToken.substring(0,20)+"...");const G=await J("/api/delivery/selfie-url",{headers:{"Content-Type":"application/json"}});if(console.log("Selfie URL response status:",G.status),!G.ok){let pe=`Server error: ${G.status}`;try{const ge=await G.text();if(ge){const Te=JSON.parse(ge);pe=Te.message||Te.error||pe}}catch(ge){console.warn("Could not parse error response for selfie URL:",ge)}console.error(`Selfie URL fetch failed: ${pe}`);return}const le=G.headers.get("content-type");if(!le||!le.includes("application/json")){console.warn("Selfie URL response is not JSON, content-type:",le);return}const ue=await G.json();console.log("Selfie URL data:",ue),u(ue.selfieUrl)}catch(G){console.error("Error fetching selfie URL:",G)}},et=(G,le)=>{y(G),x(ue=>({...ue,[G]:le}))},Qt=()=>{y(null),x({phone:"",joiningDate:"",city:"",zone:""})},Gt=async G=>{if(n!=null&&n.accessToken){S(!0);try{const le={};switch(G){case"phone":le.mobile=b.phone.replace(/\D/g,"");break;case"joiningDate":le.joiningDate=b.joiningDate;break;case"city":le.city=b.city;break;case"zone":le.zone=b.zone;break}const ue=await J("/api/delivery/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(!ue.ok){let pe=`Server error: ${ue.status}`;try{const ge=await ue.text();if(ge){const Te=JSON.parse(ge);pe=Te.message||Te.error||pe}}catch(ge){console.warn("Could not parse error response:",ge)}throw new Error(pe)}o(pe=>pe?{...pe,[G==="phone"?"phone":G]:b[G],[G==="joiningDate"?"createdAt":G]:b[G]}:null),y(null),x({phone:"",joiningDate:"",city:"",zone:""})}catch(le){console.error("Update error:",le),alert(le instanceof Error?le.message:"Update failed")}finally{S(!1)}}},z=G=>{G==="App Language"?(se("app"),H(!0)):G==="Preferred Language"?(se("preferred"),H(!0)):alert(`${G} feature coming soon!`)},Z=()=>{H(!1)},re=async G=>{if(!(n!=null&&n.accessToken)){alert("Please log in to update language preferences");return}V(!0);try{const le={[X==="app"?"appLanguage":"preferredLanguage"]:G},ue=await J("/api/delivery/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(!ue.ok){let ge=`Server error: ${ue.status}`;try{const Te=await ue.text();if(Te){const Ms=JSON.parse(Te);ge=Ms.message||Ms.error||ge}}catch(Te){console.warn("Could not parse error response:",Te)}throw new Error(ge)}const pe=ue.headers.get("content-type");(!pe||!pe.includes("application/json"))&&console.warn("Language update response is not JSON, content-type:",pe),X==="app"?$(G):B(G),alert(`${X==="app"?"App":"Preferred"} language updated to ${G}!`),Z()}catch(le){console.error("Language update error:",le),alert(`Failed to update language: ${le instanceof Error?le.message:"Unknown error"}`)}finally{V(!1)}},me=()=>{A((i==null?void 0:i.name)||"JOHN DOE"),M(c),k(!0)},at=()=>{k(!1),A(""),M(null)},Ue=async G=>{var ge;const le=(ge=G.target.files)==null?void 0:ge[0];if(!le)return;if(le.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(le.type)){alert("Please upload a valid image file (JPEG, JPG, PNG, WEBP)");return}const pe=new FileReader;pe.onload=Te=>{var Ms;M((Ms=Te.target)==null?void 0:Ms.result)},pe.readAsDataURL(le)},ze=async()=>{var le;if(!(n!=null&&n.accessToken)){alert("Please log in to update your profile");return}I(!0);const G=[];try{if(E!==(i==null?void 0:i.name)){console.log("Updating profile name...");try{const ue=await J("/api/delivery/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E})});if(!ue.ok){let pe=`Server error: ${ue.status}`;try{const ge=await ue.text();if(ge){const Te=JSON.parse(ge);pe=Te.message||Te.error||pe}}catch(ge){console.warn("Could not parse error response:",ge)}throw new Error(pe)}o(pe=>pe?{...pe,name:E}:null),console.log(" Profile name updated successfully")}catch(ue){console.error(" Failed to update profile name:",ue),G.push(`Name update failed: ${ue instanceof Error?ue.message:"Unknown error"}`)}}if(T&&T!==c){const ue=document.getElementById("modal-selfie-upload"),pe=(le=ue==null?void 0:ue.files)==null?void 0:le[0];if(pe)if(console.log("Uploading selfie file:",pe.name,"Size:",pe.size),pe.size>5*1024*1024)G.push("Selfie file size must be less than 5MB");else try{const ge=new FormData;ge.append("selfie",pe),console.log("Sending selfie upload request...");const Te=await J("/api/delivery/update-selfie",{method:"PUT",body:ge});if(console.log("Selfie upload response status:",Te.status),!Te.ok){let It=`Server error: ${Te.status}`;try{const Hn=await Te.text();if(Hn){const Wn=JSON.parse(Hn);It=Wn.message||Wn.error||It}}catch(Hn){console.warn("Could not parse error response:",Hn)}throw new Error(It)}const Ms=await Te.json();console.log(" Selfie uploaded successfully:",Ms),u(Ms.selfieUrl)}catch(ge){console.error(" Failed to upload selfie:",ge),G.push(`Selfie upload failed: ${ge instanceof Error?ge.message:"Unknown error"}`)}}G.length===0?(alert("Profile updated successfully!"),at()):G.length===1&&E===(i==null?void 0:i.name)?(alert(`Profile updated with warnings:
${G.join(`
`)}`),at()):alert(`Profile update failed:
${G.join(`
`)}`)}catch(ue){console.error(" Unexpected error updating profile:",ue),alert(`Failed to update profile: ${ue instanceof Error?ue.message:"Unknown error"}`)}finally{I(!1)}};return l?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})}):v?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Da,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Profile"}),s.jsx("p",{className:"text-gray-600 mb-4",children:v}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>{j(null),he()},className:"w-full px-4 py-2 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors",children:"Try Again"}),s.jsx("button",{onClick:()=>e("/delivery"),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Back to Dashboard"})]})]})}):s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>e("/delivery"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-2",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile"})]})})}),s.jsxs("div",{className:"px-3 py-4",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-3 mb-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0 cursor-pointer hover:from-orange-500 hover:to-orange-700 transition-all duration-200",onClick:me,children:c?s.jsx("img",{src:c,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):s.jsx("span",{className:"text-xl font-bold text-white",children:((Os=i==null?void 0:i.name)==null?void 0:Os.charAt(0))||"J"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Your ratings  "}),s.jsx(ot,{className:"h-3 w-3 text-yellow-400 ml-1"}),s.jsx("span",{className:"text-xs font-medium text-gray-900 ml-1",children:(i==null?void 0:i.rating)||"4.8"})]}),s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:(i==null?void 0:i.name)||"JOHN DOE"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["DE ID: ",(i==null?void 0:i.deId)||"DE123456"]})]})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-b border-gray-100 pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Mobile Number"}),w==="phone"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"tel",value:b.phone,onChange:G=>x(le=>({...le,phone:G.target.value})),className:"text-sm font-semibold text-gray-900 border border-gray-300 rounded px-2 py-1 w-full",placeholder:"Enter mobile number"}),s.jsx("button",{onClick:()=>Gt("phone"),disabled:g,className:"text-green-600 hover:text-green-700 disabled:opacity-50",children:g?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qt(),className:"text-red-600 hover:text-red-700",children:s.jsx(gt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(i==null?void 0:i.phone)||"+91 98765 43210"}),s.jsx("button",{onClick:()=>et("phone",(i==null?void 0:i.phone)||"+91 98765 43210"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ol,{className:"h-3 w-3"})})]})]})})}),s.jsx("div",{className:"border-b border-gray-100 pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Joining Date"}),w==="joiningDate"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",value:b.joiningDate,onChange:G=>x(le=>({...le,joiningDate:G.target.value})),className:"text-sm font-semibold text-gray-900 border border-gray-300 rounded px-2 py-1 w-full"}),s.jsx("button",{onClick:()=>Gt("joiningDate"),disabled:g,className:"text-green-600 hover:text-green-700 disabled:opacity-50",children:g?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qt(),className:"text-red-600 hover:text-red-700",children:s.jsx(gt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:i!=null&&i.createdAt?new Date(i.createdAt).toLocaleDateString("en-GB"):"15/01/2024"}),s.jsx("button",{onClick:()=>et("joiningDate",i!=null&&i.createdAt?new Date(i.createdAt).toISOString().split("T")[0]:"2024-01-15"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ol,{className:"h-3 w-3"})})]})]})})}),s.jsx("div",{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Category"}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Food & Grocery"})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-b border-gray-100 pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"City"}),w==="city"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:b.city,onChange:G=>x(le=>({...le,city:G.target.value})),className:"text-sm font-semibold text-gray-900 border border-gray-300 rounded px-2 py-1 w-full",placeholder:"Enter city"}),s.jsx("button",{onClick:()=>Gt("city"),disabled:g,className:"text-green-600 hover:text-green-700 disabled:opacity-50",children:g?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qt(),className:"text-red-600 hover:text-red-700",children:s.jsx(gt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(i==null?void 0:i.city)||"Mumbai"}),s.jsx("button",{onClick:()=>et("city",(i==null?void 0:i.city)||"Mumbai"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ol,{className:"h-3 w-3"})})]})]})})}),s.jsx("div",{className:"border-b border-gray-100 pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Zone"}),w==="zone"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:b.zone,onChange:G=>x(le=>({...le,zone:G.target.value})),className:"text-sm font-semibold text-gray-900 border border-gray-300 rounded px-2 py-1 w-full",placeholder:"Enter zone"}),s.jsx("button",{onClick:()=>Gt("zone"),disabled:g,className:"text-green-600 hover:text-green-700 disabled:opacity-50",children:g?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Qt(),className:"text-red-600 hover:text-red-700",children:s.jsx(gt,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(i==null?void 0:i.zone)||"Zone A"}),s.jsx("button",{onClick:()=>et("zone",(i==null?void 0:i.zone)||"Zone A"),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ol,{className:"h-3 w-3"})})]})]})})})]})]})}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-0.5",children:[s.jsxs("button",{onClick:()=>z("Emergency Details"),className:"w-full bg-white rounded-xl shadow-sm border border-gray-100 p-2.5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-red-100 rounded-lg mr-3",children:s.jsx(Da,{className:"h-4 w-4 text-red-600"})}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Emergency details"})]}),s.jsx(Rr,{className:"h-4 w-4 text-gray-400"})]}),s.jsxs("button",{onClick:()=>z("Bank Details"),className:"w-full bg-white rounded-xl shadow-sm border border-gray-100 p-2.5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg mr-3",children:s.jsx(Ws,{className:"h-4 w-4 text-blue-600"})}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Bank details"})]}),s.jsx(Rr,{className:"h-4 w-4 text-gray-400"})]}),s.jsxs("button",{onClick:()=>z("App Language"),className:"w-full bg-white rounded-xl shadow-sm border border-gray-100 p-2.5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-purple-100 rounded-lg mr-3",children:s.jsx(lp,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{className:"flex items-center justify-between flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"App language"}),s.jsx("span",{className:"text-xs text-gray-500",children:F})]})]}),s.jsx(Rr,{className:"h-4 w-4 text-gray-400"})]}),s.jsxs("button",{onClick:()=>z("Preferred Language"),className:"w-full bg-white rounded-xl shadow-sm border border-gray-100 p-2.5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-orange-100 rounded-lg mr-3",children:s.jsx(tw,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{className:"flex items-center justify-between flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Preferred Language"}),s.jsx("span",{className:"text-xs text-gray-500",children:L})]})]}),s.jsx(Rr,{className:"h-4 w-4 text-gray-400"})]})]})]}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Profile"}),s.jsx("button",{onClick:at,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(gt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Selfie"}),s.jsxs("div",{className:"text-center",children:[T?s.jsx("div",{className:"relative inline-block",children:s.jsx("img",{src:T,alt:"Profile preview",className:"w-24 h-24 object-cover rounded-full border-2 border-gray-200"})}):s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(uo,{className:"h-8 w-8 text-gray-400"})}),s.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-3",children:T?"Selfie uploaded":"No selfie uploaded yet"}),s.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors cursor-pointer font-semibold",children:[s.jsx(uo,{className:"h-4 w-4 mr-2"}),T?"Change Selfie":"Upload Selfie",s.jsx("input",{id:"modal-selfie-upload",type:"file",accept:"image/*",onChange:Ue,className:"hidden"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),s.jsx("input",{type:"text",value:E,onChange:G=>A(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your name"})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:at,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold",children:"Cancel"}),s.jsx("button",{onClick:ze,disabled:O,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:O?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"})]})]})}),q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Select ",X==="app"?"App":"Preferred"," Language"]}),s.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(gt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:s.jsx("div",{className:"space-y-2",children:Q.map(G=>s.jsxs("button",{onClick:()=>re(G.name),disabled:_,className:`w-full flex items-center justify-between p-3 rounded-xl border transition-colors ${(X==="app"?F:L)===G.name?"bg-blue-50 border-blue-200 text-blue-900":"bg-white border-gray-200 hover:bg-gray-50 text-gray-900"} ${_?"opacity-50 cursor-not-allowed":""}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-2xl mr-3",children:G.flag}),s.jsx("span",{className:"font-medium",children:G.name})]}),(X==="app"?F:L)===G.name&&s.jsx(Ae,{className:"h-5 w-5 text-blue-600"})]},G.code))})}),s.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:Z,disabled:_,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold disabled:opacity-50",children:"Cancel"})})]})})]})},kL=()=>{const e=ne(),{user:t,tokens:r}=de(E=>E.auth),[n,a]=N.useState(!1),[i,o]=N.useState(null),[l,d]=N.useState(!1),[c,u]=N.useState(null),[h,m]=N.useState(!1),[f,p]=N.useState(null),v=N.useRef(null),j=N.useRef(null),w=N.useRef(null),y=N.useRef(null);N.useEffect(()=>{if(!t||t.role!=="delivery"){e("/login");return}},[t,e]);const b=async()=>{try{p(null);const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});j.current&&(j.current.srcObject=E,y.current=E,m(!0))}catch(E){console.error("Camera error:",E),p("Camera access denied. Please use file upload instead.")}},x=()=>{y.current&&(y.current.getTracks().forEach(E=>E.stop()),y.current=null),m(!1)},g=()=>{if(j.current&&w.current){const E=w.current,A=j.current,T=E.getContext("2d");if(T){E.width=A.videoWidth,E.height=A.videoHeight,T.drawImage(A,0,0);const M=E.toDataURL("image/jpeg",.8);u(M),x()}}},S=E=>{var T;const A=(T=E.target.files)==null?void 0:T[0];if(A){if(A.size>5*1024*1024){o("File size must be less than 5MB");return}const M=new FileReader;M.onload=C=>{var R;u((R=C.target)==null?void 0:R.result)},M.readAsDataURL(A)}},P=async()=>{if(!c){o("Please capture or select a selfie first");return}try{a(!0),o(null);const A=await(await fetch(c)).blob(),T=new FormData;T.append("selfie",A,"selfie.jpg");const M=await fetch("/api/delivery/upload-selfie",{method:"POST",headers:{Authorization:`Bearer ${r==null?void 0:r.accessToken}`},body:T});if(!M.ok){const C=await M.json();throw new Error(C.message||"Upload failed")}d(!0),setTimeout(()=>{e("/delivery")},2e3)}catch(E){console.error("Upload error:",E),o(E instanceof Error?E.message:"Upload failed")}finally{a(!1)}},k=()=>{u(null),o(null),d(!1)};return l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:s.jsxs(D.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center max-w-md w-full",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ss,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Selfie Uploaded!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your selfie has been successfully uploaded. Redirecting to dashboard..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(D.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Selfie Verification"}),s.jsx("p",{className:"text-gray-600",children:"Please capture or upload a clear selfie for verification"})]}),h&&s.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover rounded-xl"}),s.jsx("canvas",{ref:w,className:"hidden"}),s.jsx("button",{onClick:x,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(gt,{className:"h-4 w-4"})})]}),s.jsxs("button",{onClick:g,className:"w-full mt-4 flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:[s.jsx(uo,{className:"h-5 w-5 mr-2"}),"Capture Photo"]})]}),c&&!h&&s.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:c,alt:"Selfie preview",className:"w-full h-64 object-cover rounded-xl"})}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsxs("button",{onClick:k,className:"flex-1 flex items-center justify-center px-4 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors font-semibold",children:[s.jsx(gt,{className:"h-5 w-5 mr-2"}),"Retake"]}),s.jsxs("button",{onClick:P,disabled:n,className:"flex-1 flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:[n?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):s.jsx(Ss,{className:"h-5 w-5 mr-2"}),n?"Uploading...":"Upload Selfie"]})]})]}),!c&&!h&&s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[s.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center px-4 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-semibold text-lg",children:[s.jsx(uo,{className:"h-6 w-6 mr-3"}),"Open Camera"]}),s.jsxs("button",{onClick:()=>{var E;return(E=v.current)==null?void 0:E.click()},className:"w-full flex items-center justify-center px-4 py-4 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-semibold text-lg",children:[s.jsx(XP,{className:"h-6 w-6 mr-3"}),"Upload from Gallery"]}),s.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:S,className:"hidden"})]}),(i||f)&&s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(La,{className:"h-5 w-5 text-red-600 mr-3"}),s.jsx("p",{className:"text-red-800",children:i||f})]})}),!c&&!h&&s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Instructions:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Ensure good lighting and clear visibility of your face"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Look directly at the camera with a neutral expression"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"Make sure your entire face is visible in the frame"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),"File size should be less than 5MB"]})]})]})]})})},CL=()=>{const e=ne(),t=r=>{const n={helpline:"9391795162",police:"100",ambulance:"108"},a={helpline:"CS Store Helpline",police:"Police",ambulance:"Ambulance"};navigator.userAgent.includes("Mobile")?window.location.href=`tel:${n[r]}`:alert(`Calling ${a[r]}: ${n[r]}`)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/delivery"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Back to Dashboard",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pr,{className:"h-6 w-6 text-blue-600"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Emergency Assistance"})]}),s.jsx("div",{className:"w-20"})," "]})}),s.jsxs("div",{className:"p-6 pb-20",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-8 mb-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"p-4 bg-blue-50 rounded-full w-fit mx-auto mb-6",children:s.jsx(pr,{className:"h-12 w-12 text-blue-600"})}),s.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-4",children:"Emergency Assistance"}),s.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"If you're facing an emergency or need urgent help, please contact support immediately."})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("button",{onClick:()=>t("helpline"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-8 rounded-xl transition-colors duration-200 shadow-lg hover:shadow-xl flex items-center justify-center mx-auto space-x-3","aria-label":"Call Support Now",children:[s.jsx(ht,{className:"h-6 w-6"}),s.jsx("span",{className:"text-lg",children:"Call Support Now"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"9391795162  24/7 Available"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4 text-center",children:"Other Emergency Contacts"}),s.jsxs("button",{onClick:()=>t("police"),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors duration-200 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-600 rounded-lg mr-3",children:s.jsx(gs,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Police Emergency"}),s.jsx("span",{className:"text-sm text-gray-600 block",children:"Immediate Police Assistance"})]})]}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"100"})]}),s.jsxs("button",{onClick:()=>t("ambulance"),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors duration-200 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-600 rounded-lg mr-3",children:s.jsx(ht,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Medical Emergency"}),s.jsx("span",{className:"text-sm text-gray-600 block",children:"Ambulance Service"})]})]}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"108"})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6 max-w-2xl mx-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ze,{className:"h-5 w-5 mr-2 text-blue-600"}),"Important Information"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Stay Calm:"})," In case of emergency, try to remain calm and assess the situation carefully."]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," Make sure you know your current location to provide accurate information to emergency services."]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Safety First:"})," Your safety is our top priority. Do not take unnecessary risks."]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report:"})," Always report any incidents to CS Store support for proper documentation and follow-up."]})]})]})]})]})]})},PL=()=>{const e=ne(),t=[{id:"order-earning",title:"Order Earning Issue",description:"Problems with order payments and earnings",icon:xs,color:"bg-green-50 text-green-600",hoverColor:"hover:bg-green-100"},{id:"daily-incentive",title:"Daily Incentive Issue",description:"Issues with daily bonuses and incentives",icon:Mn,color:"bg-blue-50 text-blue-600",hoverColor:"hover:bg-blue-100"},{id:"incentives-payout",title:"Incentives & Payout Issue",description:"Problems with incentives and payment processing",icon:Ws,color:"bg-purple-50 text-purple-600",hoverColor:"hover:bg-purple-100"},{id:"leave-cs-store",title:"I Want to Leave CS Store",description:"Information about leaving the delivery partner program",icon:op,color:"bg-red-50 text-red-600",hoverColor:"hover:bg-red-100"}],r=n=>{const a=t.find(i=>i.id===n);alert(`Opening ${a==null?void 0:a.title} form. This feature will be available soon!`)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/delivery"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Back to Dashboard",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pr,{className:"h-6 w-6 text-blue-600"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Help Center"})]}),s.jsx("div",{className:"w-20"})," "]})}),s.jsx("div",{className:"p-6 pb-20",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Delivery Partner Help Center"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Get help with your delivery partner account and resolve issues quickly"})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"p-4 bg-blue-50 rounded-full w-fit mx-auto mb-4",children:s.jsx(pr,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Raise a New Issue"}),s.jsx("p",{className:"text-gray-600",children:"Select the type of issue you're experiencing to get the right help"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((n,a)=>{const i=n.icon;return s.jsx(D.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+a*.1},onClick:()=>r(n.id),className:`p-6 rounded-xl border-2 border-gray-100 ${n.hoverColor} transition-all duration-200 text-left group hover:shadow-lg hover:border-gray-200`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${n.color} group-hover:scale-110 transition-transform duration-200`,children:s.jsx(i,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-gray-700",children:n.title}),s.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-500",children:n.description})]})]})},n.id)})})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8 bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Need Immediate Help?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Emergency Support"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"For urgent safety or emergency issues"}),s.jsx("button",{onClick:()=>e("/delivery/emergency"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Go to Emergency Page"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Support"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Call our support team directly"}),s.jsx("a",{href:"tel:9391795162",className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"+91 9391795162"})]})]})]})]})})]})},AL=()=>{const e=ne(),t=[{icon:xs,title:"Base Delivery Fee",description:"Earn 25-50 per delivery based on distance",amount:"25-50",color:"text-green-600",bgColor:"bg-green-50"},{icon:ot,title:"Peak Hours Bonus",description:"Extra 15 during rush hours (6-9 PM)",amount:"+15",color:"text-orange-600",bgColor:"bg-orange-50"},{icon:tr,title:"Performance Bonus",description:"100 bonus for 95%+ on-time delivery rate",amount:"+100",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:mo,title:"Customer Tips",description:"Keep 100% of customer tips",amount:"100%",color:"text-purple-600",bgColor:"bg-purple-50"},{icon:Ze,title:"Weekend Bonus",description:"Extra 20 per delivery on weekends",amount:"+20",color:"text-indigo-600",bgColor:"bg-indigo-50"},{icon:mm,title:"Monthly Target",description:"500 bonus for 100+ deliveries per month",amount:"+500",color:"text-red-600",bgColor:"bg-red-50"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Ways to Earn"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Maximize your delivery earnings"})]})]})}),s.jsxs("div",{className:"p-4 pb-20",children:[s.jsx("div",{className:"space-y-4",children:t.map((r,n)=>s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${r.bgColor}`,children:s.jsx(r.icon,{className:`h-6 w-6 ${r.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.title}),s.jsx("span",{className:`text-lg font-bold ${r.color}`,children:r.amount})]}),s.jsx("p",{className:"text-gray-600",children:r.description})]})]})},n))}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(mm,{className:"h-5 w-5 mr-2 text-blue-600"}),"Pro Tips to Maximize Earnings"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Stay online during peak hours (6-9 PM) for bonus pay"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Maintain high customer ratings to get priority orders"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Work weekends for additional bonus opportunities"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Complete deliveries quickly to increase daily volume"})]})]})]})]})]})},EL=()=>{const e=ne(),[t,r]=N.useState(!1),n="DELIVER2024",a=`https://csstore.com/refer/${n}`,i=()=>{navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),2e3)},o=()=>{navigator.clipboard.writeText(a),r(!0),setTimeout(()=>r(!1),2e3)},l=()=>{navigator.share?navigator.share({title:"Join CS Store as a Delivery Partner",text:"Earn money by delivering orders! Use my referral code: DELIVER2024",url:a}):o()},d=[{icon:mo,title:"Referral Bonus",description:"Get 200 when your referral completes their first 10 deliveries",amount:"200",color:"text-green-600",bgColor:"bg-green-50"},{icon:ot,title:"Performance Bonus",description:"Earn 50 for each active referral who maintains 90%+ rating",amount:"50/month",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:Zt,title:"Team Leader",description:"Become a team leader with 5+ active referrals",amount:"500/month",color:"text-purple-600",bgColor:"bg-purple-50"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Refer and Earn"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Invite friends and earn together"})]})]})}),s.jsxs("div",{className:"p-4 pb-20",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Referral Code"}),s.jsx("p",{className:"text-blue-100 mb-4",children:"Share this code with friends to earn rewards"}),s.jsx("div",{className:"bg-white/20 rounded-xl p-4 mb-4",children:s.jsx("div",{className:"text-3xl font-bold tracking-wider",children:n})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center space-x-2 bg-white/20 hover:bg-white/30 rounded-xl py-3 transition-colors",children:[s.jsx(Zj,{className:"h-5 w-5"}),s.jsx("span",{children:t?"Copied!":"Copy Code"})]}),s.jsxs("button",{onClick:l,className:"flex-1 flex items-center justify-center space-x-2 bg-white/20 hover:bg-white/30 rounded-xl py-3 transition-colors",children:[s.jsx(rw,{className:"h-5 w-5"}),s.jsx("span",{children:"Share"})]})]})]})}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(mo,{className:"h-5 w-5 mr-2 text-green-600"}),"How You Earn"]}),s.jsx("div",{className:"space-y-4",children:d.map((c,u)=>s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${c.bgColor}`,children:s.jsx(c.icon,{className:`h-6 w-6 ${c.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:c.title}),s.jsx("span",{className:`font-bold ${c.color}`,children:c.amount})]}),s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]})]},u))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ae,{className:"h-5 w-5 mr-2 text-blue-600"}),"How It Works"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Share Your Code"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Share your referral code or link with friends"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Friend Joins"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your friend signs up using your code"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Earn Rewards"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get paid when they complete deliveries"})]})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Referral Stats"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Referrals"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Earned"})]})]})]})]})]})},TL=()=>{const e=ne(),[t,r]=N.useState(null),n=[{question:"How do I get started as a delivery partner?",answer:"Simply sign up with your details, complete the verification process, and start accepting delivery requests. Make sure to keep your profile updated and maintain a good rating."},{question:"What are the payment terms?",answer:"Payments are processed weekly every Monday. You can track your earnings in the Earnings tab and withdraw to your bank account."},{question:"How do I handle customer complaints?",answer:"Always be polite and professional. If you encounter any issues, contact our support team immediately. We're here to help resolve any problems."},{question:"What if I can't find the delivery address?",answer:"Use the in-app navigation or call the customer directly. If you're still unable to locate the address, contact our support team for assistance."},{question:"How do I update my availability?",answer:"Use the online/offline toggle in the app to update your availability status. You can also set your working hours in the Settings section."},{question:"What safety measures should I follow?",answer:"Always wear a helmet, follow traffic rules, keep your phone charged, and inform someone about your delivery routes. In case of emergency, use the emergency contacts in the app."}],a=[{icon:ht,title:"Call Support",description:"Speak directly with our support team",action:"Call +91-800-123-4567",color:"text-green-600",bgColor:"bg-green-50"},{icon:Wt,title:"Email Support",description:"Send us an email and we'll respond within 24 hours",action:"support@csstore.com",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:lp,title:"Live Chat",description:"Chat with our support team in real-time",action:"Start Chat",color:"text-purple-600",bgColor:"bg-purple-50"}],i=o=>{o.startsWith("Call")?window.location.href="tel:+918001234567":o.startsWith("support@")?window.location.href="mailto:support@csstore.com":alert("Live chat feature coming soon!")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Help & Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get help and contact our support team"})]})]})}),s.jsxs("div",{className:"p-4 pb-20",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(pr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contact Support"]}),s.jsx("div",{className:"space-y-4",children:a.map((o,l)=>s.jsx(D.button,{onClick:()=>i(o.action),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors text-left group",whileHover:{x:4},children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${o.bgColor} group-hover:scale-110 transition-transform`,children:s.jsx(o.icon,{className:`h-6 w-6 ${o.color}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:o.title}),s.jsx("p",{className:"text-sm text-gray-600",children:o.description}),s.jsx("p",{className:"text-sm font-medium text-blue-600 mt-1",children:o.action})]})]})},l))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:n.map((o,l)=>s.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(t===l?null:l),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 pr-4",children:o.question}),t===l?s.jsx(Xj,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}):s.jsx(wa,{className:"h-5 w-5 text-gray-500 flex-shrink-0"})]}),t===l&&s.jsx(D.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 pb-4",children:s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:o.answer})})]},l))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Tips"}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Keep your phone charged and have a power bank handy"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Always confirm the order details with the customer"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Take photos of delivered orders for your records"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsx("p",{children:"Report any issues immediately to our support team"})]})]})]})]})]})},RL=()=>{const e=ne(),[t,r]=N.useState("all"),n=[{id:1,type:"update",title:"New Feature: Real-time Navigation",content:"We've added real-time navigation to help you find delivery addresses more easily. Update your app to access this feature.",timestamp:"2 hours ago",read:!1,icon:Ot,color:"text-blue-600",bgColor:"bg-blue-50"},{id:2,type:"alert",title:"Peak Hours Bonus Active",content:"Earn extra 15 per delivery during peak hours (6-9 PM) today. Make sure to stay online!",timestamp:"4 hours ago",read:!1,icon:La,color:"text-orange-600",bgColor:"bg-orange-50"},{id:3,type:"update",title:"Weekly Performance Report",content:"Great job this week! You completed 25 deliveries with a 98% on-time rate. Keep up the excellent work!",timestamp:"1 day ago",read:!0,icon:ot,color:"text-green-600",bgColor:"bg-green-50"},{id:4,type:"alert",title:"Weather Alert",content:"Heavy rain expected in your area. Please drive safely and consider taking breaks if needed.",timestamp:"2 days ago",read:!0,icon:La,color:"text-red-600",bgColor:"bg-red-50"},{id:5,type:"update",title:"Payment Processed",content:"Your weekly earnings of 1,250 have been processed and will reflect in your account within 24 hours.",timestamp:"3 days ago",read:!0,icon:Ae,color:"text-green-600",bgColor:"bg-green-50"}],a=n.filter(l=>t==="all"?!0:l.type===t),i=n.filter(l=>!l.read).length,o=[{id:"all",label:"All Messages",count:n.length},{id:"updates",label:"Updates",count:n.filter(l=>l.type==="update").length},{id:"alerts",label:"Alerts",count:n.filter(l=>l.type==="alert").length}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Message Center"}),s.jsx("p",{className:"text-sm text-gray-600",children:i>0?`${i} unread messages`:"All caught up!"})]}),i>0&&s.jsx("div",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:i})]})}),s.jsxs("div",{className:"p-4 pb-20",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-2 mb-6",children:s.jsx("div",{className:"flex space-x-1",children:o.map(l=>s.jsxs("button",{onClick:()=>r(l.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl transition-all duration-200 ${t===l.id?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx("span",{className:"font-medium",children:l.label}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t===l.id?"bg-white/20 text-white":"bg-gray-200 text-gray-600"}`,children:l.count})]},l.id))})}),s.jsx("div",{className:"space-y-4",children:a.length===0?s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 text-center",children:[s.jsx(Ec,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Messages"}),s.jsx("p",{className:"text-gray-600",children:"You're all caught up! Check back later for updates."})]}):a.map((l,d)=>s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:`bg-white rounded-2xl shadow-lg border border-gray-100 p-6 ${l.read?"":"ring-2 ring-blue-100"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${l.bgColor} flex-shrink-0`,children:s.jsx(l.icon,{className:`h-6 w-6 ${l.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:`font-semibold text-gray-900 ${l.read?"":"font-bold"}`,children:l.title}),!l.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 leading-relaxed",children:l.content}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),s.jsx("span",{children:l.timestamp})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.type==="update"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:l.type==="update"?"Update":"Alert"})]})]})]})},l.id))}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{className:"flex flex-col items-center p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",children:[s.jsx(Ot,{className:"h-6 w-6 text-gray-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Mark All Read"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",children:[s.jsx(Ec,{className:"h-6 w-6 text-gray-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Contact Support"})]})]})]})]})]})},OL=()=>{const e=ne(),[t,r]=N.useState(!1),[n,a]=N.useState({newOrders:!0,earnings:!0,updates:!0,alerts:!0}),i=[{title:"Notifications",icon:Ot,items:[{label:"New Orders",description:"Get notified about new delivery requests",type:"toggle",value:n.newOrders,onChange:l=>a(d=>({...d,newOrders:l}))},{label:"Earnings Updates",description:"Receive updates about your earnings",type:"toggle",value:n.earnings,onChange:l=>a(d=>({...d,earnings:l}))},{label:"App Updates",description:"Get notified about app updates and new features",type:"toggle",value:n.updates,onChange:l=>a(d=>({...d,updates:l}))},{label:"Emergency Alerts",description:"Important safety and weather alerts",type:"toggle",value:n.alerts,onChange:l=>a(d=>({...d,alerts:l}))}]},{title:"Appearance",icon:t?pP:qP,items:[{label:"Dark Mode",description:"Switch between light and dark themes",type:"toggle",value:t,onChange:r}]},{title:"Location & Safety",icon:gs,items:[{label:"Location Services",description:"Allow app to access your location for deliveries",type:"navigation",action:()=>alert("Location settings coming soon")},{label:"Emergency Contacts",description:"Manage your emergency contact information",type:"navigation",action:()=>alert("Emergency contacts coming soon")},{label:"Safety Tips",description:"View safety guidelines and tips",type:"navigation",action:()=>alert("Safety tips coming soon")}]},{title:"Working Hours",icon:Ze,items:[{label:"Set Availability",description:"Configure your working hours and availability",type:"navigation",action:()=>alert("Working hours coming soon")},{label:"Auto-Offline",description:"Automatically go offline after work hours",type:"navigation",action:()=>alert("Auto-offline coming soon")}]}],o=(l,d)=>{l(!d)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Customize your app experience"})]})]})}),s.jsxs("div",{className:"p-4 pb-20",children:[i.map((l,d)=>s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-6 overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(l.icon,{className:"h-5 w-5 mr-2 text-blue-600"}),l.title]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:l.items.map((c,u)=>s.jsx("div",{className:"p-4",children:c.type==="toggle"?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:c.label}),s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),s.jsx("button",{onClick:()=>c.type==="toggle"&&"onChange"in c&&"value"in c?o(c.onChange,c.value):null,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${c.type==="toggle"&&"value"in c&&c.value?"bg-blue-500":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.type==="toggle"&&"value"in c&&c.value?"translate-x-6":"translate-x-1"}`})})]}):s.jsxs("button",{onClick:c.type==="navigation"&&"action"in c?c.action:void 0,className:"w-full flex items-center justify-between group hover:bg-gray-50 p-2 -m-2 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:c.label}),s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),s.jsx(Rr,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]})},u))})]},d)),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ao,{className:"h-5 w-5 mr-2 text-gray-600"}),"App Information"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Version"}),s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:"1.0.0"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Last Updated"}),s.jsx("span",{className:"text-gray-500",children:new Date().toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Platform"}),s.jsx("span",{className:"text-gray-500",children:"Web App"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"font-medium",children:"Storage Used"}),s.jsx("span",{className:"text-gray-500",children:"12.5 MB"})]})]})]})]})]})},ML=()=>{const e=ne(),{t}=Qa(),r=[{id:"chocolates",name:t("categories.chocolates"),image:"https://dummyimage.com/300x200/8B4513/FFFFFF&text=Chocolates",color:"bg-gradient-to-br from-amber-400 to-orange-600",description:t("categories.chocolates_desc")},{id:"ladoos",name:t("categories.ladoos"),image:"https://dummyimage.com/300x200/FFD700/000000&text=Laddus",color:"bg-gradient-to-br from-yellow-400 to-yellow-600",description:t("categories.ladoos_desc")},{id:"biscuits",name:t("categories.biscuits"),image:"https://dummyimage.com/300x200/DEB887/000000&text=Biscuits",color:"bg-gradient-to-br from-amber-300 to-amber-500",description:t("categories.biscuits_desc")},{id:"cakes",name:t("categories.cakes"),image:"https://dummyimage.com/300x200/FF69B4/FFFFFF&text=Cakes",color:"bg-gradient-to-br from-pink-400 to-pink-600",description:t("categories.cakes_desc")},{id:"hot_snacks",name:t("categories.hot_snacks"),image:"https://dummyimage.com/300x200/FF4500/FFFFFF&text=Hot+Snacks",color:"bg-gradient-to-br from-red-400 to-orange-600",description:t("categories.hot_snacks_desc")},{id:"beverages",name:t("categories.beverages"),image:"https://dummyimage.com/300x200/87CEEB/FFFFFF&text=Beverages",color:"bg-gradient-to-br from-blue-400 to-cyan-600",description:t("categories.beverages_desc")}],n=a=>{e(`/?category=${a}`)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white py-6 px-4 shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("categories.title")}),s.jsx("p",{className:"text-gray-600 mt-1",children:t("categories.subtitle")})]})})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"py-6 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map((a,i)=>s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*i},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden group",onClick:()=>n(a.id),role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),n(a.id))},children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:`absolute inset-0 ${a.color} opacity-20`}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-opacity duration-300"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:a.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-blue-600 font-semibold text-sm group-hover:text-blue-700",children:"Shop Now"}),s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]},a.id))})})})]})},Iy=()=>{const e=ne(),t=E1(),{user:r,isAuthenticated:n}=de(u=>u.auth),{data:a}=Un(void 0,{skip:!n}),{t:i}=Qa(),[o,l]=N.useState(null),d=u=>{switch(l(u),u){case i("account.profile"):e("/account/profile/edit");break;case i("account.orders"):e("/orders");break;case i("account.settings"):e("/account/settings");break;case i("account.notifications"):e("/account/notifications");break;case i("account.language"):e("/account/settings");break;case i("account.help"):e("/help-support");break;case i("account.logout"):t();break;default:console.log(`Unknown option: ${u}`)}},c=[{icon:Be,label:i("account.profile"),description:i("account.profile.description"),action:"edit"},{icon:Ws,label:i("account.orders"),description:i("account.orders.description"),action:"navigate"},{icon:Ao,label:i("account.settings"),description:i("account.settings.description"),action:"settings"},{icon:Ot,label:i("account.notifications"),description:i("account.notifications.description"),action:"notifications"},{icon:ap,label:i("account.language"),description:i("account.language.description"),action:"language"},{icon:pr,label:i("account.help"),description:i("account.help.description"),action:"help"},...n?[{icon:op,label:i("account.logout"),description:i("account.logout.description"),action:"logout",className:"text-red-600 hover:text-red-700"}]:[]];return n?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white py-6 px-4 shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i("account.title")}),s.jsx("p",{className:"text-gray-600 mt-2",children:n&&a?`Welcome back, ${a.name}!`:i("account.welcome")})]})}),n&&r&&s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome, ",(a==null?void 0:a.name)||(r==null?void 0:r.email)||"User","!"]}),s.jsx("p",{className:"text-lg text-gray-600",children:"Manage your account settings and preferences"})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"py-6 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"space-y-4",children:c.map((u,h)=>s.jsx(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*h},className:`bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer ${o===u.label?"ring-2 ring-blue-500 bg-blue-50":""} ${u.className||""}`,onClick:()=>d(u.label),role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),d(u.label))},children:s.jsxs("div",{className:"flex items-center space-x-4",children:[u.label!=="Logout"&&s.jsx("div",{className:`p-2 rounded-lg ${o===u.label?"bg-blue-200":"bg-blue-100"}`,children:s.jsx(u.icon,{className:`h-6 w-6 ${o===u.label?"text-blue-700":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-semibold ${u.label==="Logout"?"text-red-600":"text-gray-900"}`,children:u.label}),s.jsx("p",{className:"text-gray-600 text-sm",children:u.description})]})]})},u.label))})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be logged in to access this page. The OTP login modal should appear automatically."}),s.jsx("p",{className:"text-sm text-gray-500",children:"If the modal doesn't appear, please refresh the page or check the console for errors."})]})})},LL=()=>{const e=ft(),t=ne(),{isAuthenticated:r}=de(v=>v.auth),{data:n,refetch:a}=Un(void 0,{skip:!r}),[i,{isLoading:o}]=HC(),{t:l}=Qa(),[d,c]=N.useState({name:"",email:"",phone:""}),[u,h]=N.useState("");N.useEffect(()=>{n&&c({name:n.name||"",email:n.email||"",phone:n.phone||""})},[n]),N.useEffect(()=>{r||t("/account")},[r,t]);const m=(v,j)=>{c(w=>({...w,[v]:j})),v==="phone"&&h("")},f=async()=>{var v;if(!d.name.trim()){_e.error("Name is required");return}if(!d.email.trim()){_e.error("Email is required");return}if(d.phone){if(!/^\+?[1-9]\d{1,14}$|^[6-9]\d{9}$/.test(d.phone.replace(/\s/g,""))){h("Invalid phone number format");return}}else h("");try{const j=await i(d).unwrap();j.user&&e(Bn(j.user)),await a(),_e.success("Profile updated successfully!"),t("/account")}catch(j){console.error("Failed to update profile:",j),_e.error(((v=j==null?void 0:j.data)==null?void 0:v.error)||"Failed to update profile. Please try again.")}},p=()=>{t("/account")};return r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(D.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white py-4 px-4 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Go back",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Edit Personal Information"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Update your profile details"})]})]})})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"py-6 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:l("profile.name")})]})}),s.jsx("input",{type:"text",value:d.name,onChange:v=>m("name",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:l("profile.email")})]})}),s.jsx("input",{type:"email",value:d.email,onChange:v=>m("email",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your email address",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:l("profile.phone")})]})}),s.jsx("input",{type:"tel",value:d.phone,onChange:v=>m("phone",v.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all ${u?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"Enter your phone number"}),u&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-8",children:[s.jsx(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:o,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Saving..."})]}):l("profile.save")}),s.jsx(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,disabled:o,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:l("profile.cancel")})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Your profile information helps us provide better service. Make sure your email and phone number are accurate for order updates and delivery notifications."]})})]})})})]}):null},_L=({onClose:e})=>{const{data:t,isLoading:r}=s6(void 0),[n]=r6(),[a]=a6(),[i]=n6(),o=(t==null?void 0:t.notifications)||[],l=o.some(f=>!f.isRead),d=async f=>{try{await n(f).unwrap()}catch(p){console.error("Failed to mark as read:",p)}},c=async f=>{try{await a(f).unwrap()}catch(p){console.error("Failed to delete notification:",p)}},u=async()=>{try{await i(void 0).unwrap()}catch(f){console.error("Failed to mark all as read:",f)}},h=f=>{const p=new Date(f),j=new Date().getTime()-p.getTime(),w=Math.floor(j/6e4),y=Math.floor(w/60),b=Math.floor(y/24);return w<1?"Just now":w<60?`${w}m ago`:y<24?`${y}h ago`:b<7?`${b}d ago`:p.toLocaleDateString()},m=f=>{switch(f){case"delivery_otp":return"";case"order_update":return"";default:return""}};return s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:s.jsxs(D.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ot,{className:"h-6 w-6 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),o.length>0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:o.length})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",children:s.jsx(gt,{className:"h-5 w-5"})})]}),l&&s.jsx("div",{className:"mb-4",children:s.jsxs("button",{onClick:u,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[s.jsx(Ss,{className:"h-4 w-4"}),s.jsx("span",{children:"Mark all as read"})]})}),s.jsx("div",{className:"space-y-3",children:r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading notifications..."})]}):o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ot,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No notifications yet"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"We'll notify you when there's something new"})]}):o.map(f=>s.jsx(D.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg border transition-all ${f.isRead?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"text-2xl flex-shrink-0",children:m(f.type)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:f.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:h(f.createdAt)})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[!f.isRead&&s.jsx("button",{onClick:()=>d(f._id),className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-blue-600",title:"Mark as read",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c(f._id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-red-600",title:"Delete",children:s.jsx(hp,{className:"h-4 w-4"})})]})]})})]})},f._id))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsx("button",{onClick:e,className:"w-full bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Close"})})]})})},DL=()=>{const e=ne(),{isAuthenticated:t}=de(i=>i.auth),[r,n]=N.useState(!0);if(!t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your notifications."})]}),s.jsx("a",{href:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Go to Login"})]})});const a=()=>{n(!1),e("/account")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(D.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white py-4 px-4 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/account"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Go back to account",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage your notifications and preferences"})]})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Notification Center"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Stay updated with the latest information about your orders, offers, and account activities."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Recent Notifications"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Your recent notifications will appear here. Click anywhere to view and manage all notifications."})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notification Preferences"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Customize how you receive notifications for orders, promotions, and account updates."})]})]})]})}),r&&s.jsx(_L,{onClose:a})]})},IL=()=>{const e=ts(),t=ne(),r=ft(),{success:n,error:a}=Ts(),i=MR();return N.useEffect(()=>{const o=new URLSearchParams(e.search),l=o.get("token"),d=o.get("refreshToken"),c=o.get("userId"),u=o.get("email"),h=o.get("role"),m=o.get("isAdmin")==="true",f=o.get("isProfileComplete")==="true",p=o.get("error");if(p){a("Authentication Failed",`Error: ${p}`),t("/login");return}l&&d&&c?(console.log(" OAUTH CALLBACK: Aggressive cleanup BEFORE new login..."),i(),setTimeout(()=>{console.log(" OAUTH CALLBACK: Setting new user auth after cleanup..."),r(Bn({id:c,email:u||"",role:h||"customer",isAdmin:m,isProfileComplete:f})),r(Co({accessToken:l,refreshToken:d})),n("Login Successful","You have been logged in via Google."),setTimeout(()=>{if(m||h==="admin"){window.location.href="/admin";return}if(!f){window.location.href="/onboarding/complete-profile";return}window.location.href="/dashboard"},150)},100)):(a("Authentication Failed","Missing authentication tokens or user data."),t("/login"))},[e.search,t,r]),s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Processing Login..."}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we log you in."})]})})},$L=()=>{const{showOtpModal:e,isOtpModalOpen:t}=Dd(),[r,n]=N.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:[s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test OTP Modal"}),s.jsx("p",{className:"mb-4",children:"Test the OTP modal in different ways:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>e("/account/profile"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 block",children:"Show OTP Modal (via Context)"}),s.jsx("button",{onClick:()=>n(!0),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 block",children:"Show OTP Modal (Direct)"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Modal state: ",t?"Open":"Closed"]})]})]}),s.jsx(nw,{isOpen:r,onClose:()=>n(!1),redirectTo:"/account/profile"})]})},FL=()=>{const e=de(d=>d.auth),{isOtpModalOpen:t,showOtpModal:r}=Dd(),[n,a]=N.useState([]),i=d=>{a(c=>[...c,`${new Date().toLocaleTimeString()}: ${d}`])};N.useEffect(()=>{i("DebugPage mounted"),i(`Auth state: isAuthenticated=${e.isAuthenticated}`),i(`User: ${e.user?JSON.stringify(e.user):"null"}`),i(`OTP Modal Open: ${t}`)},[e.isAuthenticated,e.user,t]);const o=()=>{i("Testing OTP modal..."),r("/account/profile")},l=()=>{i("Clearing auth..."),localStorage.removeItem("auth"),window.location.reload()};return s.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Debug Page"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication State"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"isAuthenticated:"})," ",e.isAuthenticated?"true":"false"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"User:"})," ",e.user?JSON.stringify(e.user,null,2):"null"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tokens:"})," ",e.tokens?"present":"null"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"OTP Modal Open:"})," ",t?"true":"false"]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Test OTP Modal"}),s.jsx("button",{onClick:l,className:"w-full bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Clear Auth & Reload"}),s.jsx("button",{onClick:()=>window.location.href="/account/profile",className:"w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Go to Account Profile"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Logs"}),s.jsx("div",{className:"bg-gray-100 p-4 rounded max-h-64 overflow-y-auto",children:n.map((d,c)=>s.jsx("div",{className:"text-sm font-mono text-gray-700",children:d},c))})]})]})})},BL=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(""),d=async c=>{if(c.preventDefault(),l(""),n(!0),!e||!/\S+@\S+\.\S+/.test(e)){l("Please enter a valid email address."),n(!1);return}try{await new Promise(u=>setTimeout(u,1500)),console.log(`Subscribed email: ${e}`),i(!0),t("")}catch(u){l("Failed to subscribe. Please try again."),console.error("Subscription error:",u)}finally{n(!1)}};return s.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full"}),s.jsx("div",{className:"absolute top-32 right-16 w-24 h-24 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-16 h-16 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-32 right-10 w-20 h-20 bg-white rounded-full"})]}),s.jsxs("div",{className:"relative z-10 w-full",children:[s.jsxs(D.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex justify-between items-center mb-12 px-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"CS Store"}),s.jsxs(ce,{to:"/",className:"flex items-center text-white hover:text-blue-200 transition-colors",children:[s.jsx(ip,{className:"h-5 w-5 mr-2"}),"Back to Home"]})]}),s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs("div",{className:"text-center",children:[s.jsxs(D.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[s.jsx("h2",{className:"text-5xl md:text-6xl font-extrabold mb-4 leading-tight",children:"Become a Seller"}),s.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8",children:"Launch your store with us. Get ready for a seamless selling experience!"}),s.jsxs(D.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6,type:"spring",stiffness:100},className:"inline-flex items-center bg-yellow-400 text-blue-900 px-6 py-2 rounded-full text-lg font-semibold shadow-lg animate-pulse",children:[s.jsx(Zx,{className:"h-6 w-6 mr-2"}),"Coming Soon!"]}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(D.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.8},className:"bg-white bg-opacity-10 p-6 rounded-lg shadow-md backdrop-blur-sm",children:[s.jsx(hm,{className:"h-10 w-10 text-yellow-400 mb-4 mx-auto"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Easy Setup"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Quickly set up your store with our intuitive onboarding process."})]}),s.jsxs(D.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"bg-white bg-opacity-10 p-6 rounded-lg shadow-md backdrop-blur-sm",children:[s.jsx(w3,{className:"h-10 w-10 text-yellow-400 mb-4 mx-auto"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Manage Products"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Effortlessly add, update, and track your product listings."})]}),s.jsxs(D.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:1.2},className:"bg-white bg-opacity-10 p-6 rounded-lg shadow-md backdrop-blur-sm",children:[s.jsx(Zx,{className:"h-10 w-10 text-yellow-400 mb-4 mx-auto"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Real-time Updates"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Stay informed with live sales data and inventory alerts."})]})]}),s.jsxs(D.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.4},className:"mt-16 bg-white bg-opacity-10 p-8 rounded-lg shadow-xl max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Join Our Waitlist"}),s.jsx("p",{className:"text-blue-100 mb-6",children:"Be the first to know when we launch!"}),a?s.jsxs(D.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center text-green-300 font-semibold",children:[s.jsx("p",{children:" Thanks for your interest!"}),s.jsx("p",{children:"We'll notify you when we launch."})]}):s.jsxs("form",{onSubmit:d,className:"flex flex-col space-y-4",children:[s.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:c=>t(c.target.value),className:"w-full p-3 rounded-lg bg-white bg-opacity-20 border border-blue-300 placeholder-blue-100 text-white focus:outline-none focus:ring-2 focus:ring-blue-300",disabled:r}),o&&s.jsx("p",{className:"text-red-300 text-sm",children:o}),s.jsx("button",{type:"submit",className:"w-full bg-yellow-400 text-blue-900 font-bold py-3 rounded-lg hover:bg-yellow-300 transition-colors flex items-center justify-center",disabled:r,children:r?s.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-900 mr-3",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Notify Me!"})]})]})]}),s.jsxs(D.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.6},className:"mt-20 text-sm text-blue-200",children:[s.jsxs("p",{children:[" ",new Date().getFullYear()," CS Store. All rights reserved."]}),s.jsxs("p",{className:"mt-2",children:["For seller inquiries, please contact"," ",s.jsx("a",{href:"mailto:sellers@csstore.com",className:"underline hover:text-white",children:"sellers@csstore.com"})]})]})]})})]})]})},UL=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ce,{to:"/",className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CS Store"}),s.jsx("div",{className:"w-24"})," "]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-16",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[s.jsxs(D.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center space-x-2 bg-orange-100 text-orange-800 px-4 py-2 rounded-full text-sm font-semibold mb-8",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx("span",{children:"Coming Soon"})]}),s.jsxs(D.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Download Our",s.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Mobile App"})]}),s.jsx(D.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Get ready for an amazing mobile shopping experience! Our app is currently in development and will be available soon with exclusive features."}),s.jsxs(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"flex items-center justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Android App"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Download from Google Play Store with exclusive Android features and optimizations."}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Available Soon"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"flex items-center justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"iOS App"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Download from App Store with seamless iOS integration and native performance."}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Available Soon"})})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white rounded-2xl p-8 shadow-lg mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"App Features Preview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(dp,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Mobile Optimized"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Designed specifically for mobile devices with touch-friendly interface"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(np,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Offline Access"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Browse products and manage cart even without internet connection"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"h-6 w-6 text-purple-600"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get instant updates on orders, deals, and new products"})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Be the First to Know!"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Get notified when our mobile app is ready for download."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center max-w-md mx-auto",children:[s.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),s.jsx("button",{className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Notify Me"})]})]}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mt-12",children:s.jsxs(ce,{to:"/",className:"inline-flex items-center space-x-2 bg-white text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(Ne,{className:"h-5 w-5"}),s.jsx("span",{children:"Continue Shopping on Web"})]})})]})})]}),zL=()=>{const{q:e}=No(),t=ne(),[r,n]=N.useState("relevance"),[a,i]=N.useState("desc"),[o,l]=N.useState(1),d=de(x=>x.auth),{data:c,isLoading:u,error:h}=YC({q:e,page:o,limit:12}),m=(c==null?void 0:c.products)||[],f=(c==null?void 0:c.total)||0,p=c?Math.ceil(f/12):0,v=x=>{t(`/product/${x._id||x.id}`)},j=(x,g)=>{if(g.stopPropagation(),!d.isAuthenticated){t("/login");return}console.log("Add to cart:",x.name)},w=x=>{n(x),l(1)},y=x=>{i(x),l(1)},b=x=>{l(x),window.scrollTo(0,0)};return u?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Searching products..."})]})}):h?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600",children:"Error loading search results. Please try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg bg-white shadow hover:shadow-md transition-shadow",children:s.jsx(Ne,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:['Search Results for "',e,'"']}),s.jsxs("p",{className:"text-gray-600",children:[f," products found"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:r,onChange:x=>w(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"price",children:"Price"}),s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"sales",children:"Sales"})]}),s.jsxs("select",{value:a,onChange:x=>y(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"desc",children:"Descending"}),s.jsx("option",{value:"asc",children:"Ascending"})]})]})]}),m.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("p",{className:"text-gray-600 text-lg",children:['No products found for "',e,'"']}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Try searching with different keywords"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((x,g)=>{var S;return s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:g*.1},className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>v(x),children:[s.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg",children:s.jsx(en,{image:((S=x.images)==null?void 0:S[0])||{variants:{micro:"/placeholder-product.svg",thumb:"/placeholder-product.svg",small:"/placeholder-product.svg",medium:"/placeholder-product.svg",large:"/placeholder-product.svg",original:"/placeholder-product.svg"}},size:"small",alt:x.name,className:"w-full h-48",productId:x._id||x.id,debug:!1})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:x.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.category}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",x.price]}),x.mrp&&x.mrp>x.price&&s.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["",x.mrp]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ot,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm text-gray-600",children:x.rating||"4.0"})]})]}),s.jsx("button",{onClick:P=>j(x,P),className:"mt-3 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add to Cart"})]})]},x._id||x.id)})}),p>1&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[s.jsx("button",{onClick:()=>b(o-1),disabled:o===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,p)},(x,g)=>{const S=g+1,P=S===o;return s.jsx("button",{onClick:()=>b(S),className:`px-3 py-2 rounded-lg ${P?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:S},S)}),s.jsx("button",{onClick:()=>b(o+1),disabled:o===p,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})})},VL=()=>{const e=ne();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contact Us"}),s.jsx("div",{})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get in Touch with CS Store"}),s.jsx("p",{className:"text-lg text-gray-600",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"w-6 h-6 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-gray-600",children:"support@csstore.com"}),s.jsx("p",{className:"text-gray-600",children:"info@csstore.com"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ht,{className:"w-6 h-6 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Phone"}),s.jsx("p",{className:"text-gray-600",children:"+91 98765 43210"}),s.jsx("p",{className:"text-gray-600",children:"+91 98765 43211"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ct,{className:"w-6 h-6 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Address"}),s.jsxs("p",{className:"text-gray-600",children:["CS Store Headquarters",s.jsx("br",{}),"123 Business Park, Sector 5",s.jsx("br",{}),"New Delhi, 110001, India"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ze,{className:"w-6 h-6 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Business Hours"}),s.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),s.jsx("p",{className:"text-gray-600",children:"Saturday: 10:00 AM - 4:00 PM"}),s.jsx("p",{className:"text-gray-600",children:"Sunday: Closed"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Send us a Message"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter subject"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your message"})]}),s.jsx("button",{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200",children:"Send Message"})]})]})]}),s.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Support"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:s.jsx(Wt,{className:"w-8 h-8 text-orange-500"})}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Email Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get help via email within 24 hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:s.jsx(ht,{className:"w-8 h-8 text-orange-500"})}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Phone Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Call us during business hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3",children:s.jsx(Ze,{className:"w-8 h-8 text-orange-500"})}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Live Chat"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Chat with us in real-time"})]})]})]})]})})]})},qL=()=>{const e=ne();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"About Us"}),s.jsx("div",{})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"About CS Store"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We are India's leading e-commerce platform, dedicated to bringing you the best products at unbeatable prices with exceptional customer service."})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),s.jsxs("div",{className:"prose prose-lg max-w-none",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Founded in 2020, CS Store began as a small startup with a big dream: to make quality products accessible to everyone across India. What started as a simple online marketplace has grown into one of the country's most trusted e-commerce platforms."}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Our journey has been marked by innovation, customer-centricity, and an unwavering commitment to excellence. We believe that shopping should be simple, enjoyable, and accessible to everyone, regardless of their location or budget."}),s.jsx("p",{className:"text-gray-600",children:"Today, we serve millions of customers across India, offering everything from electronics and fashion to home goods and groceries, all delivered with the same care and attention that has defined us from day one."})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[s.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(mm,{className:"w-8 h-8 text-orange-500 mr-3"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Our Mission"})]}),s.jsx("p",{className:"text-gray-600",children:"To democratize commerce by making quality products accessible to every Indian, while fostering a sustainable and inclusive marketplace that benefits customers, sellers, and communities alike."})]}),s.jsxs(D.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ac,{className:"w-8 h-8 text-orange-500 mr-3"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Our Vision"})]}),s.jsx("p",{className:"text-gray-600",children:"To become India's most trusted and innovative e-commerce platform, setting new standards for customer experience, technological advancement, and social impact in the digital commerce space."})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(sw,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Customer First"}),s.jsx("p",{className:"text-gray-600",children:"Every decision we make is guided by what's best for our customers. Their satisfaction is our greatest reward."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Zt,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Inclusivity"}),s.jsx("p",{className:"text-gray-600",children:"We believe in creating an inclusive platform where everyone feels welcome and valued, regardless of background or circumstances."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(ap,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Innovation"}),s.jsx("p",{className:"text-gray-600",children:"We continuously innovate to improve our platform, making shopping more convenient, efficient, and enjoyable for everyone."})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg p-8 text-white",children:[s.jsx("h3",{className:"text-3xl font-bold mb-8 text-center",children:"CS Store by the Numbers"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"10M+"}),s.jsx("div",{className:"text-orange-100",children:"Happy Customers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"50K+"}),s.jsx("div",{className:"text-orange-100",children:"Products"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"500+"}),s.jsx("div",{className:"text-orange-100",children:"Cities Served"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:"99.9%"}),s.jsx("div",{className:"text-orange-100",children:"Uptime"})]})]})]})]})]})},HL=()=>{const e=ne(),[t,r]=N.useState("all"),n=[{id:"all",name:"All Departments"},{id:"engineering",name:"Engineering"},{id:"marketing",name:"Marketing"},{id:"sales",name:"Sales"},{id:"operations",name:"Operations"},{id:"design",name:"Design"}],a=[{id:1,title:"Senior Software Engineer",department:"engineering",location:"New Delhi",type:"Full-time",experience:"3-5 years",description:"We're looking for a passionate Senior Software Engineer to join our team and help build scalable e-commerce solutions.",requirements:["Bachelor's degree in Computer Science or related field","3+ years of experience with React, Node.js, and TypeScript","Experience with cloud platforms (AWS, Azure, or GCP)","Strong problem-solving and communication skills"]},{id:2,title:"Product Manager",department:"engineering",location:"Mumbai",type:"Full-time",experience:"4-6 years",description:"Lead product strategy and execution for our core e-commerce platform features.",requirements:["MBA or Bachelor's degree in related field","4+ years of product management experience","Experience in e-commerce or consumer tech","Strong analytical and leadership skills"]},{id:3,title:"Digital Marketing Specialist",department:"marketing",location:"Bangalore",type:"Full-time",experience:"2-4 years",description:"Drive our digital marketing initiatives and help grow our customer base.",requirements:["Bachelor's degree in Marketing or related field","2+ years of digital marketing experience","Proficiency in Google Ads, Facebook Ads, and SEO","Strong analytical and creative thinking skills"]},{id:4,title:"UX/UI Designer",department:"design",location:"Hyderabad",type:"Full-time",experience:"2-4 years",description:"Create intuitive and beautiful user experiences for our e-commerce platform.",requirements:["Bachelor's degree in Design or related field","2+ years of UX/UI design experience","Proficiency in Figma, Sketch, or Adobe Creative Suite","Portfolio demonstrating strong design skills"]},{id:5,title:"Customer Success Manager",department:"operations",location:"Chennai",type:"Full-time",experience:"3-5 years",description:"Ensure our customers have the best possible experience with our platform.",requirements:["Bachelor's degree in Business or related field","3+ years of customer success experience","Excellent communication and problem-solving skills","Experience with CRM tools"]},{id:6,title:"Sales Executive",department:"sales",location:"Pune",type:"Full-time",experience:"1-3 years",description:"Drive sales growth by building relationships with merchants and partners.",requirements:["Bachelor's degree in Business or related field","1+ years of sales experience","Strong communication and negotiation skills","Self-motivated and results-oriented"]}],i=t==="all"?a:a.filter(o=>o.department===t);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Careers"}),s.jsx("div",{})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Join Our Team"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Be part of India's fastest-growing e-commerce platform. We're looking for talented, passionate individuals to help us build the future of online shopping."})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Why Work With Us?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Zt,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Great Culture"}),s.jsx("p",{className:"text-gray-600",children:"Work in a collaborative, inclusive environment where your ideas matter and your voice is heard."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(G3,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Learning & Growth"}),s.jsx("p",{className:"text-gray-600",children:"Continuous learning opportunities, mentorship programs, and career development support."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Yx,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Impact"}),s.jsx("p",{className:"text-gray-600",children:"Make a real difference in millions of lives by building products that matter."})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg p-8 mb-8 text-white",children:[s.jsx("h3",{className:"text-3xl font-bold mb-8 text-center",children:"Benefits & Perks"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Compensation & Benefits"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Competitive salary and equity"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Health insurance for you and your family"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Flexible work arrangements"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Generous paid time off"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Work Environment"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Modern office spaces"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Free meals and snacks"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Team building activities"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-3"}),"Professional development budget"]})]})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:"Open Positions"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(o=>s.jsx("button",{onClick:()=>r(o.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===o.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o.name},o.id))})]}),s.jsx("div",{className:"space-y-6",children:i.map(o=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:o.title}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ct,{className:"w-4 h-4 mr-1"}),o.location]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ze,{className:"w-4 h-4 mr-1"}),o.type]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Yx,{className:"w-4 h-4 mr-1"}),o.experience]})]})]}),s.jsx("button",{className:"mt-4 md:mt-0 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Apply Now"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:o.description}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Requirements:"}),s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:o.requirements.map((l,d)=>s.jsx("li",{children:l},d))})]})]},o.id))}),i.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No positions found in this department."})})]})]})]})},WL=()=>{const e=ne(),t=[{id:1,title:"How CS Store Revolutionized E-commerce in Rural India",excerpt:"Discover how we brought online shopping to remote villages, empowering local businesses and connecting communities.",author:"Priya Sharma",date:"2024-01-15",category:"Impact",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",readTime:"5 min read"},{id:2,title:"The Journey of a Small Business Owner on CS Store",excerpt:"Meet Rajesh Kumar, who grew his handicraft business from 0 to 10,000 orders using our platform.",author:"Amit Patel",date:"2024-01-10",category:"Success Stories",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=400&fit=crop",readTime:"7 min read"},{id:3,title:"Building Sustainable E-commerce: Our Green Initiative",excerpt:"Learn about our commitment to environmental responsibility and how we're making e-commerce more sustainable.",author:"Sarah Johnson",date:"2024-01-05",category:"Sustainability",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&h=400&fit=crop",readTime:"6 min read"},{id:4,title:"Technology Behind CS Store: Innovation at Scale",excerpt:"An inside look at the cutting-edge technology that powers our platform and handles millions of transactions.",author:"Dr. Vikram Singh",date:"2023-12-28",category:"Technology",image:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=400&fit=crop",readTime:"8 min read"},{id:5,title:"Customer First: Stories of Exceptional Service",excerpt:"Heartwarming stories of how our customer service team goes above and beyond to help our customers.",author:"Meera Reddy",date:"2023-12-20",category:"Customer Service",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",readTime:"4 min read"},{id:6,title:"The Future of E-commerce: Our Vision for 2024",excerpt:"A look ahead at the exciting innovations and features we're planning to launch this year.",author:"CEO Team",date:"2023-12-15",category:"Company News",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",readTime:"9 min read"}],r=["All","Impact","Success Stories","Sustainability","Technology","Customer Service","Company News"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CS Store Stories"}),s.jsx("div",{})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"CS Store Stories"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the inspiring stories behind CS Store - from our journey to the impact we're making in communities across India."})]}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center gap-4 mb-12",children:r.map(n=>s.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 rounded-full hover:bg-orange-500 hover:text-white hover:border-orange-500 transition-colors duration-200",children:n},n))}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-lg shadow-lg overflow-hidden mb-12",children:s.jsxs("div",{className:"md:flex",children:[s.jsx("div",{className:"md:w-1/2",children:s.jsx("img",{src:t[0].image,alt:t[0].title,className:"w-full h-64 md:h-full object-cover"})}),s.jsxs("div",{className:"md:w-1/2 p-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xx,{className:"w-4 h-4 text-orange-500 mr-2"}),s.jsx("span",{className:"text-orange-500 font-medium",children:t[0].category})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t[0].title}),s.jsx("p",{className:"text-gray-600 mb-6",children:t[0].excerpt}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Be,{className:"w-4 h-4 mr-1"}),t[0].author]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Mn,{className:"w-4 h-4 mr-1"}),new Date(t[0].date).toLocaleDateString()]}),s.jsx("span",{children:t[0].readTime})]}),s.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Read More"})]})]})]})}),s.jsx(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.slice(1).map((n,a)=>s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5+a*.1},className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Xx,{className:"w-4 h-4 text-orange-500 mr-2"}),s.jsx("span",{className:"text-orange-500 font-medium text-sm",children:n.category})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:n.title}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:n.excerpt}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Be,{className:"w-4 h-4 mr-1"}),n.author]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Mn,{className:"w-4 h-4 mr-1"}),new Date(n.date).toLocaleDateString()]})]}),s.jsx("span",{className:"text-sm text-gray-500",children:n.readTime})]}),s.jsx("button",{className:"w-full mt-4 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition-colors",children:"Read Story"})]})]},n.id))}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg p-8 mt-12 text-white text-center",children:[s.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Stay Updated with Our Stories"}),s.jsx("p",{className:"text-xl mb-6 text-orange-100",children:"Get the latest CS Store stories delivered to your inbox"}),s.jsxs("div",{className:"max-w-md mx-auto flex gap-4",children:[s.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white"}),s.jsx("button",{className:"bg-white text-orange-500 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Subscribe"})]})]})]})]})},KL=()=>{const e=ne(),t=[{name:"Rajesh Kumar",position:"Chief Executive Officer",bio:"15+ years of experience in e-commerce and technology leadership.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face"},{name:"Priya Sharma",position:"Chief Technology Officer",bio:"Expert in scalable systems and digital transformation.",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=300&fit=crop&crop=face"},{name:"Amit Patel",position:"Chief Operating Officer",bio:"Operations specialist with focus on customer experience.",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face"},{name:"Sarah Johnson",position:"Chief Financial Officer",bio:"Financial strategy and growth management expert.",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=300&fit=crop&crop=face"}],r=[{title:"Annual Report 2023",description:"Complete financial and operational overview for fiscal year 2023",type:"PDF",size:"2.4 MB",date:"2024-01-15"},{title:"Sustainability Report",description:"Our environmental and social impact initiatives",type:"PDF",size:"1.8 MB",date:"2023-12-20"},{title:"Corporate Governance Guidelines",description:"Framework for ethical business practices and transparency",type:"PDF",size:"1.2 MB",date:"2023-11-10"},{title:"Privacy Policy",description:"How we collect, use, and protect customer data",type:"PDF",size:"0.8 MB",date:"2023-10-05"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ne,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Corporate Information"}),s.jsx("div",{})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Corporate Information"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Learn about CS Store's corporate structure, leadership team, and commitment to transparency and ethical business practices."})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Company Overview"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About CS Store"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"CS Store is India's leading e-commerce platform, founded in 2020 with a mission to democratize commerce and make quality products accessible to every Indian. We operate as a technology-driven marketplace connecting millions of customers with thousands of sellers across the country."}),s.jsx("p",{className:"text-gray-600",children:"Our platform offers a wide range of products including electronics, fashion, home goods, groceries, and more, all delivered with exceptional customer service and competitive pricing."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Key Facts"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(g3,{className:"w-5 h-5 text-orange-500 mr-3"}),s.jsx("span",{className:"text-gray-600",children:"Founded: 2020"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zt,{className:"w-5 h-5 text-orange-500 mr-3"}),s.jsx("span",{className:"text-gray-600",children:"Employees: 5,000+"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ap,{className:"w-5 h-5 text-orange-500 mr-3"}),s.jsx("span",{className:"text-gray-600",children:"Cities Served: 500+"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ac,{className:"w-5 h-5 text-orange-500 mr-3"}),s.jsx("span",{className:"text-gray-600",children:"Customers: 10M+"})]})]})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Leadership Team"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:n.image,alt:n.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.name}),s.jsx("p",{className:"text-orange-500 font-medium mb-2",children:n.position}),s.jsx("p",{className:"text-sm text-gray-600",children:n.bio})]},a))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(gs,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Integrity"}),s.jsx("p",{className:"text-gray-600",children:"We conduct business with the highest ethical standards and transparency in all our operations."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Zt,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Customer Focus"}),s.jsx("p",{className:"text-gray-600",children:"Every decision we make is guided by what's best for our customers and their experience."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ac,{className:"w-10 h-10 text-orange-500"})}),s.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Excellence"}),s.jsx("p",{className:"text-gray-600",children:"We strive for excellence in everything we do, continuously improving and innovating."})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Corporate Documents"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.map((n,a)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ew,{className:"w-8 h-8 text-orange-500 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:n.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]})]}),s.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded text-xs font-medium",children:n.type})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{children:n.size}),s.jsx("span",{children:new Date(n.date).toLocaleDateString()})]}),s.jsx("button",{className:"w-full mt-4 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition-colors",children:"Download"})]},a))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg p-8 text-white",children:[s.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Corporate Contact"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Headquarters"}),s.jsx("p",{className:"mb-2",children:"CS Store Private Limited"}),s.jsx("p",{className:"mb-2",children:"123 Business Park, Sector 5"}),s.jsx("p",{className:"mb-2",children:"New Delhi, 110001, India"}),s.jsx("p",{className:"mb-4",children:"Phone: +91 11 1234 5678"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Investor Relations"}),s.jsx("p",{className:"mb-2",children:"Email: investors@csstore.com"}),s.jsx("p",{className:"mb-2",children:"Phone: +91 11 1234 5679"}),s.jsx("p",{className:"mb-4",children:"Website: investors.csstore.com"})]})]})]})]})]})},QL=()=>{const[e,t]=N.useState("contact"),[r,n]=N.useState({name:"",email:"",phone:"",subject:"",message:"",category:"general"}),a=c=>{n({...r,[c.target.name]:c.target.value})},i=c=>{c.preventDefault(),console.log("Form submitted:",r),alert("Thank you for contacting us! We'll get back to you within 24 hours.")},o=[{icon:ht,title:"Phone Support",description:"Speak directly with our support team",contact:"+1 (555) 123-4567",availability:"24/7 Available",color:"bg-blue-500"},{icon:Wt,title:"Email Support",description:"Send us your queries via email",contact:"support@csstore.com",availability:"Response within 2 hours",color:"bg-green-500"},{icon:lp,title:"Live Chat",description:"Chat with us in real-time",contact:"Start Chat",availability:"9 AM - 9 PM (Mon-Sat)",color:"bg-purple-500"}],l=[{question:"How can I track my order?",answer:"You can track your order by logging into your account and going to 'My Orders' section. You'll receive tracking updates via SMS and email."},{question:"What is your return policy?",answer:"We offer a 30-day return policy for most items. Items must be in original condition with tags attached. Some items like food products have different return policies."},{question:"How long does delivery take?",answer:"Standard delivery takes 2-5 business days. Express delivery is available for 1-2 business days. Delivery times may vary based on location and product availability."},{question:"Do you offer international shipping?",answer:"Currently, we only ship within India. We're working on expanding our international shipping options in the near future."},{question:"How can I cancel my order?",answer:"You can cancel your order within 1 hour of placing it through your account or by contacting our customer support team."},{question:"What payment methods do you accept?",answer:"We accept all major credit/debit cards, UPI, net banking, and cash on delivery for eligible orders."}],d=[{icon:Vr,title:"Order & Delivery",description:"Track orders, delivery issues, returns",color:"text-blue-600"},{icon:Ws,title:"Payment & Billing",description:"Payment issues, refunds, billing",color:"text-green-600"},{icon:cp,title:"Returns & Exchanges",description:"Return products, exchange items",color:"text-orange-600"},{icon:mo,title:"Account & Rewards",description:"Account issues, loyalty points",color:"text-purple-600"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white py-16",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Customer Care"}),s.jsx("p",{className:"text-xl md:text-2xl text-orange-100 mb-8",children:"We're here to help you 24/7"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5"}),s.jsx("span",{children:"24/7 Support"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5"}),s.jsx("span",{children:"Quick Response"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5"}),s.jsx("span",{children:"Expert Help"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Get in Touch"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((c,u)=>s.jsxs(D.div,{whileHover:{scale:1.05,y:-5},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:`w-16 h-16 ${c.color} rounded-full flex items-center justify-center mx-auto mb-6`,children:s.jsx(c.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:c.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:c.description}),s.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:c.contact}),s.jsx("p",{className:"text-sm text-gray-500",children:c.availability})]},u))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:[s.jsxs("div",{className:"flex flex-wrap justify-center mb-8",children:[s.jsx("button",{onClick:()=>t("contact"),className:`px-6 py-3 rounded-lg font-medium transition-colors duration-300 ${e==="contact"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Contact Form"}),s.jsx("button",{onClick:()=>t("faq"),className:`px-6 py-3 rounded-lg font-medium transition-colors duration-300 ${e==="faq"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"FAQ"}),s.jsx("button",{onClick:()=>t("support"),className:`px-6 py-3 rounded-lg font-medium transition-colors duration-300 ${e==="support"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Support Categories"})]}),e==="contact"&&s.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",value:r.name,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:r.category,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"general",children:"General Inquiry"}),s.jsx("option",{value:"order",children:"Order Support"}),s.jsx("option",{value:"technical",children:"Technical Support"}),s.jsx("option",{value:"billing",children:"Billing Issue"}),s.jsx("option",{value:"return",children:"Return/Exchange"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",name:"subject",value:r.subject,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Brief description of your issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{name:"message",value:r.message,onChange:a,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Please describe your issue in detail..."})]}),s.jsxs("button",{type:"submit",className:"w-full bg-orange-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-orange-600 transition-colors duration-300 flex items-center justify-center gap-2",children:["Send Message",s.jsx(Gx,{className:"h-5 w-5"})]})]})]}),e==="faq"&&s.jsx(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-4",children:l.map((c,u)=>s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(pr,{className:"h-5 w-5 text-orange-500"}),c.question]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.answer})]},u))}),e==="support"&&s.jsx(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"grid md:grid-cols-2 gap-6",children:d.map((c,u)=>s.jsx(D.div,{whileHover:{scale:1.02,y:-2},transition:{duration:.3},className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-300",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(c.icon,{className:`h-8 w-8 ${c.color} flex-shrink-0`}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:c.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:c.description}),s.jsxs("button",{className:"text-orange-500 font-medium hover:text-orange-600 transition-colors duration-300 flex items-center gap-1",children:["Get Help",s.jsx(Gx,{className:"h-4 w-4"})]})]})]})},u))})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ze,{className:"h-8 w-8 text-orange-500"}),"Business Hours"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Monday - Friday"}),s.jsx("span",{className:"font-medium",children:"9:00 AM - 9:00 PM"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Saturday"}),s.jsx("span",{className:"font-medium",children:"10:00 AM - 8:00 PM"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sunday"}),s.jsx("span",{className:"font-medium",children:"10:00 AM - 6:00 PM"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Emergency Support"}),s.jsx("span",{className:"font-medium text-green-600",children:"24/7 Available"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[s.jsx(Ct,{className:"h-8 w-8 text-orange-500"}),"Our Location"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Head Office"}),s.jsxs("p",{className:"text-gray-600",children:["123 Business District",s.jsx("br",{}),"Mumbai, Maharashtra 400001",s.jsx("br",{}),"India"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Customer Service Center"}),s.jsxs("p",{className:"text-gray-600",children:["CS Store Customer Care",s.jsx("br",{}),"Ground Floor, Tech Park",s.jsx("br",{}),"Bangalore, Karnataka 560001"]})]})]})]})]}),s.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"bg-gradient-to-r from-orange-500 to-red-600 rounded-xl p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"What Our Customers Say"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{name:"Priya Sharma",rating:5,comment:"Excellent customer service! They resolved my order issue within minutes."},{name:"Rajesh Kumar",rating:5,comment:"Very helpful and friendly support team. Highly recommended!"},{name:"Anita Patel",rating:5,comment:"Quick response and professional assistance. Great experience!"}].map((c,u)=>s.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center mb-3",children:[...Array(c.rating)].map((h,m)=>s.jsx(ot,{className:"h-5 w-5 text-yellow-400 fill-current"},m))}),s.jsxs("p",{className:"text-orange-100 mb-4 italic",children:['"',c.comment,'"']}),s.jsxs("p",{className:"font-semibold",children:["- ",c.name]})]},u))})]})]})]})},GL=()=>{const[e,t]=N.useState("whatsapp"),[r,n]=N.useState(new Set),[a,i]=N.useState(new Set(["reminders"])),{success:o,error:l}=Ts(),{data:d,isLoading:c}=Hj(void 0,{skip:!1}),[u]=Wj(),[h,m]=N.useState({whatsapp:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!0,subcategories:{reminders_cart:!0,reminders_payment:!0,reminders_restock:!0}},silentPay:!0,recommendations:!0,newOffers:!0,community:!1,feedback:!0,newProductAlerts:!0}},email:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!0,subcategories:{reminders_cart:!0,reminders_payment:!0,reminders_restock:!0}},silentPay:!0,recommendations:!0,newOffers:!0,community:!0,feedback:!0,newProductAlerts:!0}},sms:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!1,subcategories:{reminders_cart:!1,reminders_payment:!1,reminders_restock:!1}},silentPay:!1,recommendations:!1,newOffers:!1,community:!1,feedback:!1,newProductAlerts:!1}},push:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!0,subcategories:{reminders_cart:!0,reminders_payment:!0,reminders_restock:!0}},silentPay:!0,recommendations:!0,newOffers:!0,community:!1,feedback:!0,newProductAlerts:!0}},desktop:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!0,subcategories:{reminders_cart:!0,reminders_payment:!0,reminders_restock:!0}},silentPay:!0,recommendations:!0,newOffers:!0,community:!1,feedback:!0,newProductAlerts:!0}},inapp:{enabled:!0,categories:{myOrders:!0,reminders:{enabled:!0,subcategories:{reminders_cart:!0,reminders_payment:!0,reminders_restock:!0}},silentPay:!0,recommendations:!0,newOffers:!0,community:!0,feedback:!0,newProductAlerts:!0}}}),f=[{id:"whatsapp",name:"WhatsApp",icon:Ec,description:"Get instant messages on WhatsApp",color:"text-green-600",bgColor:"bg-green-50"},{id:"email",name:"Email",icon:Wt,description:"Receive notifications via email",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"sms",name:"SMS",icon:dp,description:"Get text messages on your phone",color:"text-orange-600",bgColor:"bg-orange-50"},{id:"push",name:"Push Notifications",icon:Ot,description:"Browser and app notifications",color:"text-purple-600",bgColor:"bg-purple-50"},{id:"desktop",name:"Desktop Notifications",icon:mP,description:"Desktop browser notifications",color:"text-indigo-600",bgColor:"bg-indigo-50"},{id:"inapp",name:"In-App Notifications",icon:Ot,description:"Notifications within the app",color:"text-red-600",bgColor:"bg-red-50"}],p=[{id:"myOrders",title:"My Orders & Deliveries",description:"Order status, shipping updates, real-time delivery status",icon:LP},{id:"reminders",title:"Reminders & Alerts",description:"Alerts for items, payments, and low stock",icon:Ot,expandable:!0,subcategories:[{id:"reminders_cart",title:"Reminders for Items in Cart",description:"Items left in your cart"},{id:"reminders_payment",title:"Reminders for Pending Payments",description:"Payment due reminders"},{id:"reminders_restock",title:"Notify Me When Item Restocks",description:"Out of stock item notifications"}]},{id:"silentPay",title:"Silent Payment Monitoring",description:"Confirmation and status of silent payment tracking (Razorpay)",icon:gs},{id:"recommendations",title:"Recommendations from CS Store",description:"Product suggestions based on viewing and purchase history",icon:ot},{id:"newProductAlerts",title:"New Product Alerts",description:"Be the first to know when new products are added to CS Store",icon:Tc},{id:"newOffers",title:"New Offers & Promotions",description:"Exclusive deals, discounts, and upcoming sales",icon:mo},{id:"community",title:"CS Store Community",description:"Reviews, Q&A, and community interaction updates",icon:ot},{id:"feedback",title:"Feedback & Review Requests",description:"Reminders to rate products and delivery experience",icon:gs}];N.useEffect(()=>{d&&m(d)},[d]);const v=async(b,x,g,S)=>{const P=g?`${b}-${x}-${g}`:`${b}-${x}`;n(k=>new Set([...k,P]));try{const k=h[b]||{enabled:!0,categories:{}},E=k.categories||{};let A={...E};if(g){if(x==="reminders"){const C=E.reminders||{enabled:!0,subcategories:{}},R={...C.subcategories||{},[g]:S};A={...A,reminders:{...C,subcategories:R}}}}else if(x==="reminders"){const C=E.reminders||{enabled:!1,subcategories:{reminders_cart:!1,reminders_payment:!1,reminders_restock:!1}},R=S??!1,O={...C.subcategories||{},reminders_cart:R,reminders_payment:R,reminders_restock:R};A={...A,reminders:{...C,enabled:R,subcategories:O}}}else A={...A,[x]:S};const T={...k,categories:A},M={...h,[b]:T};m(M),await u({preferences:M}).unwrap(),o("Preferences updated")}catch(k){l("Failed to save preferences"),console.error("Save error:",k)}finally{setTimeout(()=>{n(k=>{const E=new Set(k);return E.delete(P),E})},1e3)}},j=b=>{i(x=>{const g=new Set(x);return g.has(b)?g.delete(b):g.add(b),g})},w=f.find(b=>b.id===e),y=h[e];return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading preferences..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"py-6",children:s.jsx("div",{className:"flex items-center gap-3 justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ao,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Preferences"}),s.jsx("p",{className:"text-gray-600",children:"Manage how you receive notifications"})]})]})})})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Channels"}),s.jsx("div",{className:"space-y-2",children:f.map(b=>{const x=b.icon,g=e===b.id;return s.jsx(D.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsx("button",{onClick:()=>t(b.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${g?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${b.bgColor}`,children:s.jsx(x,{className:`h-5 w-5 ${b.color}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),s.jsx("p",{className:"text-sm text-gray-500",children:b.description})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:g&&s.jsx(Rr,{className:"h-4 w-4 text-gray-400"})})]})})},b.id)})})]})})}),s.jsx("div",{className:"flex-1",children:s.jsx(Fa,{mode:"wait",children:s.jsxs(D.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("div",{className:"flex items-center gap-4",children:w&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`p-3 rounded-lg ${w.bgColor}`,children:s.jsx(w.icon,{className:`h-6 w-6 ${w.color}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w.name}),s.jsx("p",{className:"text-gray-600",children:e==="whatsapp"?"Get instant messages on your CS Store registered WhatsApp number":`Receive notifications via ${w.name.toLowerCase()}`})]})]})})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:p.map(b=>{var P,k,E,A;const x=a.has(b.id),g=b.icon;let S=!1;return b.id==="reminders"?S=((k=(P=y==null?void 0:y.categories)==null?void 0:P.reminders)==null?void 0:k.enabled)||!1:S=((E=y==null?void 0:y.categories)==null?void 0:E[b.id])||!1,s.jsx("div",{className:"border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:s.jsx(g,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-600",children:b.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r.has(`${e}-${b.id}`)&&s.jsx("div",{className:"flex items-center gap-2 text-sm text-green-600",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("label",{className:"flex items-center cursor-pointer",children:s.jsx("input",{type:"checkbox",checked:S,onChange:T=>v(e,b.id,void 0,T.target.checked),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),b.expandable&&s.jsx("button",{onClick:()=>j(b.id),className:"p-1 hover:bg-gray-100 rounded",children:x?s.jsx(Xj,{className:"h-4 w-4 text-gray-400"}):s.jsx(wa,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsx(Fa,{children:b.expandable&&x&&s.jsx(D.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 ml-12 space-y-3 border-l-2 border-gray-100 pl-4",children:(A=b.subcategories)==null?void 0:A.map(T=>{var R,O,I;const M=((I=(O=(R=y==null?void 0:y.categories)==null?void 0:R.reminders)==null?void 0:O.subcategories)==null?void 0:I[T.id])||!1,C=`${e}-${b.id}-${T.id}`;return s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:T.title}),s.jsx("p",{className:"text-sm text-gray-600",children:T.description})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r.has(C)&&s.jsx("div",{className:"flex items-center gap-2 text-sm text-green-600",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("label",{className:"flex items-center cursor-pointer",children:s.jsx("input",{type:"checkbox",checked:M,onChange:F=>v(e,b.id,T.id,F.target.checked),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})})]})]},T.id)})})})]})},b.id)})})})]},e)})})]})})]})},$y=()=>{const e=ft(),t=ne(),{isAuthenticated:r}=de(C=>C.auth),[n,a]=N.useState(!1),[i,o]=N.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[l,d]=N.useState({old:!1,new:!1,confirm:!1}),{data:c}=Un(void 0,{skip:!r}),{data:u,isLoading:h,refetch:m}=Hj(void 0,{skip:!r}),[f]=Wj(),[p,{isLoading:v}]=qC(),[j,{isLoading:w}]=WC(),{currency:y,setCurrency:b}=cA(),{language:x,setLanguage:g}=Qa(),[S,P]=N.useState({orderUpdates:!0,promotions:!1,newsletter:!0,sms:!0});N.useEffect(()=>{u&&P({orderUpdates:u.orderUpdates??!0,promotions:u.promotions??!1,newsletter:u.newsletter??!0,sms:u.sms??!0})},[u]);const k=async C=>{var O;const R={...S,[C]:!S[C]};P(R);try{await f(R).unwrap(),_e.success("Notification preferences updated")}catch(I){_e.error(((O=I==null?void 0:I.data)==null?void 0:O.message)||"Failed to update preferences"),P(S)}},E=C=>{d(R=>({...R,[C]:!R[C]}))},A=async()=>{var I;const{oldPassword:C,newPassword:R,confirmPassword:O}=i;if(!C||!R){_e.error("All fields are required");return}if(R!==O){_e.error("New passwords do not match");return}if(R.length<6){_e.error("New password must be at least 6 characters");return}try{await p({currentPassword:C,newPassword:R}).unwrap(),_e.success("Password changed successfully"),a(!1),o({oldPassword:"",newPassword:"",confirmPassword:""})}catch(F){_e.error(((I=F==null?void 0:F.data)==null?void 0:I.message)||"Failed to change password")}},T=()=>{window.confirm("Are you sure you want to logout?")&&(localStorage.clear(),sessionStorage.clear(),e(On()),t("/"),_e.success("Logged out successfully"))},M=async()=>{var R;if(window.confirm("Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data."))try{await j(void 0).unwrap(),_e.success("Account deleted successfully"),localStorage.clear(),sessionStorage.clear(),e(On()),t("/")}catch(O){_e.error(((R=O==null?void 0:O.data)==null?void 0:R.message)||"Failed to delete account")}};return h?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx(ls,{variant:"text",width:"40%"}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsx(ls,{variant:"rectangular",height:60}),s.jsx(ls,{variant:"rectangular",height:60}),s.jsx(ls,{variant:"rectangular",height:60})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx(ls,{variant:"text",width:"40%"}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsx(ls,{variant:"rectangular",height:50}),s.jsx(ls,{variant:"rectangular",height:50})]})]})]})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-10",children:[s.jsx(D.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white py-4 px-4 shadow-sm sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/account"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Ne,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account preferences"})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ot,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Notification Preferences"})]}),h?s.jsx("p",{className:"text-sm text-gray-500",children:"Loading preferences"}):s.jsx("div",{className:"space-y-4",children:[{key:"orderUpdates",label:"Order Updates",desc:"Order status changes"},{key:"promotions",label:"Promotions",desc:"Special offers & deals"},{key:"newsletter",label:"Newsletter",desc:"Weekly updates"},{key:"sms",label:"SMS Notifications",desc:"Delivery updates via SMS"}].map(C=>s.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:C.label}),s.jsx("p",{className:"text-sm text-gray-500",children:C.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:S[C.key],onChange:()=>k(C.key),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:h-5 after:w-5 after:rounded-full after:transition-all peer-checked:after:translate-x-full"})]})]},C.key))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(ar,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Appearance"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Language"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred language"})]}),s.jsxs("select",{value:x,onChange:C=>g(C.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"language-select",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"hi",children:""}),s.jsx("option",{value:"te",children:""})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Currency"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Display prices in your currency"})]}),s.jsxs("select",{value:y,onChange:C=>b(C.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"currency-select",children:[s.jsx("option",{value:"USD",children:"USD ($)"}),s.jsx("option",{value:"INR",children:"INR ()"}),s.jsx("option",{value:"EUR",children:"EUR ()"}),s.jsx("option",{value:"GBP",children:"GBP ()"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(gs,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Privacy & Security"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:()=>a(!0),className:"w-full flex items-center justify-between px-4 py-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_a,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:"Change Password"})]}),s.jsx("span",{className:"text-gray-400",children:""})]}),s.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(np,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:"Download My Data"})]}),s.jsx("span",{className:"text-gray-400",children:""})]}),s.jsxs("button",{onClick:T,className:"w-full flex items-center justify-between px-4 py-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ne,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:"Logout"})]}),s.jsx("span",{className:"text-gray-400",children:""})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(hp,{className:"h-5 w-5 text-red-600"}),s.jsx("h2",{className:"text-lg font-semibold text-red-800",children:"Danger Zone"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Permanently delete your account and all associated data."}),s.jsxs("button",{onClick:M,disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2","data-testid":"delete-account-button",children:[w&&s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:w?"Deleting...":"Delete Account"})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs("div",{className:"inline-flex items-center text-gray-600 space-x-2",children:[s.jsx(pr,{className:"h-4 w-4"}),s.jsxs("span",{children:["Need help? Visit our"," ",s.jsx("a",{href:"/help-support",className:"text-blue-600 font-medium",children:"Help Center"})]})]})})]}),n&&s.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-4",children:s.jsxs(D.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white p-6 rounded-xl w-full max-w-md shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Change Password"}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",onClick:()=>a(!1),children:s.jsx(gt,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Current Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:l.old?"text":"password",value:i.oldPassword,onChange:C=>o(R=>({...R,oldPassword:C.target.value})),className:"w-full border px-3 py-2 rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>E("old"),className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.old?s.jsx(Na,{className:"h-4 w-4 text-gray-500"}):s.jsx(ar,{className:"h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"New Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:l.new?"text":"password",value:i.newPassword,onChange:C=>o(R=>({...R,newPassword:C.target.value})),className:"w-full border px-3 py-2 rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>E("new"),className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.new?s.jsx(Na,{className:"h-4 w-4 text-gray-500"}):s.jsx(ar,{className:"h-4 w-4 text-gray-500"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Confirm New Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:l.confirm?"text":"password",value:i.confirmPassword,onChange:C=>o(R=>({...R,confirmPassword:C.target.value})),className:"w-full border px-3 py-2 rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>E("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.confirm?s.jsx(Na,{className:"h-4 w-4 text-gray-500"}):s.jsx(ar,{className:"h-4 w-4 text-gray-500"})})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs("button",{onClick:A,disabled:v,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2","data-testid":"change-password-submit",children:[v&&s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:v?"Changing...":"Change Password"})]}),s.jsx("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center text-center p-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Login Required"}),s.jsx("p",{className:"mb-4 text-gray-600",children:"Please log in to access your settings."}),s.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg",onClick:()=>t("/login"),children:"Go to Login"})]})})};function YL({children:e}){const{user:t,isAuthenticated:r}=de(v=>v.auth),n=ts(),{data:a,isLoading:i,isFetching:o,isUninitialized:l}=Un(void 0,{skip:!r});if(t!=null&&t.isAdmin||(t==null?void 0:t.role)==="admin")return s.jsx(s.Fragment,{children:e});if(r&&(i||o||l))return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const c=typeof(a==null?void 0:a.name)=="string"&&a.name.trim().length>0||typeof(a==null?void 0:a.fullName)=="string"&&a.fullName.trim().length>0,u=typeof(a==null?void 0:a.phone)=="string"&&a.phone.trim().length>0,h=c&&u,m=n.pathname.startsWith("/onboarding"),f=n.pathname.startsWith("/auth/callback"),p=n.pathname==="/"||n.pathname==="/signup"||n.pathname==="/login"||n.pathname==="/download-app"||n.pathname==="/contact-us"||n.pathname==="/about-us"||n.pathname==="/careers"||n.pathname==="/cs-store-stories"||n.pathname==="/corporate-information"||n.pathname.startsWith("/auth/callback");return r&&!h&&!m&&!p&&!f?s.jsx(nr,{to:"/onboarding/complete-profile",replace:!0}):s.jsx(s.Fragment,{children:e})}function JL(){const{isAuthenticated:e,user:t}=de(a=>a.auth),r=ts(),n=typeof window<"u"&&localStorage.getItem("isLoggingOut")==="true";if(e&&(t!=null&&t.isAdmin||(t==null?void 0:t.role)==="admin")&&!n){if(r.pathname==="/onboarding/complete-profile")return s.jsx(nr,{to:"/admin",replace:!0});if(!r.pathname.startsWith("/admin")&&!r.pathname.startsWith("/auth/callback")&&r.pathname!=="/dashboard")return s.jsx(nr,{to:"/admin",replace:!0})}return s.jsxs(Vf,{children:[s.jsx(te,{path:"/",element:s.jsx(_l,{children:s.jsx(wy,{})})}),s.jsx(te,{path:"/login",element:s.jsx(_l,{children:s.jsx(wy,{})})}),s.jsx(te,{path:"/dashboard",element:e?t!=null&&t.isAdmin||(t==null?void 0:t.role)==="admin"?s.jsx(nr,{to:"/admin",replace:!0}):s.jsx(YL,{children:s.jsx(_l,{hideBottomNav:!0,children:s.jsx(NM,{})})}):s.jsx(nr,{to:"/",replace:!0})}),s.jsx(te,{path:"/*",element:s.jsx(XL,{})})]})}function XL(){return s.jsx(_l,{children:s.jsxs(Vf,{children:[s.jsx(te,{path:"/products",element:s.jsx(EM,{})}),s.jsx(te,{path:"/search",element:s.jsx(zL,{})}),s.jsx(te,{path:"/product/:id",element:s.jsx(RM,{})}),s.jsx(te,{path:"/cart",element:s.jsx(At,{children:s.jsx(IM,{})})}),s.jsx(te,{path:"/payment",element:s.jsx(At,{children:s.jsx(qM,{})})}),s.jsx(te,{path:"/checkout",element:s.jsx(At,{children:s.jsx(HM,{})})}),s.jsx(te,{path:"/orders",element:s.jsx(At,{children:s.jsx(L8,{})})}),s.jsx(te,{path:"/orders/:orderId",element:s.jsx(At,{children:s.jsx(_8,{})})}),s.jsx(te,{path:"/order/:id",element:s.jsx(At,{children:s.jsx(z8,{})})}),s.jsx(te,{path:"/profile",element:s.jsx(At,{children:s.jsx(V8,{})})}),s.jsx(te,{path:"/signup",element:s.jsx(K8,{})}),s.jsx(te,{path:"/become-seller",element:s.jsx(BL,{})}),s.jsx(te,{path:"/download-app",element:s.jsx(UL,{})}),s.jsx(te,{path:"/contact-us",element:s.jsx(VL,{})}),s.jsx(te,{path:"/customer-care",element:s.jsx(QL,{})}),s.jsx(te,{path:"/notification-preferences",element:s.jsx(At,{redirectTo:"/login",children:s.jsx(GL,{})})}),s.jsx(te,{path:"/settings",element:s.jsx(At,{children:s.jsx($y,{})})}),s.jsx(te,{path:"/about-us",element:s.jsx(qL,{})}),s.jsx(te,{path:"/careers",element:s.jsx(HL,{})}),s.jsx(te,{path:"/cs-store-stories",element:s.jsx(WL,{})}),s.jsx(te,{path:"/corporate-information",element:s.jsx(KL,{})}),s.jsx(te,{path:"/menu",element:s.jsx(Q8,{})}),s.jsx(te,{path:"/admin",element:s.jsx(Is,{children:s.jsx(G8,{})})}),s.jsx(te,{path:"/admin/products",element:s.jsx(Is,{children:s.jsx(J8,{})})}),s.jsx(te,{path:"/admin/products/new",element:s.jsx(Is,{children:s.jsx(Z8,{})})}),s.jsx(te,{path:"/admin/users",element:s.jsx(Is,{children:s.jsx(eL,{})})}),s.jsx(te,{path:"/admin/orders",element:s.jsx(Is,{children:s.jsx(tL,{})})}),s.jsx(te,{path:"/admin/orders/:orderId",element:s.jsx(Is,{children:s.jsx(sL,{})})}),s.jsx(te,{path:"/admin/delivery-boys",element:s.jsx(Is,{children:s.jsx(rL,{})})}),s.jsx(te,{path:"/admin/analytics",element:s.jsx(Is,{children:s.jsx(nL,{})})}),s.jsx(te,{path:"/admin/payments",element:s.jsx(Is,{children:s.jsx(iL,{})})}),s.jsx(te,{path:"/admin-profile",element:s.jsx(Is,{children:s.jsx(aL,{})})}),s.jsx(te,{path:"/delivery/signup",element:s.jsx(wL,{})}),s.jsx(te,{path:"/delivery/login",element:s.jsx(NL,{})}),s.jsx(te,{path:"/delivery",element:s.jsx(Dy,{})}),s.jsx(te,{path:"/delivery/dashboard",element:s.jsx(Dy,{})}),s.jsx(te,{path:"/delivery-selfie",element:s.jsx(kL,{})}),s.jsx(te,{path:"/delivery-profile",element:s.jsx(SL,{})}),s.jsx(te,{path:"/delivery/emergency",element:s.jsx(CL,{})}),s.jsx(te,{path:"/delivery/help-center",element:s.jsx(PL,{})}),s.jsx(te,{path:"/ways-to-earn",element:s.jsx(AL,{})}),s.jsx(te,{path:"/refer-and-earn",element:s.jsx(EL,{})}),s.jsx(te,{path:"/help-support",element:s.jsx(TL,{})}),s.jsx(te,{path:"/message-center",element:s.jsx(RL,{})}),s.jsx(te,{path:"/delivery-settings",element:s.jsx(OL,{})}),s.jsx(te,{path:"/admin-login",element:s.jsx(nr,{to:"/login",replace:!0})}),s.jsx(te,{path:"/admin/login",element:s.jsx(nr,{to:"/login",replace:!0})}),s.jsx(te,{path:"/categories",element:s.jsx(ML,{})}),s.jsx(te,{path:"/account",element:s.jsx(At,{children:s.jsx(Iy,{})})}),s.jsx(te,{path:"/account/profile",element:s.jsx(At,{children:s.jsx(Iy,{})})}),s.jsx(te,{path:"/account/profile/edit",element:s.jsx(At,{children:s.jsx(LL,{})})}),s.jsx(te,{path:"/account/settings",element:s.jsx(At,{children:s.jsx($y,{})})}),s.jsx(te,{path:"/account/notifications",element:s.jsx(At,{children:s.jsx(DL,{})})}),s.jsx(te,{path:"/addresses",element:s.jsx(At,{children:s.jsx(q8,{})})}),s.jsx(te,{path:"/auth/callback",element:s.jsx(IL,{})}),s.jsx(te,{path:"/test-otp",element:s.jsx($L,{})}),s.jsx(te,{path:"/debug",element:s.jsx(FL,{})}),s.jsx(te,{path:"*",element:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Page not found"}),s.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-700 underline",children:"Go to Home"})]})})})]})})}function ZL(){return s.jsx(GS,{store:Cc,children:s.jsx(HR,{children:s.jsx(uA,{children:s.jsx(t3,{children:s.jsx(lA,{children:s.jsxs(I5,{children:[s.jsx(Z6,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}}}}),s.jsx(Vf,{children:s.jsx(te,{path:"/*",element:s.jsx(JL,{})})})]})})})})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>e.forEach(t=>t.unregister()));th.createRoot(document.getElementById("root")).render(s.jsx(ZL,{}));
