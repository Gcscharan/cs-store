PROJECT STRUCTURE AND DOMAIN BLOCKS
=================================

ROOT
----
- backend/
- frontend/
- project-structure-and-domains.txt (this file)

BACKEND (Node.js/Express + TypeScript)
--------------------------------------
Path: backend/

- package.json
- tsconfig.json
- nodemon.json
- src/
  - index.ts
  - app.ts
  - config/
    - redis.ts
    - cloudinary.ts
    - (other config files...)
  - middleware/
    - auth.ts
    - cache.ts
    - errorHandler.ts
    - security.ts
  - models/
    - User.ts
    - Product.ts
    - Order.ts
    - Cart.ts
    - Payment.ts
    - Pincode.ts
    - DeliveryBoy.ts
    - Notification.ts
    - Otp.ts
  - services/
    - notificationService.ts
    - mailService.ts
    - routeAssignmentService.ts
    - deliveryFeeService.ts
    - smartAssignmentService.ts
    - socketService.ts
  - routes/
    - admin.ts
    - cart.ts
    - cloudinary.ts
    - deliveryAuth.ts
    - deliveryFee.ts
    - deliveryPersonnel.ts
    - deliveryRoutes.ts
    - enhancedDeliveryFeeRoutes.ts
    - locationRoutes.ts
    - notificationTest.ts
    - notifications.ts
    - orders.ts
    - otpRoutes.ts
    - paymentRoutes.ts / paymentRoutes.js
    - pincode.ts
    - pincodeRoutes.ts
    - razorpay.ts
    - webhooks.ts
  - controllers/
    - adminController.ts
    - cardValidationController.ts
    - cartController.ts
    - cloudinaryController.ts
    - deliveryAuthController.ts
    - deliveryController.ts
    - deliveryPersonnelController.ts
    - enhancedDeliveryFeeController.ts
    - locationController.ts
    - notificationController.ts
    - orderAssignmentController.ts
    - otpController.ts
    - paymentController.ts
    - pincodeController.ts
    - razorpayController.ts
    - upiController.ts
    - webhookController.ts
  - domains/
    - identity/
      - controllers/
        - authController.ts
        - userController.ts
      - routes/
        - auth.ts
        - user.ts
    - catalog/
      - controllers/
        - productController.ts
      - routes/
        - products.ts
    - operations/
      - controllers/
        - orderController.ts
        - deliveryOrderController.ts
      - services/
        - deliveryPartnerLoadService.ts
    - communication/
      (reserved for notification/UX-related domain modules)
    - security/
      (reserved for hardening / auth-related domain modules)
    - finance/
      (reserved for payment/finance-related domain modules)

FRONTEND (React/Vite)
---------------------
Path: frontend/

- package.json
- vite.config.*
- tsconfig.json or jsconfig.json
- src/
  - main entry (main.tsx / main.jsx)
  - App.tsx
  - components/
    (UI components, shared widgets)
  - pages/
    (route-level pages for customer/admin flows)
  - hooks/
    - useLogout.ts
    (and other custom hooks...)
  - context/
    (React context providers)
  - services/api/
    (API client wrappers)
  - assets/
    (images, icons, styles)

DOMAIN BLOCKS (CONCEPTUAL MAPPING)
----------------------------------

1) Identity (Authentication & User Management)
   - Backend core:
     - src/domains/identity/controllers/authController.ts
     - src/domains/identity/controllers/userController.ts
     - src/domains/identity/routes/auth.ts
     - src/domains/identity/routes/user.ts
     - src/middleware/auth.ts
     - src/models/User.ts
     - src/models/Otp.ts
   - Frontend examples (conceptual only):
     - src/hooks/useLogout.ts
     - Auth/login/signup pages and profile pages

2) Catalog (Product & Catalog Management)
   - Backend core:
     - src/domains/catalog/controllers/productController.ts
     - src/domains/catalog/routes/products.ts
     - src/models/Product.ts
     - src/middleware/cache.ts
     - src/config/redis.ts
   - Frontend examples (conceptual only):
     - Product list/detail pages
     - Search/filter UI

3) Operations (Order Fulfillment & Logistics)
   - Backend core:
     - src/domains/operations/controllers/orderController.ts
     - src/domains/operations/controllers/deliveryOrderController.ts
     - src/domains/operations/services/deliveryPartnerLoadService.ts
     - src/services/routeAssignmentService.ts
     - src/routes/orders.ts
     - src/routes/deliveryAuth.ts
     - src/models/Order.ts
     - src/models/DeliveryBoy.ts
     - src/models/Cart.ts
   - Frontend examples (conceptual only):
     - My Orders page / order tracking views

4) Communication (Communication & Feedback / UX Layer)
   - Backend (current & future):
     - src/services/notificationService.ts
     - src/controllers/notificationController.ts
     - src/routes/notifications.ts
     - src/routes/notificationTest.ts
     - (later: may be moved under src/domains/communication/)
   - Frontend (conceptual):
     - Toasts, banners, notification center, cart animations

5) Security (Security & Compliance / Hardening)
   - Backend (current & future):
     - src/middleware/security.ts
     - src/config/redis.ts (token blacklisting storage)
     - src/domains/identity/controllers/authController.ts (logout, refresh, blacklist checks)
     - src/domains/identity/controllers/userController.ts (account/profile security)
   - Frontend (conceptual):
     - Guarded routes, auth guards, secure logout UX

6) Finance (Payment Processing)
   - Backend core:
     - src/controllers/paymentController.ts
     - src/controllers/razorpayController.ts
     - src/controllers/webhookController.ts
     - src/routes/paymentRoutes.ts / paymentRoutes.js
     - src/routes/razorpay.ts
     - src/routes/webhooks.ts
     - src/models/Payment.ts
   - Frontend (conceptual):
     - Checkout pages, payment success/failure UI

Notes
-----
- This file is a documentation aid only; actual code lives in the paths listed above.
- Backend domain reorganization keeps shared models/utils/middleware in central src/* folders and moves domain-specific controllers/routes/services into src/domains/*.
